var kA=Object.defineProperty;var Gx=e=>{throw TypeError(e)};var CA=(e,t,r)=>t in e?kA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var O=(e,t,r)=>CA(e,typeof t!="symbol"?t+"":t,r),tf=(e,t,r)=>t.has(e)||Gx("Cannot "+r);var D=(e,t,r)=>(tf(e,t,"read from private field"),r?r.call(e):t.get(e)),Re=(e,t,r)=>t.has(e)?Gx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),be=(e,t,r,s)=>(tf(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Ze=(e,t,r)=>(tf(e,t,"access private method"),r);var Yc=(e,t,r,s)=>({set _(a){be(e,t,a,r)},get _(){return D(e,t,s)}});function _A(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function IN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RN={exports:{}},ih={},MN={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),PA=Symbol.for("react.portal"),EA=Symbol.for("react.fragment"),TA=Symbol.for("react.strict_mode"),AA=Symbol.for("react.profiler"),IA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),MA=Symbol.for("react.forward_ref"),FA=Symbol.for("react.suspense"),DA=Symbol.for("react.memo"),OA=Symbol.for("react.lazy"),Zx=Symbol.iterator;function LA(e){return e===null||typeof e!="object"?null:(e=Zx&&e[Zx]||e["@@iterator"],typeof e=="function"?e:null)}var FN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DN=Object.assign,ON={};function Go(e,t,r){this.props=e,this.context=t,this.refs=ON,this.updater=r||FN}Go.prototype.isReactComponent={};Go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LN(){}LN.prototype=Go.prototype;function Op(e,t,r){this.props=e,this.context=t,this.refs=ON,this.updater=r||FN}var Lp=Op.prototype=new LN;Lp.constructor=Op;DN(Lp,Go.prototype);Lp.isPureReactComponent=!0;var Yx=Array.isArray,zN=Object.prototype.hasOwnProperty,zp={current:null},$N={key:!0,ref:!0,__self:!0,__source:!0};function VN(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)zN.call(t,s)&&!$N.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Ic,type:e,key:i,ref:o,props:a,_owner:zp.current}}function zA(e,t){return{$$typeof:Ic,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $p(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ic}function $A(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xx=/\/+/g;function rf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$A(""+e.key):t.toString(36)}function _d(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ic:case PA:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+rf(o,0):s,Yx(a)?(r="",e!=null&&(r=e.replace(Xx,"$&/")+"/"),_d(a,t,r,"",function(d){return d})):a!=null&&($p(a)&&(a=zA(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Xx,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Yx(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+rf(i,l);o+=_d(i,t,r,c,a)}else if(c=LA(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+rf(i,l++),o+=_d(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xc(e,t,r){if(e==null)return e;var s=[],a=0;return _d(e,s,"","",function(i){return t.call(r,i,a++)}),s}function VA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fr={current:null},Pd={transition:null},HA={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:zp};function HN(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Xc,forEach:function(e,t,r){Xc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xc(e,function(){t++}),t},toArray:function(e){return Xc(e,function(t){return t})||[]},only:function(e){if(!$p(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=Go;tt.Fragment=EA;tt.Profiler=AA;tt.PureComponent=Op;tt.StrictMode=TA;tt.Suspense=FA;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HA;tt.act=HN;tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=DN({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zN.call(t,c)&&!$N.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Ic,type:e.type,key:a,ref:i,props:s,_owner:o}};tt.createContext=function(e){return e={$$typeof:RA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IA,_context:e},e.Consumer=e};tt.createElement=VN;tt.createFactory=function(e){var t=VN.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:MA,render:e}};tt.isValidElement=$p;tt.lazy=function(e){return{$$typeof:OA,_payload:{_status:-1,_result:e},_init:VA}};tt.memo=function(e,t){return{$$typeof:DA,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Pd.transition;Pd.transition={};try{e()}finally{Pd.transition=t}};tt.unstable_act=HN;tt.useCallback=function(e,t){return Fr.current.useCallback(e,t)};tt.useContext=function(e){return Fr.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return Fr.current.useDeferredValue(e)};tt.useEffect=function(e,t){return Fr.current.useEffect(e,t)};tt.useId=function(){return Fr.current.useId()};tt.useImperativeHandle=function(e,t,r){return Fr.current.useImperativeHandle(e,t,r)};tt.useInsertionEffect=function(e,t){return Fr.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return Fr.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return Fr.current.useMemo(e,t)};tt.useReducer=function(e,t,r){return Fr.current.useReducer(e,t,r)};tt.useRef=function(e){return Fr.current.useRef(e)};tt.useState=function(e){return Fr.current.useState(e)};tt.useSyncExternalStore=function(e,t,r){return Fr.current.useSyncExternalStore(e,t,r)};tt.useTransition=function(){return Fr.current.useTransition()};tt.version="18.3.1";MN.exports=tt;var h=MN.exports;const Pe=IN(h),BN=_A({__proto__:null,default:Pe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA=h,UA=Symbol.for("react.element"),WA=Symbol.for("react.fragment"),KA=Object.prototype.hasOwnProperty,qA=BA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QA={key:!0,ref:!0,__self:!0,__source:!0};function UN(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)KA.call(t,s)&&!QA.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:UA,type:e,key:i,ref:o,props:a,_owner:qA.current}}ih.Fragment=WA;ih.jsx=UN;ih.jsxs=UN;RN.exports=ih;var n=RN.exports,WN={exports:{}},on={},KN={exports:{}},qN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,_){var j=H.length;H.push(_);e:for(;0<j;){var L=j-1>>>1,R=H[L];if(0<a(R,_))H[L]=_,H[j]=R,j=L;else break e}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var _=H[0],j=H.pop();if(j!==_){H[0]=j;e:for(var L=0,R=H.length,q=R>>>1;L<q;){var T=2*(L+1)-1,U=H[T],Z=T+1,B=H[Z];if(0>a(U,j))Z<R&&0>a(B,U)?(H[L]=B,H[Z]=j,L=Z):(H[L]=U,H[T]=j,L=T);else if(Z<R&&0>a(B,j))H[L]=B,H[Z]=j,L=Z;else break e}}return _}function a(H,_){var j=H.sortIndex-_.sortIndex;return j!==0?j:H.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,v=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var _=r(d);_!==null;){if(_.callback===null)s(d);else if(_.startTime<=H)s(d),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(d)}}function k(H){if(g=!1,b(H),!y)if(r(c)!==null)y=!0,K(N);else{var _=r(d);_!==null&&le(k,_.startTime-H)}}function N(H,_){y=!1,g&&(g=!1,x(A),A=-1),v=!0;var j=m;try{for(b(_),f=r(c);f!==null&&(!(f.expirationTime>_)||H&&!S());){var L=f.callback;if(typeof L=="function"){f.callback=null,m=f.priorityLevel;var R=L(f.expirationTime<=_);_=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&s(c),b(_)}else s(c);f=r(c)}if(f!==null)var q=!0;else{var T=r(d);T!==null&&le(k,T.startTime-_),q=!1}return q}finally{f=null,m=j,v=!1}}var F=!1,E=null,A=-1,I=5,C=-1;function S(){return!(e.unstable_now()-C<I)}function $(){if(E!==null){var H=e.unstable_now();C=H;var _=!0;try{_=E(!0,H)}finally{_?X():(F=!1,E=null)}}else F=!1}var X;if(typeof p=="function")X=function(){p($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,de=Q.port2;Q.port1.onmessage=$,X=function(){de.postMessage(null)}}else X=function(){w($,0)};function K(H){E=H,F||(F=!0,X())}function le(H,_){A=w(function(){H(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,K(N))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var j=m;m=_;try{return H()}finally{m=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,_){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var j=m;m=H;try{return _()}finally{m=j}},e.unstable_scheduleCallback=function(H,_,j){var L=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?L+j:L):j=L,H){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=j+R,H={id:u++,callback:_,priorityLevel:H,startTime:j,expirationTime:R,sortIndex:-1},j>L?(H.sortIndex=j,t(d,H),r(c)===null&&H===r(d)&&(g?(x(A),A=-1):g=!0,le(k,j-L))):(H.sortIndex=R,t(c,H),y||v||(y=!0,K(N))),H},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(H){var _=m;return function(){var j=m;m=_;try{return H.apply(this,arguments)}finally{m=j}}}})(qN);KN.exports=qN;var GA=KN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA=h,an=GA;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QN=new Set,Hl={};function Ii(e,t){Io(e,t),Io(e+"Capture",t)}function Io(e,t){for(Hl[e]=t,e=0;e<t.length;e++)QN.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,YA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jx={},ev={};function XA(e){return Xf.call(ev,e)?!0:Xf.call(Jx,e)?!1:YA.test(e)?ev[e]=!0:(Jx[e]=!0,!1)}function JA(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e4(e,t,r,s){if(t===null||typeof t>"u"||JA(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dr(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new Dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pr[t]=new Dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new Dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new Dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new Dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new Dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new Dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new Dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new Dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vp=/[\-:]([a-z])/g;function Hp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vp,Hp);pr[t]=new Dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vp,Hp);pr[t]=new Dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vp,Hp);pr[t]=new Dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bp(e,t,r,s){var a=pr.hasOwnProperty(t)?pr[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e4(t,r,a,s)&&(r=null),s||a===null?XA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Os=ZA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jc=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),GN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),Wp=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),YN=Symbol.for("react.offscreen"),tv=Symbol.iterator;function cl(e){return e===null||typeof e!="object"?null:(e=tv&&e[tv]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Object.assign,nf;function jl(e){if(nf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);nf=t&&t[1]||""}return`
`+nf+e}var sf=!1;function af(e,t){if(!e||sf)return"";sf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{sf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jl(e):""}function t4(e){switch(e.tag){case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return e=af(e.type,!1),e;case 11:return e=af(e.type.render,!1),e;case 1:return e=af(e.type,!0),e;default:return""}}function rm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case Ui:return"Portal";case Jf:return"Profiler";case Up:return"StrictMode";case em:return"Suspense";case tm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZN:return(e.displayName||"Context")+".Consumer";case GN:return(e._context.displayName||"Context")+".Provider";case Wp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kp:return t=e.displayName||null,t!==null?t:rm(e.type)||"Memo";case qs:t=e._payload,e=e._init;try{return rm(e(t))}catch{}}return null}function r4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(t);case 8:return t===Up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n4(e){var t=XN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=n4(e))}function JN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=XN(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nm(e,t){var r=t.checked;return Ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rv(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ja(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function e1(e,t){t=t.checked,t!=null&&Bp(e,"checked",t,!1)}function sm(e,t){e1(e,t);var r=ja(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?am(e,t.type,r):t.hasOwnProperty("defaultValue")&&am(e,t.type,ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function am(e,t,r){(t!=="number"||tu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wl=Array.isArray;function no(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ja(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function im(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return Ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(se(92));if(wl(r)){if(1<r.length)throw Error(se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ja(r)}}function t1(e,t){var r=ja(t.value),s=ja(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function av(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function r1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?r1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var td,n1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s4=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(e){s4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),El[t]=El[e]})});function s1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||El.hasOwnProperty(e)&&El[e]?(""+t).trim():t+"px"}function a1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=s1(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var a4=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(e,t){if(t){if(a4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function cm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dm=null;function qp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var um=null,so=null,ao=null;function iv(e){if(e=Fc(e)){if(typeof um!="function")throw Error(se(280));var t=e.stateNode;t&&(t=uh(t),um(e.stateNode,e.type,t))}}function i1(e){so?ao?ao.push(e):ao=[e]:so=e}function o1(){if(so){var e=so,t=ao;if(ao=so=null,iv(e),t)for(e=0;e<t.length;e++)iv(t[e])}}function l1(e,t){return e(t)}function c1(){}var of=!1;function d1(e,t,r){if(of)return e(t,r);of=!0;try{return l1(e,t,r)}finally{of=!1,(so!==null||ao!==null)&&(c1(),o1())}}function Ul(e,t){var r=e.stateNode;if(r===null)return null;var s=uh(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(se(231,t,typeof r));return r}var hm=!1;if(Ps)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){hm=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{hm=!1}function i4(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Tl=!1,ru=null,nu=!1,fm=null,o4={onError:function(e){Tl=!0,ru=e}};function l4(e,t,r,s,a,i,o,l,c){Tl=!1,ru=null,i4.apply(o4,arguments)}function c4(e,t,r,s,a,i,o,l,c){if(l4.apply(this,arguments),Tl){if(Tl){var d=ru;Tl=!1,ru=null}else throw Error(se(198));nu||(nu=!0,fm=d)}}function Ri(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function u1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ov(e){if(Ri(e)!==e)throw Error(se(188))}function d4(e){var t=e.alternate;if(!t){if(t=Ri(e),t===null)throw Error(se(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ov(a),e;if(i===s)return ov(a),t;i=i.sibling}throw Error(se(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(se(189))}}if(r.alternate!==s)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?e:t}function h1(e){return e=d4(e),e!==null?f1(e):null}function f1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f1(e);if(t!==null)return t;e=e.sibling}return null}var m1=an.unstable_scheduleCallback,lv=an.unstable_cancelCallback,u4=an.unstable_shouldYield,h4=an.unstable_requestPaint,Vt=an.unstable_now,f4=an.unstable_getCurrentPriorityLevel,Qp=an.unstable_ImmediatePriority,p1=an.unstable_UserBlockingPriority,su=an.unstable_NormalPriority,m4=an.unstable_LowPriority,g1=an.unstable_IdlePriority,oh=null,ns=null;function p4(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(oh,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:v4,g4=Math.log,x4=Math.LN2;function v4(e){return e>>>=0,e===0?32:31-(g4(e)/x4|0)|0}var rd=64,nd=4194304;function Nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function au(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=Nl(l):(i&=o,i!==0&&(s=Nl(i)))}else o=r&~a,o!==0?s=Nl(o):i!==0&&(s=Nl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Rn(t),a=1<<r,s|=e[r],t&=~a;return s}function y4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b4(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=y4(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function mm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x1(){var e=rd;return rd<<=1,!(rd&4194240)&&(rd=64),e}function lf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rn(t),e[t]=r}function j4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Rn(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Gp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Rn(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var jt=0;function v1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y1,Zp,b1,j1,w1,pm=!1,sd=[],ua=null,ha=null,fa=null,Wl=new Map,Kl=new Map,Gs=[],w4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cv(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(t.pointerId)}}function ul(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Fc(t),t!==null&&Zp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function N4(e,t,r,s,a){switch(t){case"focusin":return ua=ul(ua,e,t,r,s,a),!0;case"dragenter":return ha=ul(ha,e,t,r,s,a),!0;case"mouseover":return fa=ul(fa,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Wl.set(i,ul(Wl.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Kl.set(i,ul(Kl.get(i)||null,e,t,r,s,a)),!0}return!1}function N1(e){var t=Ya(e.target);if(t!==null){var r=Ri(t);if(r!==null){if(t=r.tag,t===13){if(t=u1(r),t!==null){e.blockedOn=t,w1(e.priority,function(){b1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ed(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);dm=s,r.target.dispatchEvent(s),dm=null}else return t=Fc(r),t!==null&&Zp(t),e.blockedOn=r,!1;t.shift()}return!0}function dv(e,t,r){Ed(e)&&r.delete(t)}function S4(){pm=!1,ua!==null&&Ed(ua)&&(ua=null),ha!==null&&Ed(ha)&&(ha=null),fa!==null&&Ed(fa)&&(fa=null),Wl.forEach(dv),Kl.forEach(dv)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,pm||(pm=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,S4)))}function ql(e){function t(a){return hl(a,e)}if(0<sd.length){hl(sd[0],e);for(var r=1;r<sd.length;r++){var s=sd[r];s.blockedOn===e&&(s.blockedOn=null)}}for(ua!==null&&hl(ua,e),ha!==null&&hl(ha,e),fa!==null&&hl(fa,e),Wl.forEach(t),Kl.forEach(t),r=0;r<Gs.length;r++)s=Gs[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)N1(r),r.blockedOn===null&&Gs.shift()}var io=Os.ReactCurrentBatchConfig,iu=!0;function k4(e,t,r,s){var a=jt,i=io.transition;io.transition=null;try{jt=1,Yp(e,t,r,s)}finally{jt=a,io.transition=i}}function C4(e,t,r,s){var a=jt,i=io.transition;io.transition=null;try{jt=4,Yp(e,t,r,s)}finally{jt=a,io.transition=i}}function Yp(e,t,r,s){if(iu){var a=gm(e,t,r,s);if(a===null)vf(e,t,s,ou,r),cv(e,s);else if(N4(a,e,t,r,s))s.stopPropagation();else if(cv(e,s),t&4&&-1<w4.indexOf(e)){for(;a!==null;){var i=Fc(a);if(i!==null&&y1(i),i=gm(e,t,r,s),i===null&&vf(e,t,s,ou,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else vf(e,t,s,null,r)}}var ou=null;function gm(e,t,r,s){if(ou=null,e=qp(s),e=Ya(e),e!==null)if(t=Ri(e),t===null)e=null;else if(r=t.tag,r===13){if(e=u1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ou=e,null}function S1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f4()){case Qp:return 1;case p1:return 4;case su:case m4:return 16;case g1:return 536870912;default:return 16}default:return 16}}var la=null,Xp=null,Td=null;function k1(){if(Td)return Td;var e,t=Xp,r=t.length,s,a="value"in la?la.value:la.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Td=a.slice(e,1<s?1-s:void 0)}function Ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ad(){return!0}function uv(){return!1}function ln(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ad:uv,this.isPropagationStopped=uv,this}return Ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),t}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jp=ln(Zo),Mc=Ft({},Zo,{view:0,detail:0}),_4=ln(Mc),cf,df,fl,lh=Ft({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(cf=e.screenX-fl.screenX,df=e.screenY-fl.screenY):df=cf=0,fl=e),cf)},movementY:function(e){return"movementY"in e?e.movementY:df}}),hv=ln(lh),P4=Ft({},lh,{dataTransfer:0}),E4=ln(P4),T4=Ft({},Mc,{relatedTarget:0}),uf=ln(T4),A4=Ft({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),I4=ln(A4),R4=Ft({},Zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M4=ln(R4),F4=Ft({},Zo,{data:0}),fv=ln(F4),D4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L4[e])?!!t[e]:!1}function eg(){return z4}var $4=Ft({},Mc,{key:function(e){if(e.key){var t=D4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(e){return e.type==="keypress"?Ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V4=ln($4),H4=Ft({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=ln(H4),B4=Ft({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),U4=ln(B4),W4=Ft({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),K4=ln(W4),q4=Ft({},lh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q4=ln(q4),G4=[9,13,27,32],tg=Ps&&"CompositionEvent"in window,Al=null;Ps&&"documentMode"in document&&(Al=document.documentMode);var Z4=Ps&&"TextEvent"in window&&!Al,C1=Ps&&(!tg||Al&&8<Al&&11>=Al),pv=" ",gv=!1;function _1(e,t){switch(e){case"keyup":return G4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function Y4(e,t){switch(e){case"compositionend":return P1(t);case"keypress":return t.which!==32?null:(gv=!0,pv);case"textInput":return e=t.data,e===pv&&gv?null:e;default:return null}}function X4(e,t){if(Ki)return e==="compositionend"||!tg&&_1(e,t)?(e=k1(),Td=Xp=la=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C1&&t.locale!=="ko"?null:t.data;default:return null}}var J4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J4[e.type]:t==="textarea"}function E1(e,t,r,s){i1(s),t=lu(t,"onChange"),0<t.length&&(r=new Jp("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Il=null,Ql=null;function eI(e){$1(e,0)}function ch(e){var t=Gi(e);if(JN(t))return e}function tI(e,t){if(e==="change")return t}var T1=!1;if(Ps){var hf;if(Ps){var ff="oninput"in document;if(!ff){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),ff=typeof vv.oninput=="function"}hf=ff}else hf=!1;T1=hf&&(!document.documentMode||9<document.documentMode)}function yv(){Il&&(Il.detachEvent("onpropertychange",A1),Ql=Il=null)}function A1(e){if(e.propertyName==="value"&&ch(Ql)){var t=[];E1(t,Ql,e,qp(e)),d1(eI,t)}}function rI(e,t,r){e==="focusin"?(yv(),Il=t,Ql=r,Il.attachEvent("onpropertychange",A1)):e==="focusout"&&yv()}function nI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ch(Ql)}function sI(e,t){if(e==="click")return ch(t)}function aI(e,t){if(e==="input"||e==="change")return ch(t)}function iI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:iI;function Gl(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Xf.call(t,a)||!Ln(e[a],t[a]))return!1}return!0}function bv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jv(e,t){var r=bv(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bv(r)}}function I1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R1(){for(var e=window,t=tu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tu(e.document)}return t}function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oI(e){var t=R1(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&I1(r.ownerDocument.documentElement,r)){if(s!==null&&rg(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=jv(r,i);var o=jv(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lI=Ps&&"documentMode"in document&&11>=document.documentMode,qi=null,xm=null,Rl=null,vm=!1;function wv(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vm||qi==null||qi!==tu(s)||(s=qi,"selectionStart"in s&&rg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rl&&Gl(Rl,s)||(Rl=s,s=lu(xm,"onSelect"),0<s.length&&(t=new Jp("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=qi)))}function id(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qi={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},mf={},M1={};Ps&&(M1=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function dh(e){if(mf[e])return mf[e];if(!Qi[e])return e;var t=Qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in M1)return mf[e]=t[r];return e}var F1=dh("animationend"),D1=dh("animationiteration"),O1=dh("animationstart"),L1=dh("transitionend"),z1=new Map,Nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){z1.set(e,t),Ii(t,[e])}for(var pf=0;pf<Nv.length;pf++){var gf=Nv[pf],cI=gf.toLowerCase(),dI=gf[0].toUpperCase()+gf.slice(1);Oa(cI,"on"+dI)}Oa(F1,"onAnimationEnd");Oa(D1,"onAnimationIteration");Oa(O1,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(L1,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function Sv(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,c4(s,t,void 0,e),e.currentTarget=null}function $1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Sv(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Sv(a,l,d),i=c}}}if(nu)throw e=fm,nu=!1,fm=null,e}function kt(e,t){var r=t[Nm];r===void 0&&(r=t[Nm]=new Set);var s=e+"__bubble";r.has(s)||(V1(t,e,2,!1),r.add(s))}function xf(e,t,r){var s=0;t&&(s|=4),V1(r,e,s,t)}var od="_reactListening"+Math.random().toString(36).slice(2);function Zl(e){if(!e[od]){e[od]=!0,QN.forEach(function(r){r!=="selectionchange"&&(uI.has(r)||xf(r,!1,e),xf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[od]||(t[od]=!0,xf("selectionchange",!1,t))}}function V1(e,t,r,s){switch(S1(t)){case 1:var a=k4;break;case 4:a=C4;break;default:a=Yp}r=a.bind(null,t,r,e),a=void 0,!hm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function vf(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ya(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}d1(function(){var d=i,u=qp(r),f=[];e:{var m=z1.get(e);if(m!==void 0){var v=Jp,y=e;switch(e){case"keypress":if(Ad(r)===0)break e;case"keydown":case"keyup":v=V4;break;case"focusin":y="focus",v=uf;break;case"focusout":y="blur",v=uf;break;case"beforeblur":case"afterblur":v=uf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=E4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=U4;break;case F1:case D1:case O1:v=I4;break;case L1:v=K4;break;case"scroll":v=_4;break;case"wheel":v=Q4;break;case"copy":case"cut":case"paste":v=M4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=mv}var g=(t&4)!==0,w=!g&&e==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var p=d,b;p!==null;){b=p;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,x!==null&&(k=Ul(p,x),k!=null&&g.push(Yl(p,k,b)))),w)break;p=p.return}0<g.length&&(m=new v(m,y,null,r,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==dm&&(y=r.relatedTarget||r.fromElement)&&(Ya(y)||y[Es]))break e;if((v||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=d,y=y?Ya(y):null,y!==null&&(w=Ri(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(g=hv,k="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=mv,k="onPointerLeave",x="onPointerEnter",p="pointer"),w=v==null?m:Gi(v),b=y==null?m:Gi(y),m=new g(k,p+"leave",v,r,u),m.target=w,m.relatedTarget=b,k=null,Ya(u)===d&&(g=new g(x,p+"enter",y,r,u),g.target=b,g.relatedTarget=w,k=g),w=k,v&&y)t:{for(g=v,x=y,p=0,b=g;b;b=Di(b))p++;for(b=0,k=x;k;k=Di(k))b++;for(;0<p-b;)g=Di(g),p--;for(;0<b-p;)x=Di(x),b--;for(;p--;){if(g===x||x!==null&&g===x.alternate)break t;g=Di(g),x=Di(x)}g=null}else g=null;v!==null&&kv(f,m,v,g,!1),y!==null&&w!==null&&kv(f,w,y,g,!0)}}e:{if(m=d?Gi(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var N=tI;else if(xv(m))if(T1)N=aI;else{N=nI;var F=rI}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=sI);if(N&&(N=N(e,d))){E1(f,N,r,u);break e}F&&F(e,m,d),e==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&am(m,"number",m.value)}switch(F=d?Gi(d):window,e){case"focusin":(xv(F)||F.contentEditable==="true")&&(qi=F,xm=d,Rl=null);break;case"focusout":Rl=xm=qi=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,wv(f,r,u);break;case"selectionchange":if(lI)break;case"keydown":case"keyup":wv(f,r,u)}var E;if(tg)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ki?_1(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(C1&&r.locale!=="ko"&&(Ki||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ki&&(E=k1()):(la=u,Xp="value"in la?la.value:la.textContent,Ki=!0)),F=lu(d,A),0<F.length&&(A=new fv(A,e,null,r,u),f.push({event:A,listeners:F}),E?A.data=E:(E=P1(r),E!==null&&(A.data=E)))),(E=Z4?Y4(e,r):X4(e,r))&&(d=lu(d,"onBeforeInput"),0<d.length&&(u=new fv("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=E))}$1(f,t)})}function Yl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function lu(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ul(e,r),i!=null&&s.unshift(Yl(e,i,a)),i=Ul(e,t),i!=null&&s.push(Yl(e,i,a))),e=e.return}return s}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kv(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Ul(r,i),c!=null&&o.unshift(Yl(r,c,l))):a||(c=Ul(r,i),c!=null&&o.push(Yl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var hI=/\r\n?/g,fI=/\u0000|\uFFFD/g;function Cv(e){return(typeof e=="string"?e:""+e).replace(hI,`
`).replace(fI,"")}function ld(e,t,r){if(t=Cv(t),Cv(e)!==t&&r)throw Error(se(425))}function cu(){}var ym=null,bm=null;function jm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,mI=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,pI=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(e){return _v.resolve(null).then(e).catch(gI)}:wm;function gI(e){setTimeout(function(){throw e})}function yf(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),ql(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);ql(t)}function ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Yo,Xl="__reactProps$"+Yo,Es="__reactContainer$"+Yo,Nm="__reactEvents$"+Yo,xI="__reactListeners$"+Yo,vI="__reactHandles$"+Yo;function Ya(e){var t=e[Yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Es]||r[Yn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pv(e);e!==null;){if(r=e[Yn])return r;e=Pv(e)}return t}e=r,r=e.parentNode}return null}function Fc(e){return e=e[Yn]||e[Es],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function uh(e){return e[Xl]||null}var Sm=[],Zi=-1;function La(e){return{current:e}}function Ct(e){0>Zi||(e.current=Sm[Zi],Sm[Zi]=null,Zi--)}function Nt(e,t){Zi++,Sm[Zi]=e.current,e.current=t}var wa={},Sr=La(wa),Ur=La(!1),mi=wa;function Ro(e,t){var r=e.type.contextTypes;if(!r)return wa;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wr(e){return e=e.childContextTypes,e!=null}function du(){Ct(Ur),Ct(Sr)}function Ev(e,t,r){if(Sr.current!==wa)throw Error(se(168));Nt(Sr,t),Nt(Ur,r)}function H1(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(se(108,r4(e)||"Unknown",a));return Ft({},r,s)}function uu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wa,mi=Sr.current,Nt(Sr,e),Nt(Ur,Ur.current),!0}function Tv(e,t,r){var s=e.stateNode;if(!s)throw Error(se(169));r?(e=H1(e,t,mi),s.__reactInternalMemoizedMergedChildContext=e,Ct(Ur),Ct(Sr),Nt(Sr,e)):Ct(Ur),Nt(Ur,r)}var js=null,hh=!1,bf=!1;function B1(e){js===null?js=[e]:js.push(e)}function yI(e){hh=!0,B1(e)}function za(){if(!bf&&js!==null){bf=!0;var e=0,t=jt;try{var r=js;for(jt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}js=null,hh=!1}catch(a){throw js!==null&&(js=js.slice(e+1)),m1(Qp,za),a}finally{jt=t,bf=!1}}return null}var Yi=[],Xi=0,hu=null,fu=0,mn=[],pn=0,pi=null,Ss=1,ks="";function Ua(e,t){Yi[Xi++]=fu,Yi[Xi++]=hu,hu=e,fu=t}function U1(e,t,r){mn[pn++]=Ss,mn[pn++]=ks,mn[pn++]=pi,pi=e;var s=Ss;e=ks;var a=32-Rn(s)-1;s&=~(1<<a),r+=1;var i=32-Rn(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Ss=1<<32-Rn(t)+a|r<<a|s,ks=i+e}else Ss=1<<i|r<<a|s,ks=e}function ng(e){e.return!==null&&(Ua(e,1),U1(e,1,0))}function sg(e){for(;e===hu;)hu=Yi[--Xi],Yi[Xi]=null,fu=Yi[--Xi],Yi[Xi]=null;for(;e===pi;)pi=mn[--pn],mn[pn]=null,ks=mn[--pn],mn[pn]=null,Ss=mn[--pn],mn[pn]=null}var rn=null,tn=null,Pt=!1,_n=null;function W1(e,t){var r=gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Av(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rn=e,tn=ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rn=e,tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pi!==null?{id:Ss,overflow:ks}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rn=e,tn=null,!0):!1;default:return!1}}function km(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cm(e){if(Pt){var t=tn;if(t){var r=t;if(!Av(e,t)){if(km(e))throw Error(se(418));t=ma(r.nextSibling);var s=rn;t&&Av(e,t)?W1(s,r):(e.flags=e.flags&-4097|2,Pt=!1,rn=e)}}else{if(km(e))throw Error(se(418));e.flags=e.flags&-4097|2,Pt=!1,rn=e}}}function Iv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function cd(e){if(e!==rn)return!1;if(!Pt)return Iv(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jm(e.type,e.memoizedProps)),t&&(t=tn)){if(km(e))throw K1(),Error(se(418));for(;t;)W1(e,t),t=ma(t.nextSibling)}if(Iv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tn=ma(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tn=null}}else tn=rn?ma(e.stateNode.nextSibling):null;return!0}function K1(){for(var e=tn;e;)e=ma(e.nextSibling)}function Mo(){tn=rn=null,Pt=!1}function ag(e){_n===null?_n=[e]:_n.push(e)}var bI=Os.ReactCurrentBatchConfig;function ml(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var s=r.stateNode}if(!s)throw Error(se(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,e))}return e}function dd(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rv(e){var t=e._init;return t(e._payload)}function q1(e){function t(x,p){if(e){var b=x.deletions;b===null?(x.deletions=[p],x.flags|=16):b.push(p)}}function r(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function s(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=va(x,p),x.index=0,x.sibling=null,x}function i(x,p,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<p?(x.flags|=2,p):b):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,b,k){return p===null||p.tag!==6?(p=_f(b,x.mode,k),p.return=x,p):(p=a(p,b),p.return=x,p)}function c(x,p,b,k){var N=b.type;return N===Wi?u(x,p,b.props.children,k,b.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qs&&Rv(N)===p.type)?(k=a(p,b.props),k.ref=ml(x,p,b),k.return=x,k):(k=Ld(b.type,b.key,b.props,null,x.mode,k),k.ref=ml(x,p,b),k.return=x,k)}function d(x,p,b,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=Pf(b,x.mode,k),p.return=x,p):(p=a(p,b.children||[]),p.return=x,p)}function u(x,p,b,k,N){return p===null||p.tag!==7?(p=di(b,x.mode,k,N),p.return=x,p):(p=a(p,b),p.return=x,p)}function f(x,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_f(""+p,x.mode,b),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jc:return b=Ld(p.type,p.key,p.props,null,x.mode,b),b.ref=ml(x,null,p),b.return=x,b;case Ui:return p=Pf(p,x.mode,b),p.return=x,p;case qs:var k=p._init;return f(x,k(p._payload),b)}if(wl(p)||cl(p))return p=di(p,x.mode,b,null),p.return=x,p;dd(x,p)}return null}function m(x,p,b,k){var N=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(x,p,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:return b.key===N?c(x,p,b,k):null;case Ui:return b.key===N?d(x,p,b,k):null;case qs:return N=b._init,m(x,p,N(b._payload),k)}if(wl(b)||cl(b))return N!==null?null:u(x,p,b,k,null);dd(x,b)}return null}function v(x,p,b,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(b)||null,l(p,x,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Jc:return x=x.get(k.key===null?b:k.key)||null,c(p,x,k,N);case Ui:return x=x.get(k.key===null?b:k.key)||null,d(p,x,k,N);case qs:var F=k._init;return v(x,p,b,F(k._payload),N)}if(wl(k)||cl(k))return x=x.get(b)||null,u(p,x,k,N,null);dd(p,k)}return null}function y(x,p,b,k){for(var N=null,F=null,E=p,A=p=0,I=null;E!==null&&A<b.length;A++){E.index>A?(I=E,E=null):I=E.sibling;var C=m(x,E,b[A],k);if(C===null){E===null&&(E=I);break}e&&E&&C.alternate===null&&t(x,E),p=i(C,p,A),F===null?N=C:F.sibling=C,F=C,E=I}if(A===b.length)return r(x,E),Pt&&Ua(x,A),N;if(E===null){for(;A<b.length;A++)E=f(x,b[A],k),E!==null&&(p=i(E,p,A),F===null?N=E:F.sibling=E,F=E);return Pt&&Ua(x,A),N}for(E=s(x,E);A<b.length;A++)I=v(E,x,A,b[A],k),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?A:I.key),p=i(I,p,A),F===null?N=I:F.sibling=I,F=I);return e&&E.forEach(function(S){return t(x,S)}),Pt&&Ua(x,A),N}function g(x,p,b,k){var N=cl(b);if(typeof N!="function")throw Error(se(150));if(b=N.call(b),b==null)throw Error(se(151));for(var F=N=null,E=p,A=p=0,I=null,C=b.next();E!==null&&!C.done;A++,C=b.next()){E.index>A?(I=E,E=null):I=E.sibling;var S=m(x,E,C.value,k);if(S===null){E===null&&(E=I);break}e&&E&&S.alternate===null&&t(x,E),p=i(S,p,A),F===null?N=S:F.sibling=S,F=S,E=I}if(C.done)return r(x,E),Pt&&Ua(x,A),N;if(E===null){for(;!C.done;A++,C=b.next())C=f(x,C.value,k),C!==null&&(p=i(C,p,A),F===null?N=C:F.sibling=C,F=C);return Pt&&Ua(x,A),N}for(E=s(x,E);!C.done;A++,C=b.next())C=v(E,x,A,C.value,k),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?A:C.key),p=i(C,p,A),F===null?N=C:F.sibling=C,F=C);return e&&E.forEach(function($){return t(x,$)}),Pt&&Ua(x,A),N}function w(x,p,b,k){if(typeof b=="object"&&b!==null&&b.type===Wi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:e:{for(var N=b.key,F=p;F!==null;){if(F.key===N){if(N=b.type,N===Wi){if(F.tag===7){r(x,F.sibling),p=a(F,b.props.children),p.return=x,x=p;break e}}else if(F.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qs&&Rv(N)===F.type){r(x,F.sibling),p=a(F,b.props),p.ref=ml(x,F,b),p.return=x,x=p;break e}r(x,F);break}else t(x,F);F=F.sibling}b.type===Wi?(p=di(b.props.children,x.mode,k,b.key),p.return=x,x=p):(k=Ld(b.type,b.key,b.props,null,x.mode,k),k.ref=ml(x,p,b),k.return=x,x=k)}return o(x);case Ui:e:{for(F=b.key;p!==null;){if(p.key===F)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){r(x,p.sibling),p=a(p,b.children||[]),p.return=x,x=p;break e}else{r(x,p);break}else t(x,p);p=p.sibling}p=Pf(b,x.mode,k),p.return=x,x=p}return o(x);case qs:return F=b._init,w(x,p,F(b._payload),k)}if(wl(b))return y(x,p,b,k);if(cl(b))return g(x,p,b,k);dd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(r(x,p.sibling),p=a(p,b),p.return=x,x=p):(r(x,p),p=_f(b,x.mode,k),p.return=x,x=p),o(x)):r(x,p)}return w}var Fo=q1(!0),Q1=q1(!1),mu=La(null),pu=null,Ji=null,ig=null;function og(){ig=Ji=pu=null}function lg(e){var t=mu.current;Ct(mu),e._currentValue=t}function _m(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function oo(e,t){pu=e,ig=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Br=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(ig!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(pu===null)throw Error(se(308));Ji=e,pu.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var Xa=null;function cg(e){Xa===null?Xa=[e]:Xa.push(e)}function G1(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,cg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ts(e,s)}function Ts(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qs=!1;function dg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pa(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ut&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Ts(e,r)}return a=s.interleaved,a===null?(t.next=t,cg(s)):(t.next=a.next,a.next=t),s.interleaved=t,Ts(e,r)}function Id(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Gp(e,r)}}function Mv(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gu(e,t,r,s){var a=e.updateQueue;Qs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(m=t,v=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(v,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(v,f,m):y,m==null)break e;f=Ft({},f,m);break e;case 2:Qs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=v,c=f):u=u.next=v,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);xi|=o,e.lanes=o,e.memoizedState=f}}function Fv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(se(191,a));a.call(s)}}}var Dc={},ss=La(Dc),Jl=La(Dc),ec=La(Dc);function Ja(e){if(e===Dc)throw Error(se(174));return e}function ug(e,t){switch(Nt(ec,t),Nt(Jl,e),Nt(ss,Dc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:om(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=om(t,e)}Ct(ss),Nt(ss,t)}function Do(){Ct(ss),Ct(Jl),Ct(ec)}function Y1(e){Ja(ec.current);var t=Ja(ss.current),r=om(t,e.type);t!==r&&(Nt(Jl,e),Nt(ss,r))}function hg(e){Jl.current===e&&(Ct(ss),Ct(Jl))}var Rt=La(0);function xu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jf=[];function fg(){for(var e=0;e<jf.length;e++)jf[e]._workInProgressVersionPrimary=null;jf.length=0}var Rd=Os.ReactCurrentDispatcher,wf=Os.ReactCurrentBatchConfig,gi=0,Mt=null,Yt=null,ir=null,vu=!1,Ml=!1,tc=0,jI=0;function vr(){throw Error(se(321))}function mg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ln(e[r],t[r]))return!1;return!0}function pg(e,t,r,s,a,i){if(gi=i,Mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rd.current=e===null||e.memoizedState===null?kI:CI,e=r(s,a),Ml){i=0;do{if(Ml=!1,tc=0,25<=i)throw Error(se(301));i+=1,ir=Yt=null,t.updateQueue=null,Rd.current=_I,e=r(s,a)}while(Ml)}if(Rd.current=yu,t=Yt!==null&&Yt.next!==null,gi=0,ir=Yt=Mt=null,vu=!1,t)throw Error(se(300));return e}function gg(){var e=tc!==0;return tc=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Mt.memoizedState=ir=e:ir=ir.next=e,ir}function yn(){if(Yt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var t=ir===null?Mt.memoizedState:ir.next;if(t!==null)ir=t,Yt=e;else{if(e===null)throw Error(se(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ir===null?Mt.memoizedState=ir=e:ir=ir.next=e}return ir}function rc(e,t){return typeof t=="function"?t(e):t}function Nf(e){var t=yn(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var s=Yt,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((gi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Mt.lanes|=u,xi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Ln(s,t.memoizedState)||(Br=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Mt.lanes|=i,xi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sf(e){var t=yn(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ln(i,t.memoizedState)||(Br=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function X1(){}function J1(e,t){var r=Mt,s=yn(),a=t(),i=!Ln(s.memoizedState,a);if(i&&(s.memoizedState=a,Br=!0),s=s.queue,xg(rS.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,nc(9,tS.bind(null,r,s,a,t),void 0,null),lr===null)throw Error(se(349));gi&30||eS(r,t,a)}return a}function eS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tS(e,t,r,s){t.value=r,t.getSnapshot=s,nS(t)&&sS(e)}function rS(e,t,r){return r(function(){nS(t)&&sS(e)})}function nS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ln(e,r)}catch{return!0}}function sS(e){var t=Ts(e,1);t!==null&&Mn(t,e,1,-1)}function Dv(e){var t=Kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:e},t.queue=e,e=e.dispatch=SI.bind(null,Mt,e),[t.memoizedState,e]}function nc(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function aS(){return yn().memoizedState}function Md(e,t,r,s){var a=Kn();Mt.flags|=e,a.memoizedState=nc(1|t,r,void 0,s===void 0?null:s)}function fh(e,t,r,s){var a=yn();s=s===void 0?null:s;var i=void 0;if(Yt!==null){var o=Yt.memoizedState;if(i=o.destroy,s!==null&&mg(s,o.deps)){a.memoizedState=nc(t,r,i,s);return}}Mt.flags|=e,a.memoizedState=nc(1|t,r,i,s)}function Ov(e,t){return Md(8390656,8,e,t)}function xg(e,t){return fh(2048,8,e,t)}function iS(e,t){return fh(4,2,e,t)}function oS(e,t){return fh(4,4,e,t)}function lS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cS(e,t,r){return r=r!=null?r.concat([e]):null,fh(4,4,lS.bind(null,t,e),r)}function vg(){}function dS(e,t){var r=yn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&mg(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function uS(e,t){var r=yn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&mg(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function hS(e,t,r){return gi&21?(Ln(r,t)||(r=x1(),Mt.lanes|=r,xi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Br=!0),e.memoizedState=r)}function wI(e,t){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var s=wf.transition;wf.transition={};try{e(!1),t()}finally{jt=r,wf.transition=s}}function fS(){return yn().memoizedState}function NI(e,t,r){var s=xa(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},mS(e))pS(t,r);else if(r=G1(e,t,r,s),r!==null){var a=Rr();Mn(r,e,s,a),gS(r,t,s)}}function SI(e,t,r){var s=xa(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(mS(e))pS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ln(l,o)){var c=t.interleaved;c===null?(a.next=a,cg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=G1(e,t,a,s),r!==null&&(a=Rr(),Mn(r,e,s,a),gS(r,t,s))}}function mS(e){var t=e.alternate;return e===Mt||t!==null&&t===Mt}function pS(e,t){Ml=vu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gS(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Gp(e,r)}}var yu={readContext:vn,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},kI={readContext:vn,useCallback:function(e,t){return Kn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:Ov,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Md(4194308,4,lS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Md(4194308,4,e,t)},useInsertionEffect:function(e,t){return Md(4,2,e,t)},useMemo:function(e,t){var r=Kn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Kn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=NI.bind(null,Mt,e),[s.memoizedState,e]},useRef:function(e){var t=Kn();return e={current:e},t.memoizedState=e},useState:Dv,useDebugValue:vg,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=Dv(!1),t=e[0];return e=wI.bind(null,e[1]),Kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Mt,a=Kn();if(Pt){if(r===void 0)throw Error(se(407));r=r()}else{if(r=t(),lr===null)throw Error(se(349));gi&30||eS(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ov(rS.bind(null,s,i,e),[e]),s.flags|=2048,nc(9,tS.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Kn(),t=lr.identifierPrefix;if(Pt){var r=ks,s=Ss;r=(s&~(1<<32-Rn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=tc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CI={readContext:vn,useCallback:dS,useContext:vn,useEffect:xg,useImperativeHandle:cS,useInsertionEffect:iS,useLayoutEffect:oS,useMemo:uS,useReducer:Nf,useRef:aS,useState:function(){return Nf(rc)},useDebugValue:vg,useDeferredValue:function(e){var t=yn();return hS(t,Yt.memoizedState,e)},useTransition:function(){var e=Nf(rc)[0],t=yn().memoizedState;return[e,t]},useMutableSource:X1,useSyncExternalStore:J1,useId:fS,unstable_isNewReconciler:!1},_I={readContext:vn,useCallback:dS,useContext:vn,useEffect:xg,useImperativeHandle:cS,useInsertionEffect:iS,useLayoutEffect:oS,useMemo:uS,useReducer:Sf,useRef:aS,useState:function(){return Sf(rc)},useDebugValue:vg,useDeferredValue:function(e){var t=yn();return Yt===null?t.memoizedState=e:hS(t,Yt.memoizedState,e)},useTransition:function(){var e=Sf(rc)[0],t=yn().memoizedState;return[e,t]},useMutableSource:X1,useSyncExternalStore:J1,useId:fS,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=Ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pm(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mh={isMounted:function(e){return(e=e._reactInternals)?Ri(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Rr(),a=xa(e),i=Cs(s,a);i.payload=t,r!=null&&(i.callback=r),t=pa(e,i,a),t!==null&&(Mn(t,e,a,s),Id(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Rr(),a=xa(e),i=Cs(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=pa(e,i,a),t!==null&&(Mn(t,e,a,s),Id(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rr(),s=xa(e),a=Cs(r,s);a.tag=2,t!=null&&(a.callback=t),t=pa(e,a,s),t!==null&&(Mn(t,e,s,r),Id(t,e,s))}};function Lv(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gl(r,s)||!Gl(a,i):!0}function xS(e,t,r){var s=!1,a=wa,i=t.contextType;return typeof i=="object"&&i!==null?i=vn(i):(a=Wr(t)?mi:Sr.current,s=t.contextTypes,i=(s=s!=null)?Ro(e,a):wa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function zv(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&mh.enqueueReplaceState(t,t.state,null)}function Em(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},dg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=vn(i):(i=Wr(t)?mi:Sr.current,a.context=Ro(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&mh.enqueueReplaceState(a,a.state,null),gu(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Oo(e,t){try{var r="",s=t;do r+=t4(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function kf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PI=typeof WeakMap=="function"?WeakMap:Map;function vS(e,t,r){r=Cs(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ju||(ju=!0,$m=s),Tm(e,t)},r}function yS(e,t,r){r=Cs(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Tm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Tm(e,t),typeof s!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $v(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new PI;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=HI.bind(null,e,t,r),t.then(e,e))}function Vv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hv(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Cs(-1,1),t.tag=2,pa(r,t,1))),r.lanes|=1),e)}var EI=Os.ReactCurrentOwner,Br=!1;function Tr(e,t,r,s){t.child=e===null?Q1(t,null,r,s):Fo(t,e.child,r,s)}function Bv(e,t,r,s,a){r=r.render;var i=t.ref;return oo(t,a),s=pg(e,t,r,s,i,a),r=gg(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,As(e,t,a)):(Pt&&r&&ng(t),t.flags|=1,Tr(e,t,s,a),t.child)}function Uv(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!Cg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bS(e,t,i,s,a)):(e=Ld(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Gl,r(o,s)&&e.ref===t.ref)return As(e,t,a)}return t.flags|=1,e=va(i,s),e.ref=t.ref,e.return=t,t.child=e}function bS(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Gl(i,s)&&e.ref===t.ref)if(Br=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Br=!0);else return t.lanes=e.lanes,As(e,t,a)}return Am(e,t,r,s,a)}function jS(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(to,Xr),Xr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(to,Xr),Xr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Nt(to,Xr),Xr|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Nt(to,Xr),Xr|=s;return Tr(e,t,a,r),t.child}function wS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Am(e,t,r,s,a){var i=Wr(r)?mi:Sr.current;return i=Ro(t,i),oo(t,a),r=pg(e,t,r,s,i,a),s=gg(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,As(e,t,a)):(Pt&&s&&ng(t),t.flags|=1,Tr(e,t,r,a),t.child)}function Wv(e,t,r,s,a){if(Wr(r)){var i=!0;uu(t)}else i=!1;if(oo(t,a),t.stateNode===null)Fd(e,t),xS(t,r,s),Em(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=vn(d):(d=Wr(r)?mi:Sr.current,d=Ro(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&zv(t,o,s,d),Qs=!1;var m=t.memoizedState;o.state=m,gu(t,s,o,a),c=t.memoizedState,l!==s||m!==c||Ur.current||Qs?(typeof u=="function"&&(Pm(t,r,u,s),c=t.memoizedState),(l=Qs||Lv(t,r,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Z1(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Sn(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vn(c):(c=Wr(r)?mi:Sr.current,c=Ro(t,c));var v=r.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&zv(t,o,s,c),Qs=!1,m=t.memoizedState,o.state=m,gu(t,s,o,a);var y=t.memoizedState;l!==f||m!==y||Ur.current||Qs?(typeof v=="function"&&(Pm(t,r,v,s),y=t.memoizedState),(d=Qs||Lv(t,r,d,s,m,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Im(e,t,r,s,i,a)}function Im(e,t,r,s,a,i){wS(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Tv(t,r,!1),As(e,t,i);s=t.stateNode,EI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Fo(t,e.child,null,i),t.child=Fo(t,null,l,i)):Tr(e,t,l,i),t.memoizedState=s.state,a&&Tv(t,r,!0),t.child}function NS(e){var t=e.stateNode;t.pendingContext?Ev(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ev(e,t.context,!1),ug(e,t.containerInfo)}function Kv(e,t,r,s,a){return Mo(),ag(a),t.flags|=256,Tr(e,t,r,s),t.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Mm(e){return{baseLanes:e,cachePool:null,transitions:null}}function SS(e,t,r){var s=t.pendingProps,a=Rt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nt(Rt,a&1),e===null)return Cm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xh(o,s,0,null),e=di(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mm(r),t.memoizedState=Rm,e):yg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return TI(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=va(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=va(l,i):(i=di(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Mm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Rm,s}return i=e.child,e=i.sibling,s=va(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function yg(e,t){return t=xh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ud(e,t,r,s){return s!==null&&ag(s),Fo(t,e.child,null,r),e=yg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TI(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=kf(Error(se(422))),ud(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=xh({mode:"visible",children:s.children},a,0,null),i=di(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Fo(t,e.child,null,o),t.child.memoizedState=Mm(o),t.memoizedState=Rm,i);if(!(t.mode&1))return ud(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(se(419)),s=kf(i,s,void 0),ud(e,t,o,s)}if(l=(o&e.childLanes)!==0,Br||l){if(s=lr,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ts(e,a),Mn(s,e,a,-1))}return kg(),s=kf(Error(se(421))),ud(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=BI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,tn=ma(a.nextSibling),rn=t,Pt=!0,_n=null,e!==null&&(mn[pn++]=Ss,mn[pn++]=ks,mn[pn++]=pi,Ss=e.id,ks=e.overflow,pi=t),t=yg(t,s.children),t.flags|=4096,t)}function qv(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),_m(e.return,t,r)}function Cf(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function kS(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Tr(e,t,s.children,r),s=Rt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qv(e,r,t);else if(e.tag===19)qv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Nt(Rt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&xu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Cf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Cf(t,!0,r,null,i);break;case"together":Cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function As(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,r=va(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=va(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AI(e,t,r){switch(t.tag){case 3:NS(t),Mo();break;case 5:Y1(t);break;case 1:Wr(t.type)&&uu(t);break;case 4:ug(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Nt(mu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Nt(Rt,Rt.current&1),t.flags|=128,null):r&t.child.childLanes?SS(e,t,r):(Nt(Rt,Rt.current&1),e=As(e,t,r),e!==null?e.sibling:null);Nt(Rt,Rt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return kS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(Rt,Rt.current),s)break;return null;case 22:case 23:return t.lanes=0,jS(e,t,r)}return As(e,t,r)}var CS,Fm,_S,PS;CS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fm=function(){};_S=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Ja(ss.current);var i=null;switch(r){case"input":a=nm(e,a),s=nm(e,s),i=[];break;case"select":a=Ft({},a,{value:void 0}),s=Ft({},s,{value:void 0}),i=[];break;case"textarea":a=im(e,a),s=im(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=cu)}lm(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Hl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&kt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};PS=function(e,t,r,s){r!==s&&(t.flags|=4)};function pl(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function II(e,t,r){var s=t.pendingProps;switch(sg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(t),null;case 1:return Wr(t.type)&&du(),yr(t),null;case 3:return s=t.stateNode,Do(),Ct(Ur),Ct(Sr),fg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(cd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(Bm(_n),_n=null))),Fm(e,t),yr(t),null;case 5:hg(t);var a=Ja(ec.current);if(r=t.type,e!==null&&t.stateNode!=null)_S(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(se(166));return yr(t),null}if(e=Ja(ss.current),cd(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Yn]=t,s[Xl]=i,e=(t.mode&1)!==0,r){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(a=0;a<Sl.length;a++)kt(Sl[a],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":rv(s,i),kt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},kt("invalid",s);break;case"textarea":sv(s,i),kt("invalid",s)}lm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&ld(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ld(s.textContent,l,e),a=["children",""+l]):Hl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&kt("scroll",s)}switch(r){case"input":ed(s),nv(s,i,!0);break;case"textarea":ed(s),av(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=cu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=r1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Yn]=t,e[Xl]=s,CS(e,t,!1,!1),t.stateNode=e;e:{switch(o=cm(r,s),r){case"dialog":kt("cancel",e),kt("close",e),a=s;break;case"iframe":case"object":case"embed":kt("load",e),a=s;break;case"video":case"audio":for(a=0;a<Sl.length;a++)kt(Sl[a],e);a=s;break;case"source":kt("error",e),a=s;break;case"img":case"image":case"link":kt("error",e),kt("load",e),a=s;break;case"details":kt("toggle",e),a=s;break;case"input":rv(e,s),a=nm(e,s),kt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ft({},s,{value:void 0}),kt("invalid",e);break;case"textarea":sv(e,s),a=im(e,s),kt("invalid",e);break;default:a=s}lm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?a1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&n1(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&kt("scroll",e):c!=null&&Bp(e,i,c,o))}switch(r){case"input":ed(e),nv(e,s,!1);break;case"textarea":ed(e),av(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ja(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?no(e,!!s.multiple,i,!1):s.defaultValue!=null&&no(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=cu)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yr(t),null;case 6:if(e&&t.stateNode!=null)PS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(se(166));if(r=Ja(ec.current),Ja(ss.current),cd(t)){if(s=t.stateNode,r=t.memoizedProps,s[Yn]=t,(i=s.nodeValue!==r)&&(e=rn,e!==null))switch(e.tag){case 3:ld(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ld(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Yn]=t,t.stateNode=s}return yr(t),null;case 13:if(Ct(Rt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&tn!==null&&t.mode&1&&!(t.flags&128))K1(),Mo(),t.flags|=98560,i=!1;else if(i=cd(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[Yn]=t}else Mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yr(t),i=!1}else _n!==null&&(Bm(_n),_n=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?rr===0&&(rr=3):kg())),t.updateQueue!==null&&(t.flags|=4),yr(t),null);case 4:return Do(),Fm(e,t),e===null&&Zl(t.stateNode.containerInfo),yr(t),null;case 10:return lg(t.type._context),yr(t),null;case 17:return Wr(t.type)&&du(),yr(t),null;case 19:if(Ct(Rt),i=t.memoizedState,i===null)return yr(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)pl(i,!1);else{if(rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xu(e),o!==null){for(t.flags|=128,pl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nt(Rt,Rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vt()>Lo&&(t.flags|=128,s=!0,pl(i,!1),t.lanes=4194304)}else{if(!s)if(e=xu(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pt)return yr(t),null}else 2*Vt()-i.renderingStartTime>Lo&&r!==1073741824&&(t.flags|=128,s=!0,pl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vt(),t.sibling=null,r=Rt.current,Nt(Rt,s?r&1|2:r&1),t):(yr(t),null);case 22:case 23:return Sg(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Xr&1073741824&&(yr(t),t.subtreeFlags&6&&(t.flags|=8192)):yr(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function RI(e,t){switch(sg(t),t.tag){case 1:return Wr(t.type)&&du(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Do(),Ct(Ur),Ct(Sr),fg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hg(t),null;case 13:if(Ct(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Rt),null;case 4:return Do(),null;case 10:return lg(t.type._context),null;case 22:case 23:return Sg(),null;case 24:return null;default:return null}}var hd=!1,jr=!1,MI=typeof WeakSet=="function"?WeakSet:Set,we=null;function eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ot(e,t,s)}else r.current=null}function Dm(e,t,r){try{r()}catch(s){Ot(e,t,s)}}var Qv=!1;function FI(e,t){if(ym=iu,e=R1(),rg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var v;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bm={focusedElem:e,selectionRange:r},iu=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Sn(t.type,g),w);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(k){Ot(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return y=Qv,Qv=!1,y}function Fl(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Dm(t,r,i)}a=a.next}while(a!==s)}}function ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Om(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ES(e){var t=e.alternate;t!==null&&(e.alternate=null,ES(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[Xl],delete t[Nm],delete t[xI],delete t[vI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TS(e){return e.tag===5||e.tag===3||e.tag===4}function Gv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lm(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cu));else if(s!==4&&(e=e.child,e!==null))for(Lm(e,t,r),e=e.sibling;e!==null;)Lm(e,t,r),e=e.sibling}function zm(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(zm(e,t,r),e=e.sibling;e!==null;)zm(e,t,r),e=e.sibling}var ur=null,Cn=!1;function Vs(e,t,r){for(r=r.child;r!==null;)AS(e,t,r),r=r.sibling}function AS(e,t,r){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(oh,r)}catch{}switch(r.tag){case 5:jr||eo(r,t);case 6:var s=ur,a=Cn;ur=null,Vs(e,t,r),ur=s,Cn=a,ur!==null&&(Cn?(e=ur,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(Cn?(e=ur,r=r.stateNode,e.nodeType===8?yf(e.parentNode,r):e.nodeType===1&&yf(e,r),ql(e)):yf(ur,r.stateNode));break;case 4:s=ur,a=Cn,ur=r.stateNode.containerInfo,Cn=!0,Vs(e,t,r),ur=s,Cn=a;break;case 0:case 11:case 14:case 15:if(!jr&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dm(r,t,o),a=a.next}while(a!==s)}Vs(e,t,r);break;case 1:if(!jr&&(eo(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Ot(r,t,l)}Vs(e,t,r);break;case 21:Vs(e,t,r);break;case 22:r.mode&1?(jr=(s=jr)||r.memoizedState!==null,Vs(e,t,r),jr=s):Vs(e,t,r);break;default:Vs(e,t,r)}}function Zv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MI),t.forEach(function(s){var a=UI.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function wn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ur=l.stateNode,Cn=!1;break e;case 3:ur=l.stateNode.containerInfo,Cn=!0;break e;case 4:ur=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(ur===null)throw Error(se(160));AS(i,o,a),ur=null,Cn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ot(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IS(t,e),t=t.sibling}function IS(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),Wn(e),s&4){try{Fl(3,e,e.return),ph(3,e)}catch(g){Ot(e,e.return,g)}try{Fl(5,e,e.return)}catch(g){Ot(e,e.return,g)}}break;case 1:wn(t,e),Wn(e),s&512&&r!==null&&eo(r,r.return);break;case 5:if(wn(t,e),Wn(e),s&512&&r!==null&&eo(r,r.return),e.flags&32){var a=e.stateNode;try{Bl(a,"")}catch(g){Ot(e,e.return,g)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&e1(a,i),cm(l,o);var d=cm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?a1(a,f):u==="dangerouslySetInnerHTML"?n1(a,f):u==="children"?Bl(a,f):Bp(a,u,f,d)}switch(l){case"input":sm(a,i);break;case"textarea":t1(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?no(a,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?no(a,!!i.multiple,i.defaultValue,!0):no(a,!!i.multiple,i.multiple?[]:"",!1))}a[Xl]=i}catch(g){Ot(e,e.return,g)}}break;case 6:if(wn(t,e),Wn(e),s&4){if(e.stateNode===null)throw Error(se(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Ot(e,e.return,g)}}break;case 3:if(wn(t,e),Wn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(g){Ot(e,e.return,g)}break;case 4:wn(t,e),Wn(e);break;case 13:wn(t,e),Wn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(wg=Vt())),s&4&&Zv(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(jr=(d=jr)||u,wn(t,e),jr=d):wn(t,e),Wn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(we=e,u=e.child;u!==null;){for(f=we=u;we!==null;){switch(m=we,v=m.child,m.tag){case 0:case 11:case 14:case 15:Fl(4,m,m.return);break;case 1:eo(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Ot(s,r,g)}}break;case 5:eo(m,m.return);break;case 22:if(m.memoizedState!==null){Xv(f);continue}}v!==null?(v.return=m,we=v):Xv(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=s1("display",o))}catch(g){Ot(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Ot(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wn(t,e),Wn(e),s&4&&Zv(e);break;case 21:break;default:wn(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(TS(r)){var s=r;break e}r=r.return}throw Error(se(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Bl(a,""),s.flags&=-33);var i=Gv(e);zm(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Gv(e);Lm(e,l,o);break;default:throw Error(se(161))}}catch(c){Ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DI(e,t,r){we=e,RS(e)}function RS(e,t,r){for(var s=(e.mode&1)!==0;we!==null;){var a=we,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||hd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||jr;l=hd;var d=jr;if(hd=o,(jr=c)&&!d)for(we=a;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?Jv(a):c!==null?(c.return=o,we=c):Jv(a);for(;i!==null;)we=i,RS(i),i=i.sibling;we=a,hd=l,jr=d}Yv(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,we=i):Yv(e)}}function Yv(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||ph(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!jr)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Sn(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fv(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}jr||t.flags&512&&Om(t)}catch(m){Ot(t,t.return,m)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function Xv(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function Jv(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ph(4,t)}catch(c){Ot(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Ot(t,a,c)}}var i=t.return;try{Om(t)}catch(c){Ot(t,i,c)}break;case 5:var o=t.return;try{Om(t)}catch(c){Ot(t,o,c)}}}catch(c){Ot(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var OI=Math.ceil,bu=Os.ReactCurrentDispatcher,bg=Os.ReactCurrentOwner,xn=Os.ReactCurrentBatchConfig,ut=0,lr=null,Kt=null,mr=0,Xr=0,to=La(0),rr=0,sc=null,xi=0,gh=0,jg=0,Dl=null,$r=null,wg=0,Lo=1/0,bs=null,ju=!1,$m=null,ga=null,fd=!1,ca=null,wu=0,Ol=0,Vm=null,Dd=-1,Od=0;function Rr(){return ut&6?Vt():Dd!==-1?Dd:Dd=Vt()}function xa(e){return e.mode&1?ut&2&&mr!==0?mr&-mr:bI.transition!==null?(Od===0&&(Od=x1()),Od):(e=jt,e!==0||(e=window.event,e=e===void 0?16:S1(e.type)),e):1}function Mn(e,t,r,s){if(50<Ol)throw Ol=0,Vm=null,Error(se(185));Rc(e,r,s),(!(ut&2)||e!==lr)&&(e===lr&&(!(ut&2)&&(gh|=r),rr===4&&Zs(e,mr)),Kr(e,s),r===1&&ut===0&&!(t.mode&1)&&(Lo=Vt()+500,hh&&za()))}function Kr(e,t){var r=e.callbackNode;b4(e,t);var s=au(e,e===lr?mr:0);if(s===0)r!==null&&lv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&lv(r),t===1)e.tag===0?yI(ey.bind(null,e)):B1(ey.bind(null,e)),pI(function(){!(ut&6)&&za()}),r=null;else{switch(v1(s)){case 1:r=Qp;break;case 4:r=p1;break;case 16:r=su;break;case 536870912:r=g1;break;default:r=su}r=VS(r,MS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function MS(e,t){if(Dd=-1,Od=0,ut&6)throw Error(se(327));var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var s=au(e,e===lr?mr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Nu(e,s);else{t=s;var a=ut;ut|=2;var i=DS();(lr!==e||mr!==t)&&(bs=null,Lo=Vt()+500,ci(e,t));do try{$I();break}catch(l){FS(e,l)}while(!0);og(),bu.current=i,ut=a,Kt!==null?t=0:(lr=null,mr=0,t=rr)}if(t!==0){if(t===2&&(a=mm(e),a!==0&&(s=a,t=Hm(e,a))),t===1)throw r=sc,ci(e,0),Zs(e,s),Kr(e,Vt()),r;if(t===6)Zs(e,s);else{if(a=e.current.alternate,!(s&30)&&!LI(a)&&(t=Nu(e,s),t===2&&(i=mm(e),i!==0&&(s=i,t=Hm(e,i))),t===1))throw r=sc,ci(e,0),Zs(e,s),Kr(e,Vt()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(se(345));case 2:Wa(e,$r,bs);break;case 3:if(Zs(e,s),(s&130023424)===s&&(t=wg+500-Vt(),10<t)){if(au(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Rr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=wm(Wa.bind(null,e,$r,bs),t);break}Wa(e,$r,bs);break;case 4:if(Zs(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Rn(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Vt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*OI(s/1960))-s,10<s){e.timeoutHandle=wm(Wa.bind(null,e,$r,bs),s);break}Wa(e,$r,bs);break;case 5:Wa(e,$r,bs);break;default:throw Error(se(329))}}}return Kr(e,Vt()),e.callbackNode===r?MS.bind(null,e):null}function Hm(e,t){var r=Dl;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Nu(e,t),e!==2&&(t=$r,$r=r,t!==null&&Bm(t)),e}function Bm(e){$r===null?$r=e:$r.push.apply($r,e)}function LI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Ln(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zs(e,t){for(t&=~jg,t&=~gh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rn(t),s=1<<r;e[r]=-1,t&=~s}}function ey(e){if(ut&6)throw Error(se(327));lo();var t=au(e,0);if(!(t&1))return Kr(e,Vt()),null;var r=Nu(e,t);if(e.tag!==0&&r===2){var s=mm(e);s!==0&&(t=s,r=Hm(e,s))}if(r===1)throw r=sc,ci(e,0),Zs(e,t),Kr(e,Vt()),r;if(r===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wa(e,$r,bs),Kr(e,Vt()),null}function Ng(e,t){var r=ut;ut|=1;try{return e(t)}finally{ut=r,ut===0&&(Lo=Vt()+500,hh&&za())}}function vi(e){ca!==null&&ca.tag===0&&!(ut&6)&&lo();var t=ut;ut|=1;var r=xn.transition,s=jt;try{if(xn.transition=null,jt=1,e)return e()}finally{jt=s,xn.transition=r,ut=t,!(ut&6)&&za()}}function Sg(){Xr=to.current,Ct(to)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mI(r)),Kt!==null)for(r=Kt.return;r!==null;){var s=r;switch(sg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&du();break;case 3:Do(),Ct(Ur),Ct(Sr),fg();break;case 5:hg(s);break;case 4:Do();break;case 13:Ct(Rt);break;case 19:Ct(Rt);break;case 10:lg(s.type._context);break;case 22:case 23:Sg()}r=r.return}if(lr=e,Kt=e=va(e.current,null),mr=Xr=t,rr=0,sc=null,jg=gh=xi=0,$r=Dl=null,Xa!==null){for(t=0;t<Xa.length;t++)if(r=Xa[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Xa=null}return e}function FS(e,t){do{var r=Kt;try{if(og(),Rd.current=yu,vu){for(var s=Mt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}vu=!1}if(gi=0,ir=Yt=Mt=null,Ml=!1,tc=0,bg.current=null,r===null||r.return===null){rr=1,sc=t,Kt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=mr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=Vv(o);if(v!==null){v.flags&=-257,Hv(v,o,l,i,t),v.mode&1&&$v(i,d,t),t=v,c=d;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){$v(i,d,t),kg();break e}c=Error(se(426))}}else if(Pt&&l.mode&1){var w=Vv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Hv(w,o,l,i,t),ag(Oo(c,l));break e}}i=c=Oo(c,l),rr!==4&&(rr=2),Dl===null?Dl=[i]:Dl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=vS(i,c,t);Mv(i,x);break e;case 1:l=c;var p=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ga===null||!ga.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=yS(i,l,t);Mv(i,k);break e}}i=i.return}while(i!==null)}LS(r)}catch(N){t=N,Kt===r&&r!==null&&(Kt=r=r.return);continue}break}while(!0)}function DS(){var e=bu.current;return bu.current=yu,e===null?yu:e}function kg(){(rr===0||rr===3||rr===2)&&(rr=4),lr===null||!(xi&268435455)&&!(gh&268435455)||Zs(lr,mr)}function Nu(e,t){var r=ut;ut|=2;var s=DS();(lr!==e||mr!==t)&&(bs=null,ci(e,t));do try{zI();break}catch(a){FS(e,a)}while(!0);if(og(),ut=r,bu.current=s,Kt!==null)throw Error(se(261));return lr=null,mr=0,rr}function zI(){for(;Kt!==null;)OS(Kt)}function $I(){for(;Kt!==null&&!u4();)OS(Kt)}function OS(e){var t=$S(e.alternate,e,Xr);e.memoizedProps=e.pendingProps,t===null?LS(e):Kt=t,bg.current=null}function LS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=RI(r,t),r!==null){r.flags&=32767,Kt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rr=6,Kt=null;return}}else if(r=II(r,t,Xr),r!==null){Kt=r;return}if(t=t.sibling,t!==null){Kt=t;return}Kt=t=e}while(t!==null);rr===0&&(rr=5)}function Wa(e,t,r){var s=jt,a=xn.transition;try{xn.transition=null,jt=1,VI(e,t,r,s)}finally{xn.transition=a,jt=s}return null}function VI(e,t,r,s){do lo();while(ca!==null);if(ut&6)throw Error(se(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(j4(e,i),e===lr&&(Kt=lr=null,mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fd||(fd=!0,VS(su,function(){return lo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xn.transition,xn.transition=null;var o=jt;jt=1;var l=ut;ut|=4,bg.current=null,FI(e,r),IS(r,e),oI(bm),iu=!!ym,bm=ym=null,e.current=r,DI(r),h4(),ut=l,jt=o,xn.transition=i}else e.current=r;if(fd&&(fd=!1,ca=e,wu=a),i=e.pendingLanes,i===0&&(ga=null),p4(r.stateNode),Kr(e,Vt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(ju)throw ju=!1,e=$m,$m=null,e;return wu&1&&e.tag!==0&&lo(),i=e.pendingLanes,i&1?e===Vm?Ol++:(Ol=0,Vm=e):Ol=0,za(),null}function lo(){if(ca!==null){var e=v1(wu),t=xn.transition,r=jt;try{if(xn.transition=null,jt=16>e?16:e,ca===null)var s=!1;else{if(e=ca,ca=null,wu=0,ut&6)throw Error(se(331));var a=ut;for(ut|=4,we=e.current;we!==null;){var i=we,o=i.child;if(we.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(we=d;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:Fl(8,u,i)}var f=u.child;if(f!==null)f.return=u,we=f;else for(;we!==null;){u=we;var m=u.sibling,v=u.return;if(ES(u),u===d){we=null;break}if(m!==null){m.return=v,we=m;break}we=v}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}we=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,we=o;else e:for(;we!==null;){if(i=we,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,we=x;break e}we=i.return}}var p=e.current;for(we=p;we!==null;){o=we;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,we=b;else e:for(o=p;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ph(9,l)}}catch(N){Ot(l,l.return,N)}if(l===o){we=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,we=k;break e}we=l.return}}if(ut=a,za(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(oh,e)}catch{}s=!0}return s}finally{jt=r,xn.transition=t}}return!1}function ty(e,t,r){t=Oo(r,t),t=vS(e,t,1),e=pa(e,t,1),t=Rr(),e!==null&&(Rc(e,1,t),Kr(e,t))}function Ot(e,t,r){if(e.tag===3)ty(e,e,r);else for(;t!==null;){if(t.tag===3){ty(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ga===null||!ga.has(s))){e=Oo(r,e),e=yS(t,e,1),t=pa(t,e,1),e=Rr(),t!==null&&(Rc(t,1,e),Kr(t,e));break}}t=t.return}}function HI(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Rr(),e.pingedLanes|=e.suspendedLanes&r,lr===e&&(mr&r)===r&&(rr===4||rr===3&&(mr&130023424)===mr&&500>Vt()-wg?ci(e,0):jg|=r),Kr(e,t)}function zS(e,t){t===0&&(e.mode&1?(t=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):t=1);var r=Rr();e=Ts(e,t),e!==null&&(Rc(e,t,r),Kr(e,r))}function BI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zS(e,r)}function UI(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(se(314))}s!==null&&s.delete(t),zS(e,r)}var $S;$S=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ur.current)Br=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Br=!1,AI(e,t,r);Br=!!(e.flags&131072)}else Br=!1,Pt&&t.flags&1048576&&U1(t,fu,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Fd(e,t),e=t.pendingProps;var a=Ro(t,Sr.current);oo(t,r),a=pg(null,t,s,e,a,r);var i=gg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(s)?(i=!0,uu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,dg(t),a.updater=mh,t.stateNode=a,a._reactInternals=t,Em(t,s,e,r),t=Im(null,t,s,!0,i,r)):(t.tag=0,Pt&&i&&ng(t),Tr(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Fd(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=KI(s),e=Sn(s,e),a){case 0:t=Am(null,t,s,e,r);break e;case 1:t=Wv(null,t,s,e,r);break e;case 11:t=Bv(null,t,s,e,r);break e;case 14:t=Uv(null,t,s,Sn(s.type,e),r);break e}throw Error(se(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sn(s,a),Am(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sn(s,a),Wv(e,t,s,a,r);case 3:e:{if(NS(t),e===null)throw Error(se(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Z1(e,t),gu(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Oo(Error(se(423)),t),t=Kv(e,t,s,r,a);break e}else if(s!==a){a=Oo(Error(se(424)),t),t=Kv(e,t,s,r,a);break e}else for(tn=ma(t.stateNode.containerInfo.firstChild),rn=t,Pt=!0,_n=null,r=Q1(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mo(),s===a){t=As(e,t,r);break e}Tr(e,t,s,r)}t=t.child}return t;case 5:return Y1(t),e===null&&Cm(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,jm(s,a)?o=null:i!==null&&jm(s,i)&&(t.flags|=32),wS(e,t),Tr(e,t,o,r),t.child;case 6:return e===null&&Cm(t),null;case 13:return SS(e,t,r);case 4:return ug(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Fo(t,null,s,r):Tr(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sn(s,a),Bv(e,t,s,a,r);case 7:return Tr(e,t,t.pendingProps,r),t.child;case 8:return Tr(e,t,t.pendingProps.children,r),t.child;case 12:return Tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Nt(mu,s._currentValue),s._currentValue=o,i!==null)if(Ln(i.value,o)){if(i.children===a.children&&!Ur.current){t=As(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Cs(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),_m(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),_m(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,oo(t,r),a=vn(a),s=s(a),t.flags|=1,Tr(e,t,s,r),t.child;case 14:return s=t.type,a=Sn(s,t.pendingProps),a=Sn(s.type,a),Uv(e,t,s,a,r);case 15:return bS(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sn(s,a),Fd(e,t),t.tag=1,Wr(s)?(e=!0,uu(t)):e=!1,oo(t,r),xS(t,s,a),Em(t,s,a,r),Im(null,t,s,!0,e,r);case 19:return kS(e,t,r);case 22:return jS(e,t,r)}throw Error(se(156,t.tag))};function VS(e,t){return m1(e,t)}function WI(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,r,s){return new WI(e,t,r,s)}function Cg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KI(e){if(typeof e=="function")return Cg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wp)return 11;if(e===Kp)return 14}return 2}function va(e,t){var r=e.alternate;return r===null?(r=gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ld(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")Cg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wi:return di(r.children,a,i,t);case Up:o=8,a|=8;break;case Jf:return e=gn(12,r,t,a|2),e.elementType=Jf,e.lanes=i,e;case em:return e=gn(13,r,t,a),e.elementType=em,e.lanes=i,e;case tm:return e=gn(19,r,t,a),e.elementType=tm,e.lanes=i,e;case YN:return xh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GN:o=10;break e;case ZN:o=9;break e;case Wp:o=11;break e;case Kp:o=14;break e;case qs:o=16,s=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=gn(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function di(e,t,r,s){return e=gn(7,e,s,t),e.lanes=r,e}function xh(e,t,r,s){return e=gn(22,e,s,t),e.elementType=YN,e.lanes=r,e.stateNode={isHidden:!1},e}function _f(e,t,r){return e=gn(6,e,null,t),e.lanes=r,e}function Pf(e,t,r){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qI(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _g(e,t,r,s,a,i,o,l,c){return e=new qI(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(i),e}function QI(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function HS(e){if(!e)return wa;e=e._reactInternals;e:{if(Ri(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var r=e.type;if(Wr(r))return H1(e,r,t)}return t}function BS(e,t,r,s,a,i,o,l,c){return e=_g(r,s,!0,e,a,i,o,l,c),e.context=HS(null),r=e.current,s=Rr(),a=xa(r),i=Cs(s,a),i.callback=t??null,pa(r,i,a),e.current.lanes=a,Rc(e,a,s),Kr(e,s),e}function vh(e,t,r,s){var a=t.current,i=Rr(),o=xa(a);return r=HS(r),t.context===null?t.context=r:t.pendingContext=r,t=Cs(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=pa(a,t,o),e!==null&&(Mn(e,a,o,i),Id(e,a,o)),o}function Su(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ry(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Pg(e,t){ry(e,t),(e=e.alternate)&&ry(e,t)}function GI(){return null}var US=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eg(e){this._internalRoot=e}yh.prototype.render=Eg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));vh(e,t,null,null)};yh.prototype.unmount=Eg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){vh(null,e,null,null)}),t[Es]=null}};function yh(e){this._internalRoot=e}yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=j1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gs.length&&t!==0&&t<Gs[r].priority;r++);Gs.splice(r,0,e),r===0&&N1(e)}};function Tg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ny(){}function ZI(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Su(o);i.call(d)}}var o=BS(t,s,e,0,null,!1,!1,"",ny);return e._reactRootContainer=o,e[Es]=o.current,Zl(e.nodeType===8?e.parentNode:e),vi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Su(c);l.call(d)}}var c=_g(e,0,!1,null,null,!1,!1,"",ny);return e._reactRootContainer=c,e[Es]=c.current,Zl(e.nodeType===8?e.parentNode:e),vi(function(){vh(t,c,r,s)}),c}function jh(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Su(o);l.call(c)}}vh(t,o,e,a)}else o=ZI(r,t,e,a,s);return Su(o)}y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nl(t.pendingLanes);r!==0&&(Gp(t,r|1),Kr(t,Vt()),!(ut&6)&&(Lo=Vt()+500,za()))}break;case 13:vi(function(){var s=Ts(e,1);if(s!==null){var a=Rr();Mn(s,e,1,a)}}),Pg(e,1)}};Zp=function(e){if(e.tag===13){var t=Ts(e,134217728);if(t!==null){var r=Rr();Mn(t,e,134217728,r)}Pg(e,134217728)}};b1=function(e){if(e.tag===13){var t=xa(e),r=Ts(e,t);if(r!==null){var s=Rr();Mn(r,e,t,s)}Pg(e,t)}};j1=function(){return jt};w1=function(e,t){var r=jt;try{return jt=e,t()}finally{jt=r}};um=function(e,t,r){switch(t){case"input":if(sm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=uh(s);if(!a)throw Error(se(90));JN(s),sm(s,a)}}}break;case"textarea":t1(e,r);break;case"select":t=r.value,t!=null&&no(e,!!r.multiple,t,!1)}};l1=Ng;c1=vi;var YI={usingClientEntryPoint:!1,Events:[Fc,Gi,uh,i1,o1,Ng]},gl={findFiberByHostInstance:Ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XI={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h1(e),e===null?null:e.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||GI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{oh=md.inject(XI),ns=md}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YI;on.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(t))throw Error(se(200));return QI(e,t,null,r)};on.createRoot=function(e,t){if(!Tg(e))throw Error(se(299));var r=!1,s="",a=US;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=_g(e,1,!1,null,null,r,!1,s,a),e[Es]=t.current,Zl(e.nodeType===8?e.parentNode:e),new Eg(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=h1(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return vi(e)};on.hydrate=function(e,t,r){if(!bh(t))throw Error(se(200));return jh(null,e,t,!0,r)};on.hydrateRoot=function(e,t,r){if(!Tg(e))throw Error(se(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=US;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=BS(t,null,e,1,r??null,a,!1,i,o),e[Es]=t.current,Zl(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new yh(t)};on.render=function(e,t,r){if(!bh(t))throw Error(se(200));return jh(null,e,t,!1,r)};on.unmountComponentAtNode=function(e){if(!bh(e))throw Error(se(40));return e._reactRootContainer?(vi(function(){jh(null,null,e,!1,function(){e._reactRootContainer=null,e[Es]=null})}),!0):!1};on.unstable_batchedUpdates=Ng;on.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!bh(r))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return jh(e,t,r,!1,s)};on.version="18.3.1-next-f1338f8080-20240426";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(e){console.error(e)}}WS(),WN.exports=on;var Mi=WN.exports;const JI=IN(Mi);var KS,sy=Mi;KS=sy.createRoot,sy.hydrateRoot;function eR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,s,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var qS={exports:{}},QS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=h;function tR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rR=typeof Object.is=="function"?Object.is:tR,nR=zo.useState,sR=zo.useEffect,aR=zo.useLayoutEffect,iR=zo.useDebugValue;function oR(e,t){var r=t(),s=nR({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return aR(function(){a.value=r,a.getSnapshot=t,Ef(a)&&i({inst:a})},[e,r,t]),sR(function(){return Ef(a)&&i({inst:a}),e(function(){Ef(a)&&i({inst:a})})},[e]),iR(r),r}function Ef(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rR(e,r)}catch{return!0}}function lR(e,t){return t()}var cR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lR:oR;QS.useSyncExternalStore=zo.useSyncExternalStore!==void 0?zo.useSyncExternalStore:cR;qS.exports=QS;var dR=qS.exports;const uR=BN.useInsertionEffect,hR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fR=hR?h.useLayoutEffect:h.useEffect,mR=uR||fR,GS=e=>{const t=h.useRef([e,(...r)=>t[0](...r)]).current;return mR(()=>{t[0]=e}),t[1]},pR="popstate",Ag="pushState",Ig="replaceState",gR="hashchange",ay=[pR,Ag,Ig,gR],xR=e=>{for(const t of ay)addEventListener(t,e);return()=>{for(const t of ay)removeEventListener(t,e)}},ZS=(e,t)=>dR.useSyncExternalStore(xR,e,t),vR=()=>location.search,yR=({ssrSearch:e=""}={})=>ZS(vR,()=>e),iy=()=>location.pathname,bR=({ssrPath:e}={})=>ZS(iy,e?()=>e:iy),jR=(e,{replace:t=!1,state:r=null}={})=>history[t?Ig:Ag](r,"",e),wR=(e={})=>[bR(e),jR],oy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[oy]>"u"){for(const e of[Ag,Ig]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,oy,{value:!0})}const NR=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",YS=(e="")=>e==="/"?"":e,SR=(e,t)=>e[0]==="~"?e.slice(1):YS(t)+e,kR=(e="",t)=>NR(Um(YS(e)),Um(t)),CR=e=>e[0]==="?"?e.slice(1):e,Um=e=>{try{return decodeURI(e)}catch{return e}},_R=e=>Um(CR(e)),XS={hook:wR,searchHook:yR,parser:eR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},JS=h.createContext(XS),Xo=()=>h.useContext(JS),ek={},tk=h.createContext(ek),rk=()=>h.useContext(tk),wh=e=>{const[t,r]=e.hook(e);return[kR(e.base,t),GS((s,a)=>r(SR(s,e.base),a))]},nk=()=>wh(Xo()),PR=()=>{const e=Xo();return _R(e.searchHook(e))},sk=(e,t,r,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,m)=>[f,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...s?[l]:[]]:[!1,null]},ER=({children:e,...t})=>{var u,f;const r=Xo(),s=t.hook?XS:r;let a=s;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=h.useRef({}),c=l.current,d=c;for(let m in s){const v=m==="base"?s[m]+(t[m]||""):t[m]||s[m];c===d&&v!==d[m]&&(l.current=d={...d}),d[m]=v,v!==s[m]&&(a=d)}return h.createElement(JS.Provider,{value:a,children:e})},ly=({children:e,component:t},r)=>t?h.createElement(t,{params:r}):typeof e=="function"?e(r):e,TR=e=>{let t=h.useRef(ek),r=t.current;for(const s in e)e[s]!==r[s]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Gt=({path:e,nest:t,match:r,...s})=>{const a=Xo(),[i]=wh(a),[o,l,c]=r??sk(a.parser,e,i,t),d=TR({...rk(),...l});if(!o)return null;const u=c?h.createElement(ER,{base:c},ly(s,d)):ly(s,d);return h.createElement(tk.Provider,{value:d,children:u})},da=h.forwardRef((e,t)=>{const r=Xo(),[s,a]=wh(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:f,state:m,...v}=e,y=GS(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l==null||l(w),w.defaultPrevented||(w.preventDefault(),a(o,e)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:y,href:g}):h.createElement("a",{...v,onClick:y,href:g,className:u!=null&&u.call?u(s===o):u,children:d,ref:t})}),ak=e=>Array.isArray(e)?e.flatMap(t=>ak(t&&t.type===h.Fragment?t.props.children:t)):[e],AR=({children:e,location:t})=>{const r=Xo(),[s]=wh(r);for(const a of ak(e)){let i=0;if(h.isValidElement(a)&&(i=sk(r.parser,a.props.path,t||s,a.props.nest))[0])return h.cloneElement(a,{match:i})}return null};var Jo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yi=typeof window>"u"||"Deno"in globalThis;function hn(){}function IR(e,t){return typeof e=="function"?e(t):e}function Wm(e){return typeof e=="number"&&e>=0&&e!==1/0}function ik(e,t){return Math.max(e+(t||0)-Date.now(),0)}function co(e,t){return typeof e=="function"?e(t):e}function Pn(e,t){return typeof e=="function"?e(t):e}function cy(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Rg(o,t.options))return!1}else if(!ac(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function dy(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(bi(t.options.mutationKey)!==bi(i))return!1}else if(!ac(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Rg(e,t){return((t==null?void 0:t.queryKeyHashFn)||bi)(e)}function bi(e){return JSON.stringify(e,(t,r)=>Km(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ac(e[r],t[r])):!1}function ok(e,t){if(e===t)return e;const r=uy(e)&&uy(t);if(r||Km(e)&&Km(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=ok(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function ku(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function uy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Km(e){if(!hy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!hy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hy(e){return Object.prototype.toString.call(e)==="[object Object]"}function RR(e){return new Promise(t=>{setTimeout(t,e)})}function qm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ok(e,t):t}function MR(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function FR(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Mg=Symbol();function lk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ri,Js,yo,R0,DR=(R0=class extends Jo{constructor(){super();Re(this,ri);Re(this,Js);Re(this,yo);be(this,yo,t=>{if(!yi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){D(this,Js)||this.setEventListener(D(this,yo))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,Js))==null||t.call(this),be(this,Js,void 0))}setEventListener(t){var r;be(this,yo,t),(r=D(this,Js))==null||r.call(this),be(this,Js,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){D(this,ri)!==t&&(be(this,ri,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof D(this,ri)=="boolean"?D(this,ri):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ri=new WeakMap,Js=new WeakMap,yo=new WeakMap,R0),Fg=new DR,bo,ea,jo,M0,OR=(M0=class extends Jo{constructor(){super();Re(this,bo,!0);Re(this,ea);Re(this,jo);be(this,jo,t=>{if(!yi&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){D(this,ea)||this.setEventListener(D(this,jo))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,ea))==null||t.call(this),be(this,ea,void 0))}setEventListener(t){var r;be(this,jo,t),(r=D(this,ea))==null||r.call(this),be(this,ea,t(this.setOnline.bind(this)))}setOnline(t){D(this,bo)!==t&&(be(this,bo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return D(this,bo)}},bo=new WeakMap,ea=new WeakMap,jo=new WeakMap,M0),Cu=new OR;function Qm(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function LR(e){return Math.min(1e3*2**e,3e4)}function ck(e){return(e??"online")==="online"?Cu.isOnline():!0}var dk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tf(e){return e instanceof dk}function uk(e){let t=!1,r=0,s=!1,a;const i=Qm(),o=g=>{var w;s||(m(new dk(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Fg.isFocused()&&(e.networkMode==="always"||Cu.isOnline())&&e.canRun(),u=()=>ck(e.networkMode)&&e.canRun(),f=g=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,g),a==null||a(),i.resolve(g))},m=g=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,g),a==null||a(),i.reject(g))},v=()=>new Promise(g=>{var w;a=x=>{(s||d())&&g(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(s)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var F;if(s)return;const p=e.retry??(yi?0:3),b=e.retryDelay??LR,k=typeof b=="function"?b(r,x):b,N=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,x);if(t||!N){m(x);return}r++,(F=e.onFail)==null||F.call(e,r,x),RR(k).then(()=>d()?void 0:v()).then(()=>{t?m(x):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():v().then(y),i)}}function zR(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var er=zR(),ni,F0,hk=(F0=class{constructor(){Re(this,ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wm(this.gcTime)&&be(this,ni,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yi?1/0:5*60*1e3))}clearGcTimeout(){D(this,ni)&&(clearTimeout(D(this,ni)),be(this,ni,void 0))}},ni=new WeakMap,F0),wo,No,un,br,Pc,si,kn,vs,D0,$R=(D0=class extends hk{constructor(t){super();Re(this,kn);Re(this,wo);Re(this,No);Re(this,un);Re(this,br);Re(this,Pc);Re(this,si);be(this,si,!1),be(this,Pc,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,un,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,wo,VR(this.options)),this.state=t.state??D(this,wo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,br))==null?void 0:t.promise}setOptions(t){this.options={...D(this,Pc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,un).remove(this)}setData(t,r){const s=qm(this.state.data,t,this.options);return Ze(this,kn,vs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Ze(this,kn,vs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=D(this,br))==null?void 0:s.promise;return(a=D(this,br))==null||a.cancel(t),r?r.then(hn).catch(hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,wo))}isActive(){return this.observers.some(t=>Pn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!ik(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,br))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,br))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,un).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(D(this,br)&&(D(this,si)?D(this,br).cancel({revert:!0}):D(this,br).cancelRetry()),this.scheduleGc()),D(this,un).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,kn,vs).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(D(this,br))return D(this,br).continueRetry(),D(this,br).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,si,!0),s.signal)})},i=()=>{const f=lk(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),be(this,si,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),be(this,No,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ze(this,kn,vs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,v,y,g;Tf(f)&&f.silent||Ze(this,kn,vs).call(this,{type:"error",error:f}),Tf(f)||((v=(m=D(this,un).config).onError)==null||v.call(m,f,this),(g=(y=D(this,un).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return be(this,br,uk({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,v,y,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(v=(m=D(this,un).config).onSuccess)==null||v.call(m,f,this),(g=(y=D(this,un).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Ze(this,kn,vs).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Ze(this,kn,vs).call(this,{type:"pause"})},onContinue:()=>{Ze(this,kn,vs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),D(this,br).start()}},wo=new WeakMap,No=new WeakMap,un=new WeakMap,br=new WeakMap,Pc=new WeakMap,si=new WeakMap,kn=new WeakSet,vs=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...fk(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Tf(a)&&a.revert&&D(this,No)?{...D(this,No),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),er.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),D(this,un).notify({query:this,type:"updated",action:t})})},D0);function fk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ck(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qn,O0,HR=(O0=class extends Jo{constructor(t={}){super();Re(this,qn);this.config=t,be(this,qn,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??Rg(a,r);let o=this.get(i);return o||(o=new $R({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){D(this,qn).has(t.queryHash)||(D(this,qn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=D(this,qn).get(t.queryHash);r&&(t.destroy(),r===t&&D(this,qn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,qn).get(t)}getAll(){return[...D(this,qn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>cy(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>cy(t,s)):r}notify(t){er.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qn=new WeakMap,O0),Qn,_r,ai,Gn,Ws,L0,BR=(L0=class extends hk{constructor(t){super();Re(this,Gn);Re(this,Qn);Re(this,_r);Re(this,ai);this.mutationId=t.mutationId,be(this,_r,t.mutationCache),be(this,Qn,[]),this.state=t.state||mk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Qn).includes(t)||(D(this,Qn).push(t),this.clearGcTimeout(),D(this,_r).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,Qn,D(this,Qn).filter(r=>r!==t)),this.scheduleGc(),D(this,_r).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Qn).length||(this.state.status==="pending"?this.scheduleGc():D(this,_r).remove(this))}continue(){var t;return((t=D(this,ai))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,m,v,y,g,w,x,p,b,k,N,F,E;be(this,ai,uk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,I)=>{Ze(this,Gn,Ws).call(this,{type:"failed",failureCount:A,error:I})},onPause:()=>{Ze(this,Gn,Ws).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Gn,Ws).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,_r).canRun(this)}));const r=this.state.status==="pending",s=!D(this,ai).canStart();try{if(!r){Ze(this,Gn,Ws).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=D(this,_r).config).onMutate)==null?void 0:i.call(a,t,this));const I=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));I!==this.state.context&&Ze(this,Gn,Ws).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const A=await D(this,ai).start();return await((d=(c=D(this,_r).config).onSuccess)==null?void 0:d.call(c,A,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,A,t,this.state.context)),await((v=(m=D(this,_r).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,A,null,t,this.state.context)),Ze(this,Gn,Ws).call(this,{type:"success",data:A}),A}catch(A){try{throw await((x=(w=D(this,_r).config).onError)==null?void 0:x.call(w,A,t,this.state.context,this)),await((b=(p=this.options).onError)==null?void 0:b.call(p,A,t,this.state.context)),await((N=(k=D(this,_r).config).onSettled)==null?void 0:N.call(k,void 0,A,this.state.variables,this.state.context,this)),await((E=(F=this.options).onSettled)==null?void 0:E.call(F,void 0,A,t,this.state.context)),A}finally{Ze(this,Gn,Ws).call(this,{type:"error",error:A})}}finally{D(this,_r).runNext(this)}}},Qn=new WeakMap,_r=new WeakMap,ai=new WeakMap,Gn=new WeakSet,Ws=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),er.batch(()=>{D(this,Qn).forEach(s=>{s.onMutationUpdate(t)}),D(this,_r).notify({mutation:this,type:"updated",action:t})})},L0);function mk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yr,Ec,z0,UR=(z0=class extends Jo{constructor(t={}){super();Re(this,Yr);Re(this,Ec);this.config=t,be(this,Yr,new Map),be(this,Ec,Date.now())}build(t,r,s){const a=new BR({mutationCache:this,mutationId:++Yc(this,Ec)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=pd(t),s=D(this,Yr).get(r)??[];s.push(t),D(this,Yr).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=pd(t);if(D(this,Yr).has(r)){const a=(s=D(this,Yr).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?D(this,Yr).delete(r):D(this,Yr).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=D(this,Yr).get(pd(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=D(this,Yr).get(pd(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...D(this,Yr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>dy(r,s))}findAll(t={}){return this.getAll().filter(r=>dy(t,r))}notify(t){er.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return er.batch(()=>Promise.all(t.map(r=>r.continue().catch(hn))))}},Yr=new WeakMap,Ec=new WeakMap,z0);function pd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function fy(e){return{onFetch:(t,r)=>{var u,f,m,v,y;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=lk(t.options,t.fetchOptions),p=async(b,k,N)=>{if(g)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const F={queryKey:t.queryKey,pageParam:k,direction:N?"backward":"forward",meta:t.options.meta};w(F);const E=await x(F),{maxPages:A}=t.options,I=N?FR:MR;return{pages:I(b.pages,E,A),pageParams:I(b.pageParams,k,A)}};if(a&&i.length){const b=a==="backward",k=b?WR:my,N={pages:i,pageParams:o},F=k(s,N);l=await p(N,F,b)}else{const b=e??i.length;do{const k=c===0?o[0]??s.initialPageParam:my(s,l);if(c>0&&k==null)break;l=await p(l,k),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function my(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function WR(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Dt,ta,ra,So,ko,na,Co,_o,$0,KR=($0=class{constructor(e={}){Re(this,Dt);Re(this,ta);Re(this,ra);Re(this,So);Re(this,ko);Re(this,na);Re(this,Co);Re(this,_o);be(this,Dt,e.queryCache||new HR),be(this,ta,e.mutationCache||new UR),be(this,ra,e.defaultOptions||{}),be(this,So,new Map),be(this,ko,new Map),be(this,na,0)}mount(){Yc(this,na)._++,D(this,na)===1&&(be(this,Co,Fg.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Dt).onFocus())})),be(this,_o,Cu.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Dt).onOnline())})))}unmount(){var e,t;Yc(this,na)._--,D(this,na)===0&&((e=D(this,Co))==null||e.call(this),be(this,Co,void 0),(t=D(this,_o))==null||t.call(this),be(this,_o,void 0))}isFetching(e){return D(this,Dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,ta).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,Dt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=D(this,Dt).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(co(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return D(this,Dt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=D(this,Dt).get(s.queryHash),i=a==null?void 0:a.state.data,o=IR(t,i);if(o!==void 0)return D(this,Dt).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return er.batch(()=>D(this,Dt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,Dt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=D(this,Dt);er.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=D(this,Dt),s={type:"active",...e};return er.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=er.batch(()=>D(this,Dt).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(hn).catch(hn)}invalidateQueries(e={},t={}){return er.batch(()=>{if(D(this,Dt).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=er.batch(()=>D(this,Dt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(hn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(hn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=D(this,Dt).build(this,t);return r.isStaleByTime(co(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(hn).catch(hn)}fetchInfiniteQuery(e){return e.behavior=fy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(hn).catch(hn)}ensureInfiniteQueryData(e){return e.behavior=fy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cu.isOnline()?D(this,ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Dt)}getMutationCache(){return D(this,ta)}getDefaultOptions(){return D(this,ra)}setDefaultOptions(e){be(this,ra,e)}setQueryDefaults(e,t){D(this,So).set(bi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,So).values()];let r={};return t.forEach(s=>{ac(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){D(this,ko).set(bi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,ko).values()];let r={};return t.forEach(s=>{ac(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,ra).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Mg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,ra).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,Dt).clear(),D(this,ta).clear()}},Dt=new WeakMap,ta=new WeakMap,ra=new WeakMap,So=new WeakMap,ko=new WeakMap,na=new WeakMap,Co=new WeakMap,_o=new WeakMap,$0),Lr,st,Tc,Pr,ii,Po,sa,Zn,Ac,Eo,To,oi,li,aa,Ao,yt,kl,Gm,Zm,Ym,Xm,Jm,ep,tp,pk,V0,qR=(V0=class extends Jo{constructor(t,r){super();Re(this,yt);Re(this,Lr);Re(this,st);Re(this,Tc);Re(this,Pr);Re(this,ii);Re(this,Po);Re(this,sa);Re(this,Zn);Re(this,Ac);Re(this,Eo);Re(this,To);Re(this,oi);Re(this,li);Re(this,aa);Re(this,Ao,new Set);this.options=r,be(this,Lr,t),be(this,Zn,null),be(this,sa,Qm()),this.options.experimental_prefetchInRender||D(this,sa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,st).addObserver(this),py(D(this,st),this.options)?Ze(this,yt,kl).call(this):this.updateResult(),Ze(this,yt,Xm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rp(D(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rp(D(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,yt,Jm).call(this),Ze(this,yt,ep).call(this),D(this,st).removeObserver(this)}setOptions(t,r){const s=this.options,a=D(this,st);if(this.options=D(this,Lr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pn(this.options.enabled,D(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,yt,tp).call(this),D(this,st).setOptions(this.options),s._defaulted&&!ku(this.options,s)&&D(this,Lr).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,st),observer:this});const i=this.hasListeners();i&&gy(D(this,st),a,this.options,s)&&Ze(this,yt,kl).call(this),this.updateResult(r),i&&(D(this,st)!==a||Pn(this.options.enabled,D(this,st))!==Pn(s.enabled,D(this,st))||co(this.options.staleTime,D(this,st))!==co(s.staleTime,D(this,st)))&&Ze(this,yt,Gm).call(this);const o=Ze(this,yt,Zm).call(this);i&&(D(this,st)!==a||Pn(this.options.enabled,D(this,st))!==Pn(s.enabled,D(this,st))||o!==D(this,aa))&&Ze(this,yt,Ym).call(this,o)}getOptimisticResult(t){const r=D(this,Lr).getQueryCache().build(D(this,Lr),t),s=this.createResult(r,t);return GR(this,s)&&(be(this,Pr,s),be(this,Po,this.options),be(this,ii,D(this,st).state)),s}getCurrentResult(){return D(this,Pr)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){D(this,Ao).add(t)}getCurrentQuery(){return D(this,st)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=D(this,Lr).defaultQueryOptions(t),s=D(this,Lr).getQueryCache().build(D(this,Lr),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Ze(this,yt,kl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Pr)))}createResult(t,r){var A;const s=D(this,st),a=this.options,i=D(this,Pr),o=D(this,ii),l=D(this,Po),d=t!==s?t.state:D(this,Tc),{state:u}=t;let f={...u},m=!1,v;if(r._optimisticResults){const I=this.hasListeners(),C=!I&&py(t,r),S=I&&gy(t,s,r,a);(C||S)&&(f={...f,...fk(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:w}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===D(this,Ac))v=D(this,Eo);else try{be(this,Ac,r.select),v=r.select(f.data),v=qm(i==null?void 0:i.data,v,r),be(this,Eo,v),be(this,Zn,null)}catch(I){be(this,Zn,I)}else v=f.data;if(r.placeholderData!==void 0&&v===void 0&&w==="pending"){let I;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))I=i.data;else if(I=typeof r.placeholderData=="function"?r.placeholderData((A=D(this,To))==null?void 0:A.state.data,D(this,To)):r.placeholderData,r.select&&I!==void 0)try{I=r.select(I),be(this,Zn,null)}catch(C){be(this,Zn,C)}I!==void 0&&(w="success",v=qm(i==null?void 0:i.data,I,r),m=!0)}D(this,Zn)&&(y=D(this,Zn),v=D(this,Eo),g=Date.now(),w="error");const x=f.fetchStatus==="fetching",p=w==="pending",b=w==="error",k=p&&x,N=v!==void 0,E={status:w,fetchStatus:f.fetchStatus,isPending:p,isSuccess:w==="success",isError:b,isInitialLoading:k,isLoading:k,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!p,isLoadingError:b&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&N,isStale:Dg(t,r),refetch:this.refetch,promise:D(this,sa)};if(this.options.experimental_prefetchInRender){const I=$=>{E.status==="error"?$.reject(E.error):E.data!==void 0&&$.resolve(E.data)},C=()=>{const $=be(this,sa,E.promise=Qm());I($)},S=D(this,sa);switch(S.status){case"pending":t.queryHash===s.queryHash&&I(S);break;case"fulfilled":(E.status==="error"||E.data!==S.value)&&C();break;case"rejected":(E.status!=="error"||E.error!==S.reason)&&C();break}}return E}updateResult(t){const r=D(this,Pr),s=this.createResult(D(this,st),this.options);if(be(this,ii,D(this,st).state),be(this,Po,this.options),D(this,ii).data!==void 0&&be(this,To,D(this,st)),ku(s,r))return;be(this,Pr,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!D(this,Ao).size)return!0;const c=new Set(l??D(this,Ao));return this.options.throwOnError&&c.add("error"),Object.keys(D(this,Pr)).some(d=>{const u=d;return D(this,Pr)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Ze(this,yt,pk).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,yt,Xm).call(this)}},Lr=new WeakMap,st=new WeakMap,Tc=new WeakMap,Pr=new WeakMap,ii=new WeakMap,Po=new WeakMap,sa=new WeakMap,Zn=new WeakMap,Ac=new WeakMap,Eo=new WeakMap,To=new WeakMap,oi=new WeakMap,li=new WeakMap,aa=new WeakMap,Ao=new WeakMap,yt=new WeakSet,kl=function(t){Ze(this,yt,tp).call(this);let r=D(this,st).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(hn)),r},Gm=function(){Ze(this,yt,Jm).call(this);const t=co(this.options.staleTime,D(this,st));if(yi||D(this,Pr).isStale||!Wm(t))return;const s=ik(D(this,Pr).dataUpdatedAt,t)+1;be(this,oi,setTimeout(()=>{D(this,Pr).isStale||this.updateResult()},s))},Zm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,st)):this.options.refetchInterval)??!1},Ym=function(t){Ze(this,yt,ep).call(this),be(this,aa,t),!(yi||Pn(this.options.enabled,D(this,st))===!1||!Wm(D(this,aa))||D(this,aa)===0)&&be(this,li,setInterval(()=>{(this.options.refetchIntervalInBackground||Fg.isFocused())&&Ze(this,yt,kl).call(this)},D(this,aa)))},Xm=function(){Ze(this,yt,Gm).call(this),Ze(this,yt,Ym).call(this,Ze(this,yt,Zm).call(this))},Jm=function(){D(this,oi)&&(clearTimeout(D(this,oi)),be(this,oi,void 0))},ep=function(){D(this,li)&&(clearInterval(D(this,li)),be(this,li,void 0))},tp=function(){const t=D(this,Lr).getQueryCache().build(D(this,Lr),this.options);if(t===D(this,st))return;const r=D(this,st);be(this,st,t),be(this,Tc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pk=function(t){er.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(D(this,Pr))}),D(this,Lr).getQueryCache().notify({query:D(this,st),type:"observerResultsUpdated"})})},V0);function QR(e,t){return Pn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function py(e,t){return QR(e,t)||e.state.data!==void 0&&rp(e,t,t.refetchOnMount)}function rp(e,t,r){if(Pn(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Dg(e,t)}return!1}function gy(e,t,r,s){return(e!==t||Pn(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Dg(e,r)}function Dg(e,t){return Pn(t.enabled,e)!==!1&&e.isStaleByTime(co(t.staleTime,e))}function GR(e,t){return!ku(e.getCurrentResult(),t)}var ia,oa,zr,Ns,_s,zd,np,H0,ZR=(H0=class extends Jo{constructor(r,s){super();Re(this,_s);Re(this,ia);Re(this,oa);Re(this,zr);Re(this,Ns);be(this,ia,r),this.setOptions(s),this.bindMethods(),Ze(this,_s,zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=D(this,ia).defaultMutationOptions(r),ku(this.options,s)||D(this,ia).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,zr),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&bi(s.mutationKey)!==bi(this.options.mutationKey)?this.reset():((a=D(this,zr))==null?void 0:a.state.status)==="pending"&&D(this,zr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=D(this,zr))==null||r.removeObserver(this)}onMutationUpdate(r){Ze(this,_s,zd).call(this),Ze(this,_s,np).call(this,r)}getCurrentResult(){return D(this,oa)}reset(){var r;(r=D(this,zr))==null||r.removeObserver(this),be(this,zr,void 0),Ze(this,_s,zd).call(this),Ze(this,_s,np).call(this)}mutate(r,s){var a;return be(this,Ns,s),(a=D(this,zr))==null||a.removeObserver(this),be(this,zr,D(this,ia).getMutationCache().build(D(this,ia),this.options)),D(this,zr).addObserver(this),D(this,zr).execute(r)}},ia=new WeakMap,oa=new WeakMap,zr=new WeakMap,Ns=new WeakMap,_s=new WeakSet,zd=function(){var s;const r=((s=D(this,zr))==null?void 0:s.state)??mk();be(this,oa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},np=function(r){er.batch(()=>{var s,a,i,o,l,c,d,u;if(D(this,Ns)&&this.hasListeners()){const f=D(this,oa).variables,m=D(this,oa).context;(r==null?void 0:r.type)==="success"?((a=(s=D(this,Ns)).onSuccess)==null||a.call(s,r.data,f,m),(o=(i=D(this,Ns)).onSettled)==null||o.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=D(this,Ns)).onError)==null||c.call(l,r.error,f,m),(u=(d=D(this,Ns)).onSettled)==null||u.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(D(this,oa))})})},H0),gk=h.createContext(void 0),Ls=e=>{const t=h.useContext(gk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},YR=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(gk.Provider,{value:e,children:t})),xk=h.createContext(!1),XR=()=>h.useContext(xk);xk.Provider;function JR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var eM=h.createContext(JR()),tM=()=>h.useContext(eM);function vk(e,t){return typeof e=="function"?e(...t):!!e}function sp(){}var rM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},nM=e=>{h.useEffect(()=>{e.clearReset()},[e])},sM=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&vk(r,[e.error,s]),aM=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},iM=(e,t)=>e.isLoading&&e.isFetching&&!t,oM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,xy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function lM(e,t,r){var u,f,m,v,y;const s=Ls(),a=XR(),i=tM(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",aM(o),rM(o,i),nM(i);const l=!s.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(g=>{const w=a?sp:c.subscribe(er.batchCalls(g));return c.updateResult(),w},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),oM(o,d))throw xy(o,c,i);if(sM({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((v=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,d),o.experimental_prefetchInRender&&!yi&&iM(d,a)){const g=l?xy(o,c,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;g==null||g.catch(sp).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Je(e,t){return lM(e,qR)}function dt(e,t){const r=Ls(),[s]=h.useState(()=>new ZR(r,e));h.useEffect(()=>{s.setOptions(e)},[s,e]);const a=h.useSyncExternalStore(h.useCallback(o=>s.subscribe(er.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=h.useCallback((o,l)=>{s.mutate(o,l).catch(sp)},[s]);if(a.error&&vk(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function yk(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ht(e,t,r){const s=r instanceof FormData,a=await fetch(t,{method:e,headers:!s&&r?{"Content-Type":"application/json"}:{},body:s?r:r?JSON.stringify(r):void 0,credentials:"include"});return await yk(a),a}const cM=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await yk(r),await r.json())},Vr=new KR({defaultOptions:{queries:{queryFn:cM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),dM=1,uM=1e6;let Af=0;function hM(){return Af=(Af+1)%Number.MAX_SAFE_INTEGER,Af.toString()}const If=new Map,vy=e=>{if(If.has(e))return;const t=setTimeout(()=>{If.delete(e),Ll({type:"REMOVE_TOAST",toastId:e})},uM);If.set(e,t)},fM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?vy(r):e.toasts.forEach(s=>{vy(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},$d=[];let Vd={toasts:[]};function Ll(e){Vd=fM(Vd,e),$d.forEach(t=>{t(Vd)})}function mM({...e}){const t=hM(),r=a=>Ll({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Ll({type:"DISMISS_TOAST",toastId:t});return Ll({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function qr(){const[e,t]=h.useState(Vd);return h.useEffect(()=>($d.push(t),()=>{const r=$d.indexOf(t);r>-1&&$d.splice(r,1)}),[e]),{...e,toast:mM,dismiss:r=>Ll({type:"DISMISS_TOAST",toastId:r})}}function ke(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function yy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Og(...e){return t=>{let r=!1;const s=e.map(a=>{const i=yy(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():yy(e[a],null)}}}}function Ge(...e){return h.useCallback(Og(...e),e)}function pM(e,t){const r=h.createContext(t),s=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Cr(e,t=[]){let r=[];function s(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const d=f=>{var x;const{scope:m,children:v,...y}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=h.useMemo(()=>y,Object.values(y));return n.jsx(g.Provider,{value:w,children:v})};d.displayName=i+"Provider";function u(f,m){var g;const v=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,y=h.useContext(v);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,gM(a,...t)]}function gM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ji(e){const t=xM(e),r=h.forwardRef((s,a)=>{const{children:i,...o}=s,l=h.Children.toArray(i),c=l.find(vM);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return n.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var bk=ji("Slot");function xM(e){const t=h.forwardRef((r,s)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=bM(a),l=yM(i,a.props);return a.type!==h.Fragment&&(l.ref=s?Og(s,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jk=Symbol("radix.slottable");function wk(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=jk,t}function vM(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jk}function yM(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function bM(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Nh(e){const t=e+"CollectionProvider",[r,s]=Cr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:x}=g,p=Pe.useRef(null),b=Pe.useRef(new Map).current;return n.jsx(a,{scope:w,itemMap:b,collectionRef:p,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=ji(l),d=Pe.forwardRef((g,w)=>{const{scope:x,children:p}=g,b=i(l,x),k=Ge(w,b.collectionRef);return n.jsx(c,{ref:k,children:p})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=ji(u),v=Pe.forwardRef((g,w)=>{const{scope:x,children:p,...b}=g,k=Pe.useRef(null),N=Ge(w,k),F=i(u,x);return Pe.useEffect(()=>(F.itemMap.set(k,{ref:k,...b}),()=>void F.itemMap.delete(k))),n.jsx(m,{[f]:"",ref:N,children:p})});v.displayName=u;function y(g){const w=i(e+"CollectionConsumer",g);return Pe.useCallback(()=>{const p=w.collectionRef.current;if(!p)return[];const b=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((F,E)=>b.indexOf(F.ref.current)-b.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},y,s]}var jM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=jM.reduce((e,t)=>{const r=ji(`Primitive.${t}`),s=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Nk(e,t){e&&Mi.flushSync(()=>e.dispatchEvent(t))}function Ht(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function wM(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e);h.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var NM="DismissableLayer",ap="dismissableLayer.update",SM="dismissableLayer.pointerDownOutside",kM="dismissableLayer.focusOutside",by,Sk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),el=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(Sk),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=h.useState({}),y=Ge(t,E=>f(E)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(w),p=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,k=p>=x,N=_M(E=>{const A=E.target,I=[...d.branches].some(C=>C.contains(A));!k||I||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),F=PM(E=>{const A=E.target;[...d.branches].some(C=>C.contains(A))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return wM(E=>{p===d.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(by=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),jy(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=by)}},[u,m,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),jy())},[u,d]),h.useEffect(()=>{const E=()=>v({});return document.addEventListener(ap,E),()=>document.removeEventListener(ap,E)},[]),n.jsx(Ie.div,{...c,ref:y,style:{pointerEvents:b?k?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,F.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,N.onPointerDownCapture)})});el.displayName=NM;var CM="DismissableLayerBranch",kk=h.forwardRef((e,t)=>{const r=h.useContext(Sk),s=h.useRef(null),a=Ge(t,s);return h.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Ie.div,{...e,ref:a})});kk.displayName=CM;function _M(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Ck(SM,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function PM(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e),s=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!s.current&&Ck(kM,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function jy(){const e=new CustomEvent(ap);document.dispatchEvent(e)}function Ck(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Nk(a,i):a.dispatchEvent(i)}var EM=el,TM=kk,Qt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},AM="Portal",Oc=h.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=h.useState(!1);Qt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?JI.createPortal(n.jsx(Ie.div,{...s,ref:t}),o):null});Oc.displayName=AM;function IM(e,t){return h.useReducer((r,s)=>t[r][s]??r,e)}var Hn=e=>{const{present:t,children:r}=e,s=RM(t),a=typeof r=="function"?r({present:s.isPresent}):h.Children.only(r),i=Ge(s.ref,MM(a));return typeof r=="function"||s.isPresent?h.cloneElement(a,{ref:i}):null};Hn.displayName="Presence";function RM(e){const[t,r]=h.useState(),s=h.useRef({}),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=IM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=gd(s.current);i.current=l==="mounted"?d:"none"},[l]),Qt(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,v=gd(d);e?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Qt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=v=>{const g=gd(s.current).includes(v.animationName);if(v.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=v=>{v.target===t&&(i.current=gd(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function gd(e){return(e==null?void 0:e.animationName)||"none"}function MM(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=FM({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Ht(r),c=h.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function FM({defaultProp:e,onChange:t}){const r=h.useState(e),[s]=r,a=h.useRef(s),i=Ht(t);return h.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var DM="VisuallyHidden",Lc=h.forwardRef((e,t)=>n.jsx(Ie.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Lc.displayName=DM;var OM=Lc,Lg="ToastProvider",[zg,LM,zM]=Nh("Toast"),[_k,EH]=Cr("Toast",[zM]),[$M,Sh]=_k(Lg),Pk=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lg}\`. Expected non-empty \`string\`.`),n.jsx(zg.Provider,{scope:t,children:n.jsx($M,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(v=>v+1),[]),onToastRemove:h.useCallback(()=>u(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};Pk.displayName=Lg;var Ek="ToastViewport",VM=["F8"],ip="toast.viewportPause",op="toast.viewportResume",Tk=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=VM,label:a="Notifications ({hotkey})",...i}=e,o=Sh(Ek,r),l=LM(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=Ge(t,f,o.onViewportChange),v=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;h.useEffect(()=>{const w=x=>{var b;s.length!==0&&s.every(k=>x[k]||x.code===k)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),h.useEffect(()=>{const w=c.current,x=f.current;if(y&&w&&x){const p=()=>{if(!o.isClosePausedRef.current){const F=new CustomEvent(ip);x.dispatchEvent(F),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const F=new CustomEvent(op);x.dispatchEvent(F),o.isClosePausedRef.current=!1}},k=F=>{!w.contains(F.relatedTarget)&&b()},N=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",p),w.addEventListener("focusout",k),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",N),window.addEventListener("blur",p),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",k),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",p),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const p=l().map(b=>{const k=b.ref.current,N=[k,...eF(k)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?p.reverse():p).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const x=p=>{var N,F,E;const b=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!b){const A=document.activeElement,I=p.shiftKey;if(p.target===w&&I){(N=d.current)==null||N.focus();return}const $=g({tabbingDirection:I?"backwards":"forwards"}),X=$.findIndex(Q=>Q===A);Rf($.slice(X+1))?p.preventDefault():I?(F=d.current)==null||F.focus():(E=u.current)==null||E.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,g]),n.jsxs(TM,{ref:c,role:"region","aria-label":a.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(lp,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Rf(w)}}),n.jsx(zg.Slot,{scope:r,children:n.jsx(Ie.ol,{tabIndex:-1,...i,ref:m})}),y&&n.jsx(lp,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Rf(w)}})]})});Tk.displayName=Ek;var Ak="ToastFocusProxy",lp=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Sh(Ak,r);return n.jsx(Lc,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});lp.displayName=Ak;var kh="Toast",HM="toast.swipeStart",BM="toast.swipeMove",UM="toast.swipeCancel",WM="toast.swipeEnd",Ik=h.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=bn({prop:s,defaultProp:a,onChange:i});return n.jsx(Hn,{present:r||l,children:n.jsx(QM,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ht(e.onPause),onResume:Ht(e.onResume),onSwipeStart:ke(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ke(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Ik.displayName=kh;var[KM,qM]=_k(kh,{onClose(){}}),QM=h.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:v,...y}=e,g=Sh(kh,r),[w,x]=h.useState(null),p=Ge(t,Q=>x(Q)),b=h.useRef(null),k=h.useRef(null),N=a||g.duration,F=h.useRef(0),E=h.useRef(N),A=h.useRef(0),{onToastAdd:I,onToastRemove:C}=g,S=Ht(()=>{var de;(w==null?void 0:w.contains(document.activeElement))&&((de=g.viewport)==null||de.focus()),o()}),$=h.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(A.current),F.current=new Date().getTime(),A.current=window.setTimeout(S,Q))},[S]);h.useEffect(()=>{const Q=g.viewport;if(Q){const de=()=>{$(E.current),d==null||d()},K=()=>{const le=new Date().getTime()-F.current;E.current=E.current-le,window.clearTimeout(A.current),c==null||c()};return Q.addEventListener(ip,K),Q.addEventListener(op,de),()=>{Q.removeEventListener(ip,K),Q.removeEventListener(op,de)}}},[g.viewport,N,c,d,$]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&$(N)},[i,N,g.isClosePausedRef,$]),h.useEffect(()=>(I(),()=>C()),[I,C]);const X=h.useMemo(()=>w?zk(w):null,[w]);return g.viewport?n.jsxs(n.Fragment,{children:[X&&n.jsx(GM,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),n.jsx(KM,{scope:r,onClose:S,children:Mi.createPortal(n.jsx(zg.ItemSlot,{scope:r,children:n.jsx(EM,{asChild:!0,onEscapeKeyDown:ke(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||S(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,Q=>{Q.key==="Escape"&&(l==null||l(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:ke(e.onPointerDown,Q=>{Q.button===0&&(b.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:ke(e.onPointerMove,Q=>{if(!b.current)return;const de=Q.clientX-b.current.x,K=Q.clientY-b.current.y,le=!!k.current,H=["left","right"].includes(g.swipeDirection),_=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,j=H?_(0,de):0,L=H?0:_(0,K),R=Q.pointerType==="touch"?10:2,q={x:j,y:L},T={originalEvent:Q,delta:q};le?(k.current=q,xd(BM,f,T,{discrete:!1})):wy(q,g.swipeDirection,R)?(k.current=q,xd(HM,u,T,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(de)>R||Math.abs(K)>R)&&(b.current=null)}),onPointerUp:ke(e.onPointerUp,Q=>{const de=k.current,K=Q.target;if(K.hasPointerCapture(Q.pointerId)&&K.releasePointerCapture(Q.pointerId),k.current=null,b.current=null,de){const le=Q.currentTarget,H={originalEvent:Q,delta:de};wy(de,g.swipeDirection,g.swipeThreshold)?xd(WM,v,H,{discrete:!0}):xd(UM,m,H,{discrete:!0}),le.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),GM=e=>{const{__scopeToast:t,children:r,...s}=e,a=Sh(kh,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return XM(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Oc,{asChild:!0,children:n.jsx(Lc,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},ZM="ToastTitle",Rk=h.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ie.div,{...s,ref:t})});Rk.displayName=ZM;var YM="ToastDescription",Mk=h.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ie.div,{...s,ref:t})});Mk.displayName=YM;var Fk="ToastAction",Dk=h.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(Lk,{altText:r,asChild:!0,children:n.jsx($g,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Fk}\`. Expected non-empty \`string\`.`),null)});Dk.displayName=Fk;var Ok="ToastClose",$g=h.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=qM(Ok,r);return n.jsx(Lk,{asChild:!0,children:n.jsx(Ie.button,{type:"button",...s,ref:t,onClick:ke(e.onClick,a.onClose)})})});$g.displayName=Ok;var Lk=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function zk(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),JM(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...zk(s))}}),t}function xd(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Nk(a,i):a.dispatchEvent(i)}var wy=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function XM(e=()=>{}){const t=Ht(e);Qt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function JM(e){return e.nodeType===e.ELEMENT_NODE}function eF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var tF=Pk,$k=Tk,Vk=Ik,Hk=Rk,Bk=Mk,Uk=Dk,Wk=$g;function Kk(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Kk(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function qk(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Kk(e))&&(s&&(s+=" "),s+=t);return s}const Ny=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sy=qk,zc=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return Sy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=Ny(u)||Ny(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...v}=u;return Object.entries(v).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,f,m]:d},[]);return Sy(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qk=(...e)=>e.filter((t,r,s)=>!!t&&s.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...nF,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:Qk("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const r=h.forwardRef(({className:s,...a},i)=>h.createElement(sF,{ref:i,iconNode:t,className:Qk(`lucide-${rF(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Te("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=Te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Te("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Te("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Te("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Te("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ug="-",bF=e=>{const t=wF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Ug);return l[0]===""&&l.length!==1&&l.shift(),Jk(l,t)||jF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},Jk=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?Jk(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Ug);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Ty=/^\[(.+)\]$/,jF=e=>{if(Ty.test(e)){const t=Ty.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},wF=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return SF(Object.entries(e.classGroups),r).forEach(([i,o])=>{fp(o,s,i,t)}),s},fp=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Ay(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(NF(a)){fp(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{fp(o,Ay(t,i),r,s)})})},Ay=(e,t)=>{let r=e;return t.split(Ug).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},NF=e=>e.isThemeGetter,SF=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,kF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},eC="!",CF=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let x=l[w];if(d===0){if(x===a&&(s||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(x==="/"){f=w;continue}}x==="["?d++:x==="]"&&d--}const m=c.length===0?l:l.substring(u),v=m.startsWith(eC),y=v?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},_F=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},PF=e=>({cache:kF(e.cacheSize),parseClassName:CF(e),...bF(e)}),EF=/\s+/,TF=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(EF);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=r(d);let y=!!v,g=s(y?m.substring(0,v):m);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=s(m),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const w=_F(u).join(":"),x=f?w+eC:w,p=x+g;if(i.includes(p))continue;i.push(p);const b=a(g,y);for(let k=0;k<b.length;++k){const N=b[k];i.push(x+N)}l=d+(l.length>0?" "+l:l)}return l};function AF(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tC(t))&&(s&&(s+=" "),s+=r);return s}const tC=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=tC(e[s]))&&(r&&(r+=" "),r+=t);return r};function IF(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=PF(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=TF(c,r);return a(c,u),u}return function(){return i(AF.apply(null,arguments))}}const St=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rC=/^\[(?:([a-z-]+):)?(.+)\]$/i,RF=/^\d+\/\d+$/,MF=new Set(["px","full","screen"]),FF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gs=e=>uo(e)||MF.has(e)||RF.test(e),Hs=e=>tl(e,"length",qF),uo=e=>!!e&&!Number.isNaN(Number(e)),Ff=e=>tl(e,"number",uo),xl=e=>!!e&&Number.isInteger(Number(e)),$F=e=>e.endsWith("%")&&uo(e.slice(0,-1)),qe=e=>rC.test(e),Bs=e=>FF.test(e),VF=new Set(["length","size","percentage"]),HF=e=>tl(e,VF,nC),BF=e=>tl(e,"position",nC),UF=new Set(["image","url"]),WF=e=>tl(e,UF,GF),KF=e=>tl(e,"",QF),vl=()=>!0,tl=(e,t,r)=>{const s=rC.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},qF=e=>DF.test(e)&&!OF.test(e),nC=()=>!1,QF=e=>LF.test(e),GF=e=>zF.test(e),ZF=()=>{const e=St("colors"),t=St("spacing"),r=St("blur"),s=St("brightness"),a=St("borderColor"),i=St("borderRadius"),o=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),d=St("grayscale"),u=St("hueRotate"),f=St("invert"),m=St("gap"),v=St("gradientColorStops"),y=St("gradientColorStopPositions"),g=St("inset"),w=St("margin"),x=St("opacity"),p=St("padding"),b=St("saturate"),k=St("scale"),N=St("sepia"),F=St("skew"),E=St("space"),A=St("translate"),I=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",qe,t],$=()=>[qe,t],X=()=>["",gs,Hs],Q=()=>["auto",uo,qe],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",qe],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[uo,qe];return{cacheSize:500,separator:":",theme:{colors:[vl],spacing:[gs,Hs],blur:["none","",Bs,qe],brightness:L(),borderColor:[e],borderRadius:["none","","full",Bs,qe],borderSpacing:$(),borderWidth:X(),contrast:L(),grayscale:_(),hueRotate:L(),invert:_(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[$F,Hs],inset:S(),margin:S(),opacity:L(),padding:$(),saturate:L(),scale:L(),sepia:_(),skew:L(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[Bs]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),qe]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,qe]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",xl,qe]}],"grid-cols":[{"grid-cols":[vl]}],"col-start-end":[{col:["auto",{span:["full",xl,qe]},qe]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[vl]}],"row-start-end":[{row:["auto",{span:[xl,qe]},qe]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[Bs]},Bs]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bs,Hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ff]}],"font-family":[{font:[vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",uo,Ff]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gs,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gs,Hs]}],"underline-offset":[{"underline-offset":["auto",gs,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),BF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[gs,qe]}],"outline-w":[{outline:[gs,Hs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[gs,Hs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bs,KF]}],"shadow-color":[{shadow:[vl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bs,qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[xl,qe]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gs,Hs,Ff]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YF=IF(ZF);function he(...e){return YF(qk(e))}const XF=tF,sC=h.forwardRef(({className:e,...t},r)=>n.jsx($k,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sC.displayName=$k.displayName;const JF=zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aC=h.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(Vk,{ref:s,className:he(JF({variant:t}),e),...r}));aC.displayName=Vk.displayName;const eD=h.forwardRef(({className:e,...t},r)=>n.jsx(Uk,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));eD.displayName=Uk.displayName;const iC=h.forwardRef(({className:e,...t},r)=>n.jsx(Wk,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Ph,{className:"h-4 w-4"})}));iC.displayName=Wk.displayName;const oC=h.forwardRef(({className:e,...t},r)=>n.jsx(Hk,{ref:r,className:he("text-sm font-semibold",e),...t}));oC.displayName=Hk.displayName;const lC=h.forwardRef(({className:e,...t},r)=>n.jsx(Bk,{ref:r,className:he("text-sm opacity-90",e),...t}));lC.displayName=Bk.displayName;function tD(){const{toasts:e}=qr();return n.jsxs(XF,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(aC,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(oC,{children:r}),s&&n.jsx(lC,{children:s})]}),a,n.jsx(iC,{})]},t)}),n.jsx(sC,{})]})}var rD=BN[" useId ".trim().toString()]||(()=>{}),nD=0;function Fn(e){const[t,r]=h.useState(rD());return Qt(()=>{r(s=>s??String(nD++))},[e]),t?`radix-${t}`:""}const sD=["top","right","bottom","left"],Sa=Math.min,en=Math.max,Eu=Math.round,yd=Math.floor,as=e=>({x:e,y:e}),aD={left:"right",right:"left",bottom:"top",top:"bottom"},iD={start:"end",end:"start"};function mp(e,t,r){return en(e,Sa(t,r))}function Is(e,t){return typeof e=="function"?e(t):e}function Rs(e){return e.split("-")[0]}function rl(e){return e.split("-")[1]}function Wg(e){return e==="x"?"y":"x"}function Kg(e){return e==="y"?"height":"width"}function ka(e){return["top","bottom"].includes(Rs(e))?"y":"x"}function qg(e){return Wg(ka(e))}function oD(e,t,r){r===void 0&&(r=!1);const s=rl(e),a=qg(e),i=Kg(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Tu(o)),[o,Tu(o)]}function lD(e){const t=Tu(e);return[pp(e),t,pp(t)]}function pp(e){return e.replace(/start|end/g,t=>iD[t])}function cD(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function dD(e,t,r,s){const a=rl(e);let i=cD(Rs(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(pp)))),i}function Tu(e){return e.replace(/left|right|bottom|top/g,t=>aD[t])}function uD(e){return{top:0,right:0,bottom:0,left:0,...e}}function cC(e){return typeof e!="number"?uD(e):{top:e,right:e,bottom:e,left:e}}function Au(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function Iy(e,t,r){let{reference:s,floating:a}=e;const i=ka(t),o=qg(t),l=Kg(o),c=Rs(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let v;switch(c){case"top":v={x:u,y:s.y-a.height};break;case"bottom":v={x:u,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:f};break;case"left":v={x:s.x-a.width,y:f};break;default:v={x:s.x,y:s.y}}switch(rl(t)){case"start":v[o]-=m*(r&&d?-1:1);break;case"end":v[o]+=m*(r&&d?-1:1);break}return v}const hD=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=Iy(d,s,c),m=s,v={},y=0;for(let g=0;g<l.length;g++){const{name:w,fn:x}=l[g],{x:p,y:b,data:k,reset:N}=await x({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:v,rects:d,platform:o,elements:{reference:e,floating:t}});u=p??u,f=b??f,v={...v,[w]:{...v[w],...k}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=Iy(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:v}};async function lc(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=Is(t,e),y=cC(v),w=l[m?f==="floating"?"reference":"floating":f],x=Au(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Au(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:b,strategy:c}):p);return{top:(x.top-N.top+y.top)/k.y,bottom:(N.bottom-x.bottom+y.bottom)/k.y,left:(x.left-N.left+y.left)/k.x,right:(N.right-x.right+y.right)/k.x}}const fD=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Is(e,t)||{};if(d==null)return{};const f=cC(u),m={x:r,y:s},v=qg(a),y=Kg(v),g=await o.getDimensions(d),w=v==="y",x=w?"top":"left",p=w?"bottom":"right",b=w?"clientHeight":"clientWidth",k=i.reference[y]+i.reference[v]-m[v]-i.floating[y],N=m[v]-i.reference[v],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=F?F[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(F)))&&(E=l.floating[b]||i.floating[y]);const A=k/2-N/2,I=E/2-g[y]/2-1,C=Sa(f[x],I),S=Sa(f[p],I),$=C,X=E-g[y]-S,Q=E/2-g[y]/2+A,de=mp($,Q,X),K=!c.arrow&&rl(a)!=null&&Q!==de&&i.reference[y]/2-(Q<$?C:S)-g[y]/2<0,le=K?Q<$?Q-$:Q-X:0;return{[v]:m[v]+le,data:{[v]:de,centerOffset:Q-de-le,...K&&{alignmentOffset:le}},reset:K}}}),mD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=Is(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Rs(a),p=ka(l),b=Rs(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!g?[Tu(l)]:lD(l)),F=y!=="none";!m&&F&&N.push(...dD(l,g,y,k));const E=[l,...N],A=await lc(t,w),I=[];let C=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&I.push(A[x]),f){const Q=oD(a,o,k);I.push(A[Q[0]],A[Q[1]])}if(C=[...C,{placement:a,overflows:I}],!I.every(Q=>Q<=0)){var S,$;const Q=(((S=i.flip)==null?void 0:S.index)||0)+1,de=E[Q];if(de)return{data:{index:Q,overflows:C},reset:{placement:de}};let K=($=C.filter(le=>le.overflows[0]<=0).sort((le,H)=>le.overflows[1]-H.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(v){case"bestFit":{var X;const le=(X=C.filter(H=>{if(F){const _=ka(H.placement);return _===p||_==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(_=>_>0).reduce((_,j)=>_+j,0)]).sort((H,_)=>H[1]-_[1])[0])==null?void 0:X[0];le&&(K=le);break}case"initialPlacement":K=l;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function Ry(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function My(e){return sD.some(t=>e[t]>=0)}const pD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Is(e,t);switch(s){case"referenceHidden":{const i=await lc(t,{...a,elementContext:"reference"}),o=Ry(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:My(o)}}}case"escaped":{const i=await lc(t,{...a,altBoundary:!0}),o=Ry(i,r.floating);return{data:{escapedOffsets:o,escaped:My(o)}}}default:return{}}}}};async function gD(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Rs(r),l=rl(r),c=ka(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Is(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(v=l==="end"?y*-1:y),c?{x:v*u,y:m*d}:{x:m*d,y:v*u}}const xD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await gD(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},vD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x,y:p}=w;return{x,y:p}}},...c}=Is(e,t),d={x:r,y:s},u=await lc(t,c),f=ka(Rs(a)),m=Wg(f);let v=d[m],y=d[f];if(i){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",p=v+u[w],b=v-u[x];v=mp(p,v,b)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",p=y+u[w],b=y-u[x];y=mp(p,y,b)}const g=l.fn({...t,[m]:v,[f]:y});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[m]:i,[f]:o}}}}}},yD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Is(e,t),u={x:r,y:s},f=ka(a),m=Wg(f);let v=u[m],y=u[f];const g=Is(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",k=i.reference[m]-i.floating[b]+w.mainAxis,N=i.reference[m]+i.reference[b]-w.mainAxis;v<k?v=k:v>N&&(v=N)}if(d){var x,p;const b=m==="y"?"width":"height",k=["top","left"].includes(Rs(a)),N=i.reference[f]-i.floating[b]+(k&&((x=o.offset)==null?void 0:x[f])||0)+(k?0:w.crossAxis),F=i.reference[f]+i.reference[b]+(k?0:((p=o.offset)==null?void 0:p[f])||0)-(k?w.crossAxis:0);y<N?y=N:y>F&&(y=F)}return{[m]:v,[f]:y}}}},bD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Is(e,t),u=await lc(t,d),f=Rs(a),m=rl(a),v=ka(a)==="y",{width:y,height:g}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=m==="end"?"top":"bottom");const p=g-u.top-u.bottom,b=y-u.left-u.right,k=Sa(g-u[w],p),N=Sa(y-u[x],b),F=!t.middlewareData.shift;let E=k,A=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=p),F&&!m){const C=en(u.left,0),S=en(u.right,0),$=en(u.top,0),X=en(u.bottom,0);v?A=y-2*(C!==0||S!==0?C+S:en(u.left,u.right)):E=g-2*($!==0||X!==0?$+X:en(u.top,u.bottom))}await c({...t,availableWidth:A,availableHeight:E});const I=await o.getDimensions(l.floating);return y!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Eh(){return typeof window<"u"}function nl(e){return dC(e)?(e.nodeName||"").toLowerCase():"#document"}function nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function us(e){var t;return(t=(dC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dC(e){return Eh()?e instanceof Node||e instanceof nn(e).Node:!1}function zn(e){return Eh()?e instanceof Element||e instanceof nn(e).Element:!1}function ls(e){return Eh()?e instanceof HTMLElement||e instanceof nn(e).HTMLElement:!1}function Fy(e){return!Eh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nn(e).ShadowRoot}function $c(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=$n(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function jD(e){return["table","td","th"].includes(nl(e))}function Th(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qg(e){const t=Gg(),r=zn(e)?$n(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function wD(e){let t=Ca(e);for(;ls(t)&&!Vo(t);){if(Qg(t))return t;if(Th(t))return null;t=Ca(t)}return null}function Gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vo(e){return["html","body","#document"].includes(nl(e))}function $n(e){return nn(e).getComputedStyle(e)}function Ah(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ca(e){if(nl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fy(e)&&e.host||us(e);return Fy(t)?t.host:t}function uC(e){const t=Ca(e);return Vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:ls(t)&&$c(t)?t:uC(t)}function cc(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=uC(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=nn(a);if(i){const l=gp(o);return t.concat(o,o.visualViewport||[],$c(a)?a:[],l&&r?cc(l):[])}return t.concat(a,cc(a,[],r))}function gp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hC(e){const t=$n(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ls(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Eu(r)!==i||Eu(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Zg(e){return zn(e)?e:e.contextElement}function ho(e){const t=Zg(e);if(!ls(t))return as(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=hC(t);let o=(i?Eu(r.width):r.width)/s,l=(i?Eu(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ND=as(0);function fC(e){const t=nn(e);return!Gg()||!t.visualViewport?ND:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==nn(e)?!1:t}function Si(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Zg(e);let o=as(1);t&&(s?zn(s)&&(o=ho(s)):o=ho(e));const l=SD(i,r,s)?fC(i):as(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=nn(i),v=s&&zn(s)?nn(s):s;let y=m,g=gp(y);for(;g&&s&&v!==y;){const w=ho(g),x=g.getBoundingClientRect(),p=$n(g),b=x.left+(g.clientLeft+parseFloat(p.paddingLeft))*w.x,k=x.top+(g.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=b,d+=k,y=nn(g),g=gp(y)}}return Au({width:u,height:f,x:c,y:d})}function Yg(e,t){const r=Ah(e).scrollLeft;return t?t.left+r:Si(us(e)).left+r}function mC(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:Yg(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function kD(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=us(s),l=t?Th(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=as(1);const u=as(0),f=ls(s);if((f||!f&&!i)&&((nl(s)!=="body"||$c(o))&&(c=Ah(s)),ls(s))){const v=Si(s);d=ho(s),u.x=v.x+s.clientLeft,u.y=v.y+s.clientTop}const m=o&&!f&&!i?mC(o,c,!0):as(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function CD(e){return Array.from(e.getClientRects())}function _D(e){const t=us(e),r=Ah(e),s=e.ownerDocument.body,a=en(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=en(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+Yg(e);const l=-r.scrollTop;return $n(s).direction==="rtl"&&(o+=en(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function PD(e,t){const r=nn(e),s=us(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Gg();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function ED(e,t){const r=Si(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=ls(e)?ho(e):as(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Dy(e,t,r){let s;if(t==="viewport")s=PD(e,r);else if(t==="document")s=_D(us(e));else if(zn(t))s=ED(t,r);else{const a=fC(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Au(s)}function pC(e,t){const r=Ca(e);return r===t||!zn(r)||Vo(r)?!1:$n(r).position==="fixed"||pC(r,t)}function TD(e,t){const r=t.get(e);if(r)return r;let s=cc(e,[],!1).filter(l=>zn(l)&&nl(l)!=="body"),a=null;const i=$n(e).position==="fixed";let o=i?Ca(e):e;for(;zn(o)&&!Vo(o);){const l=$n(o),c=Qg(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||$c(o)&&!c&&pC(e,o))?s=s.filter(u=>u!==o):a=l,o=Ca(o)}return t.set(e,s),s}function AD(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Th(t)?[]:TD(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=Dy(t,u,a);return d.top=en(f.top,d.top),d.right=Sa(f.right,d.right),d.bottom=Sa(f.bottom,d.bottom),d.left=en(f.left,d.left),d},Dy(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ID(e){const{width:t,height:r}=hC(e);return{width:t,height:r}}function RD(e,t,r){const s=ls(t),a=us(t),i=r==="fixed",o=Si(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=as(0);if(s||!s&&!i)if((nl(t)!=="body"||$c(a))&&(l=Ah(t)),s){const m=Si(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=Yg(a));const d=a&&!s&&!i?mC(a,l):as(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function Df(e){return $n(e).position==="static"}function Oy(e,t){if(!ls(e)||$n(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return us(e)===r&&(r=r.ownerDocument.body),r}function gC(e,t){const r=nn(e);if(Th(e))return r;if(!ls(e)){let a=Ca(e);for(;a&&!Vo(a);){if(zn(a)&&!Df(a))return a;a=Ca(a)}return r}let s=Oy(e,t);for(;s&&jD(s)&&Df(s);)s=Oy(s,t);return s&&Vo(s)&&Df(s)&&!Qg(s)?r:s||wD(e)||r}const MD=async function(e){const t=this.getOffsetParent||gC,r=this.getDimensions,s=await r(e.floating);return{reference:RD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function FD(e){return $n(e).direction==="rtl"}const DD={convertOffsetParentRelativeRectToViewportRelativeRect:kD,getDocumentElement:us,getClippingRect:AD,getOffsetParent:gC,getElementRects:MD,getClientRects:CD,getDimensions:ID,getScale:ho,isElement:zn,isRTL:FD};function xC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OD(e,t){let r=null,s;const a=us(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:v}=d;if(l||t(),!m||!v)return;const y=yd(f),g=yd(a.clientWidth-(u+m)),w=yd(a.clientHeight-(f+v)),x=yd(u),b={rootMargin:-y+"px "+-g+"px "+-w+"px "+-x+"px",threshold:en(0,Sa(1,c))||1};let k=!0;function N(F){const E=F[0].intersectionRatio;if(E!==c){if(!k)return o();E?o(!1,E):s=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!xC(d,e.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(N,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return o(!0),i}function LD(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Zg(e),u=a||i?[...d?cc(d):[],...cc(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=d&&l?OD(d,r):null;let m=-1,v=null;o&&(v=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(t)})),r()}),d&&!c&&v.observe(d),v.observe(t));let y,g=c?Si(e):null;c&&w();function w(){const x=Si(e);g&&!xC(g,x)&&r(),g=x,y=requestAnimationFrame(w)}return r(),()=>{var x;u.forEach(p=>{a&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),f==null||f(),(x=v)==null||x.disconnect(),v=null,c&&cancelAnimationFrame(y)}}const zD=xD,$D=vD,VD=mD,HD=bD,BD=pD,Ly=fD,UD=yD,WD=(e,t,r)=>{const s=new Map,a={platform:DD,...r},i={...a.platform,_c:s};return hD(e,t,{...a,platform:i})};var Hd=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Iu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Iu(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Iu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function vC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zy(e,t){const r=vC(e);return Math.round(t*r)/r}function Of(e){const t=h.useRef(e);return Hd(()=>{t.current=e}),t}function KD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=h.useState(s);Iu(m,s)||v(s);const[y,g]=h.useState(null),[w,x]=h.useState(null),p=h.useCallback(H=>{H!==F.current&&(F.current=H,g(H))},[]),b=h.useCallback(H=>{H!==E.current&&(E.current=H,x(H))},[]),k=i||y,N=o||w,F=h.useRef(null),E=h.useRef(null),A=h.useRef(u),I=c!=null,C=Of(c),S=Of(a),$=Of(d),X=h.useCallback(()=>{if(!F.current||!E.current)return;const H={placement:t,strategy:r,middleware:m};S.current&&(H.platform=S.current),WD(F.current,E.current,H).then(_=>{const j={..._,isPositioned:$.current!==!1};Q.current&&!Iu(A.current,j)&&(A.current=j,Mi.flushSync(()=>{f(j)}))})},[m,t,r,S,$]);Hd(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[d]);const Q=h.useRef(!1);Hd(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Hd(()=>{if(k&&(F.current=k),N&&(E.current=N),k&&N){if(C.current)return C.current(k,N,X);X()}},[k,N,X,C,I]);const de=h.useMemo(()=>({reference:F,floating:E,setReference:p,setFloating:b}),[p,b]),K=h.useMemo(()=>({reference:k,floating:N}),[k,N]),le=h.useMemo(()=>{const H={position:r,left:0,top:0};if(!K.floating)return H;const _=zy(K.floating,u.x),j=zy(K.floating,u.y);return l?{...H,transform:"translate("+_+"px, "+j+"px)",...vC(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:_,top:j}},[r,l,K.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:X,refs:de,elements:K,floatingStyles:le}),[u,X,de,K,le])}const qD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Ly({element:s.current,padding:a}).fn(r):{}:s?Ly({element:s,padding:a}).fn(r):{}}}},QD=(e,t)=>({...zD(e),options:[e,t]}),GD=(e,t)=>({...$D(e),options:[e,t]}),ZD=(e,t)=>({...UD(e),options:[e,t]}),YD=(e,t)=>({...VD(e),options:[e,t]}),XD=(e,t)=>({...HD(e),options:[e,t]}),JD=(e,t)=>({...BD(e),options:[e,t]}),eO=(e,t)=>({...qD(e),options:[e,t]});var tO="Arrow",yC=h.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(Ie.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});yC.displayName=tO;var rO=yC;function Xg(e){const[t,r]=h.useState(void 0);return Qt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Jg="Popper",[bC,sl]=Cr(Jg),[nO,jC]=bC(Jg),wC=e=>{const{__scopePopper:t,children:r}=e,[s,a]=h.useState(null);return n.jsx(nO,{scope:t,anchor:s,onAnchorChange:a,children:r})};wC.displayName=Jg;var NC="PopperAnchor",SC=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=jC(NC,r),o=h.useRef(null),l=Ge(t,o);return h.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(Ie.div,{...a,ref:l})});SC.displayName=NC;var ex="PopperContent",[sO,aO]=bC(ex),kC=h.forwardRef((e,t)=>{var B,te,fe,ve,Ne,_e;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:y,...g}=e,w=jC(ex,r),[x,p]=h.useState(null),b=Ge(t,et=>p(et)),[k,N]=h.useState(null),F=Xg(k),E=(F==null?void 0:F.width)??0,A=(F==null?void 0:F.height)??0,I=s+(i!=="center"?"-"+i:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},S=Array.isArray(d)?d:[d],$=S.length>0,X={padding:C,boundary:S.filter(oO),altBoundary:$},{refs:Q,floatingStyles:de,placement:K,isPositioned:le,middlewareData:H}=KD({strategy:"fixed",placement:I,whileElementsMounted:(...et)=>LD(...et,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[QD({mainAxis:a+A,alignmentAxis:o}),c&&GD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ZD():void 0,...X}),c&&YD({...X}),XD({...X,apply:({elements:et,rects:_t,availableWidth:sr,availableHeight:rt})=>{const{width:wt,height:fs}=_t.reference,Or=et.floating.style;Or.setProperty("--radix-popper-available-width",`${sr}px`),Or.setProperty("--radix-popper-available-height",`${rt}px`),Or.setProperty("--radix-popper-anchor-width",`${wt}px`),Or.setProperty("--radix-popper-anchor-height",`${fs}px`)}}),k&&eO({element:k,padding:l}),lO({arrowWidth:E,arrowHeight:A}),m&&JD({strategy:"referenceHidden",...X})]}),[_,j]=PC(K),L=Ht(y);Qt(()=>{le&&(L==null||L())},[le,L]);const R=(B=H.arrow)==null?void 0:B.x,q=(te=H.arrow)==null?void 0:te.y,T=((fe=H.arrow)==null?void 0:fe.centerOffset)!==0,[U,Z]=h.useState();return Qt(()=>{x&&Z(window.getComputedStyle(x).zIndex)},[x]),n.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:le?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(ve=H.transformOrigin)==null?void 0:ve.x,(Ne=H.transformOrigin)==null?void 0:Ne.y].join(" "),...((_e=H.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(sO,{scope:r,placedSide:_,onArrowChange:N,arrowX:R,arrowY:q,shouldHideArrow:T,children:n.jsx(Ie.div,{"data-side":_,"data-align":j,...g,ref:b,style:{...g.style,animation:le?void 0:"none"}})})})});kC.displayName=ex;var CC="PopperArrow",iO={top:"bottom",right:"left",bottom:"top",left:"right"},_C=h.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=aO(CC,s),o=iO[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(rO,{...a,ref:r,style:{...a.style,display:"block"}})})});_C.displayName=CC;function oO(e){return e!==null}var lO=e=>({name:"transformOrigin",options:e,fn(t){var w,x,p;const{placement:r,rects:s,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=PC(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,v=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let y="",g="";return d==="bottom"?(y=o?f:`${m}px`,g=`${-c}px`):d==="top"?(y=o?f:`${m}px`,g=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=o?f:`${v}px`):d==="left"&&(y=`${s.floating.width+c}px`,g=o?f:`${v}px`),{data:{x:y,y:g}}}});function PC(e){const[t,r="center"]=e.split("-");return[t,r]}var EC=wC,Ih=SC,tx=kC,rx=_C,[Rh,TH]=Cr("Tooltip",[sl]),nx=sl(),TC="TooltipProvider",cO=700,$y="tooltip.open",[dO,AC]=Rh(TC),IC=e=>{const{__scopeTooltip:t,delayDuration:r=cO,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(dO,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};IC.displayName=TC;var RC="Tooltip",[AH,Mh]=Rh(RC),xp="TooltipTrigger",uO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Mh(xp,r),i=AC(xp,r),o=nx(r),l=h.useRef(null),c=Ge(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(Ih,{asChild:!0,...o,children:n.jsx(Ie.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ke(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ke(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ke(e.onBlur,a.onClose),onClick:ke(e.onClick,a.onClose)})})});uO.displayName=xp;var hO="TooltipPortal",[IH,fO]=Rh(hO,{forceMount:void 0}),Ho="TooltipContent",MC=h.forwardRef((e,t)=>{const r=fO(Ho,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=Mh(Ho,e.__scopeTooltip);return n.jsx(Hn,{present:s||o.open,children:o.disableHoverableContent?n.jsx(FC,{side:a,...i,ref:t}):n.jsx(mO,{side:a,...i,ref:t})})}),mO=h.forwardRef((e,t)=>{const r=Mh(Ho,e.__scopeTooltip),s=AC(Ho,e.__scopeTooltip),a=h.useRef(null),i=Ge(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,m=h.useCallback(()=>{l(null),f(!1)},[f]),v=h.useCallback((y,g)=>{const w=y.currentTarget,x={x:y.clientX,y:y.clientY},p=yO(x,w.getBoundingClientRect()),b=bO(x,p),k=jO(g.getBoundingClientRect()),N=NO([...b,...k]);l(N),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const y=w=>v(w,u),g=w=>v(w,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[c,u,v,m]),h.useEffect(()=>{if(o){const y=g=>{const w=g.target,x={x:g.clientX,y:g.clientY},p=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!wO(x,o);p?m():b&&(m(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,m]),n.jsx(FC,{...e,ref:i})}),[pO,gO]=Rh(RC,{isInside:!1}),xO=wk("TooltipContent"),FC=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Mh(Ho,r),d=nx(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener($y,u),()=>document.removeEventListener($y,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(el,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(tx,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(xO,{children:s}),n.jsx(pO,{scope:r,isInside:!0,children:n.jsx(OM,{id:c.contentId,role:"tooltip",children:a||s})})]})})});MC.displayName=Ho;var DC="TooltipArrow",vO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=nx(r);return gO(DC,r).isInside?null:n.jsx(rx,{...a,...s,ref:t})});vO.displayName=DC;function yO(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function bO(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function jO(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function wO(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function NO(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),SO(t)}function SO(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var kO=IC,OC=MC;const CO=kO,_O=h.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(OC,{ref:s,sideOffset:t,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));_O.displayName=OC.displayName;function sx(){const{data:e,isLoading:t}=Je({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,isAdmin:(e==null?void 0:e.role)==="admin"}}const ax=zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=h.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?bk:"button";return n.jsx(o,{className:he(ax({variant:t,size:r,className:e})),ref:i,...a})});ie.displayName="Button";const ae=h.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));ae.displayName="Input";const ee=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ee.displayName="Card";const Ee=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",e),...t}));Ee.displayName="CardHeader";const Ae=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ae.displayName="CardTitle";const fr=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:he("text-sm text-muted-foreground",e),...t}));fr.displayName="CardDescription";const re=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:he("p-6 pt-0",e),...t}));re.displayName="CardContent";const PO=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",e),...t}));PO.displayName="CardFooter";function EO(e){const t=TO(e),r=h.forwardRef((s,a)=>{const{children:i,...o}=s,l=h.Children.toArray(i),c=l.find(IO);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return n.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function TO(e){const t=h.forwardRef((r,s)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=MO(a),l=RO(i,a.props);return a.type!==h.Fragment&&(l.ref=s?Og(s,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AO=Symbol("radix.slottable");function IO(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AO}function RO(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function MO(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var FO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vc=FO.reduce((e,t)=>{const r=EO(`Primitive.${t}`),s=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function DO(e,t){return h.useReducer((r,s)=>t[r][s]??r,e)}var Hc=e=>{const{present:t,children:r}=e,s=OO(t),a=typeof r=="function"?r({present:s.isPresent}):h.Children.only(r),i=Ge(s.ref,LO(a));return typeof r=="function"||s.isPresent?h.cloneElement(a,{ref:i}):null};Hc.displayName="Presence";function OO(e){const[t,r]=h.useState(),s=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=DO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=bd(s.current);i.current=l==="mounted"?d:"none"},[l]),Qt(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,v=bd(d);e?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Qt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=v=>{const g=bd(s.current).includes(CSS.escape(v.animationName));if(v.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=v=>{v.target===t&&(i.current=bd(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function bd(e){return(e==null?void 0:e.animationName)||"none"}function LO(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zO=h.createContext(void 0);function Bc(e){const t=h.useContext(zO);return e||t||"ltr"}function vp(e,[t,r]){return Math.min(r,Math.max(t,e))}function hi(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function $O(e,t){return h.useReducer((r,s)=>t[r][s]??r,e)}var ix="ScrollArea",[LC,RH]=Cr(ix),[VO,jn]=LC(ix),zC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[v,y]=h.useState(null),[g,w]=h.useState(null),[x,p]=h.useState(0),[b,k]=h.useState(0),[N,F]=h.useState(!1),[E,A]=h.useState(!1),I=Ge(t,S=>c(S)),C=Bc(a);return n.jsx(VO,{scope:r,type:s,dir:C,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:F,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:A,onCornerWidthChange:p,onCornerHeightChange:k,children:n.jsx(Vc.div,{dir:C,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});zC.displayName=ix;var $C="ScrollAreaViewport",VC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=jn($C,r),l=h.useRef(null),c=Ge(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Vc.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});VC.displayName=$C;var hs="ScrollAreaScrollbar",ox=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=jn(hs,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(HO,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(BO,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(HC,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(lx,{...s,ref:t}):null});ox.displayName=hs;var HO=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=jn(hs,e.__scopeScrollArea),[i,o]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Hc,{present:r||i,children:n.jsx(HC,{"data-state":i?"visible":"hidden",...s,ref:t})})}),BO=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=jn(hs,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Dh(()=>c("SCROLL_END"),100),[l,c]=$O("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const v=d[u];f!==v&&(c("SCROLL"),o()),f=v};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(Hc,{present:r||l!=="hidden",children:n.jsx(lx,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:hi(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:hi(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),HC=h.forwardRef((e,t)=>{const r=jn(hs,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=h.useState(!1),l=e.orientation==="horizontal",c=Dh(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Bo(r.viewport,c),Bo(r.content,c),n.jsx(Hc,{present:s||i,children:n.jsx(lx,{"data-state":i?"visible":"hidden",...a,ref:t})})}),lx=h.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=jn(hs,e.__scopeScrollArea),i=h.useRef(null),o=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=qC(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,v){return GO(m,o.current,l,v)}return r==="horizontal"?n.jsx(UO,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,v=Vy(m,l,a.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(WO,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,v=Vy(m,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),UO=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=jn(hs,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=Ge(t,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(UC,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),GC(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Mu(o.paddingLeft),paddingEnd:Mu(o.paddingRight)}})}})}),WO=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=jn(hs,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=Ge(t,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(UC,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),GC(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Mu(o.paddingTop),paddingEnd:Mu(o.paddingBottom)}})}})}),[KO,BC]=LC(hs),UC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,v=jn(hs,r),[y,g]=h.useState(null),w=Ge(t,I=>g(I)),x=h.useRef(null),p=h.useRef(""),b=v.viewport,k=s.content-s.viewport,N=Ht(u),F=Ht(c),E=Dh(f,10);function A(I){if(x.current){const C=I.clientX-x.current.left,S=I.clientY-x.current.top;d({x:C,y:S})}}return h.useEffect(()=>{const I=C=>{const S=C.target;(y==null?void 0:y.contains(S))&&N(C,k)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,y,k,N]),h.useEffect(F,[s,F]),Bo(y,E),Bo(v.content,E),n.jsx(KO,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ht(i),onThumbPointerUp:Ht(o),onThumbPositionChange:F,onThumbPointerDown:Ht(l),children:n.jsx(Vc.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:hi(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=y.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),A(I))}),onPointerMove:hi(e.onPointerMove,A),onPointerUp:hi(e.onPointerUp,I=>{const C=I.target;C.hasPointerCapture(I.pointerId)&&C.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=p.current,v.viewport&&(v.viewport.style.scrollBehavior=""),x.current=null})})})}),Ru="ScrollAreaThumb",WC=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=BC(Ru,e.__scopeScrollArea);return n.jsx(Hc,{present:r||a.hasThumb,children:n.jsx(qO,{ref:t,...s})})}),qO=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=jn(Ru,r),o=BC(Ru,r),{onThumbPositionChange:l}=o,c=Ge(t,f=>o.onThumbChange(f)),d=h.useRef(void 0),u=Dh(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const v=ZO(f,l);d.current=v,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),n.jsx(Vc.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:hi(e.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),y=f.clientX-v.left,g=f.clientY-v.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:hi(e.onPointerUp,o.onThumbPointerUp)})});WC.displayName=Ru;var cx="ScrollAreaCorner",KC=h.forwardRef((e,t)=>{const r=jn(cx,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(QO,{...e,ref:t}):null});KC.displayName=cx;var QO=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=jn(cx,r),[i,o]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return Bo(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Bo(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(Vc.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Mu(e){return e?parseInt(e,10):0}function qC(e,t){const r=e/t;return isNaN(r)?0:r}function Fh(e){const t=qC(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function GO(e,t,r,s="ltr"){const a=Fh(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return QC([c,d],f)(e)}function Vy(e,t,r="ltr"){const s=Fh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=vp(e,c);return QC([0,o],[0,l])(d)}function QC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function GC(e,t){return e>0&&e<t}var ZO=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function Dh(e,t){const r=Ht(e),s=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),h.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Bo(e,t){const r=Ht(t);Qt(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var ZC=zC,YO=VC,XO=KC;const Fu=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(ZC,{ref:s,className:he("relative overflow-hidden",e),...r,children:[n.jsx(YO,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(YC,{}),n.jsx(XO,{})]}));Fu.displayName=ZC.displayName;const YC=h.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(ox,{ref:s,orientation:t,className:he("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(WC,{className:"relative flex-1 rounded-full bg-border"})}));YC.displayName=ox.displayName;function JO({isOpen:e,onClose:t,onMinimize:r,isMinimized:s}){const{toast:a}=qr(),[i,o]=h.useState([{id:"1",type:"bot",content:"Hallo! Ich bin Ihr Assistent für das DistriLesson PLANNER System. Wie kann ich Ihnen heute helfen?",timestamp:new Date}]),[l,c]=h.useState(""),d=dt({mutationFn:async m=>await(await ht("POST","/api/help/ask",{question:m})).json(),onSuccess:m=>{const v={id:Date.now()+"-bot",type:"bot",content:m.answer,timestamp:new Date};o(y=>[...y,v])},onError:m=>{a({title:"Fehler",description:m.message||"Fehler beim Abrufen der Hilfe-Antwort",variant:"destructive"})}}),u=()=>{if(!l.trim())return;const m={id:Date.now()+"-user",type:"user",content:l,timestamp:new Date};o(v=>[...v,m]),d.mutate(l),c("")},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),u())};return e?n.jsx("div",{className:he("fixed bottom-4 right-4 z-50 bg-background border border-border rounded-lg shadow-lg transition-all duration-300",s?"w-80 h-12":"w-96 h-[500px]"),children:n.jsxs(ee,{className:"h-full flex flex-col",children:[n.jsxs(Ee,{className:"pb-3 flex flex-row items-center justify-between space-y-0",children:[n.jsxs(Ae,{className:"text-lg flex items-center gap-2",children:[n.jsx(Mf,{className:"h-5 w-5 text-primary"}),"DistriLesson Hilfe-Bot"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ie,{variant:"ghost",size:"sm",onClick:r,"data-testid":"button-minimize-helpbot",children:s?n.jsx(cF,{className:"h-4 w-4"}):n.jsx(hF,{className:"h-4 w-4"})}),n.jsx(ie,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-close-helpbot",children:n.jsx(Ph,{className:"h-4 w-4"})})]})]}),!s&&n.jsxs(re,{className:"flex flex-col flex-1 p-4 pt-0",children:[n.jsx(Fu,{className:"flex-1 mb-4 pr-4",children:n.jsxs("div",{className:"space-y-4",children:[i.map(m=>n.jsxs("div",{className:he("flex gap-3",m.type==="user"?"justify-end":"justify-start"),children:[m.type==="bot"&&n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Mf,{className:"h-4 w-4 text-primary"})}),n.jsx("div",{className:he("max-w-[80%] rounded-lg p-3 text-sm",m.type==="user"?"bg-primary text-primary-foreground":"bg-muted"),"data-testid":`message-${m.type}-${m.id}`,children:m.content}),m.type==="user"&&n.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center flex-shrink-0",children:n.jsx(Xk,{className:"h-4 w-4"})})]},m.id)),d.isPending&&n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Mf,{className:"h-4 w-4 text-primary"})}),n.jsx("div",{className:"bg-muted rounded-lg p-3 text-sm",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ae,{placeholder:"Stellen Sie Ihre Frage...",value:l,onChange:m=>c(m.target.value),onKeyPress:f,disabled:d.isPending,"data-testid":"input-help-question"}),n.jsx(ie,{onClick:u,disabled:d.isPending||!l.trim(),"data-testid":"button-send-question",children:n.jsx(xF,{className:"h-4 w-4"})})]})]})]})}):null}function e3(){const[e,t]=h.useState(!1),[r,s]=h.useState(!1),a=()=>{t(!0),s(!1)},i=()=>{t(!1),s(!1)},o=()=>{s(!r)};return n.jsxs(n.Fragment,{children:[!e&&n.jsx(ie,{onClick:a,className:"fixed bottom-4 right-4 z-40 h-14 w-14 rounded-full shadow-lg","data-testid":"button-open-helpbot",children:n.jsx(uF,{className:"h-6 w-6"})}),n.jsx(JO,{isOpen:e,onClose:i,onMinimize:o,isMinimized:r})]})}function t3(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(ee,{className:"w-full max-w-md mx-4",children:n.jsxs(re,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(Ch,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function r3(){const e=()=>{window.location.href="/api/login"};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:n.jsxs("div",{className:"container mx-auto px-4 py-16",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx(wi,{className:"h-16 w-16 text-blue-600 dark:text-blue-400"})}),n.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Schulverwaltungssystem"}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Professionelle Verwaltung von Lehrern, Schülern, Klassen und Stundenplänen für moderne Schulen."})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[n.jsx(ee,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:n.jsxs(Ee,{children:[n.jsx(Hr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 mb-2"}),n.jsx(Ae,{children:"Lehrerverwaltung"}),n.jsx(fr,{children:"Verwalten Sie Lehrkräfte, deren Qualifikationen und Arbeitszeiten"})]})}),n.jsx(ee,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:n.jsxs(Ee,{children:[n.jsx(ts,{className:"h-8 w-8 text-green-600 dark:text-green-400 mb-2"}),n.jsx(Ae,{children:"Fächerverwaltung"}),n.jsx(fr,{children:"Organisieren Sie Unterrichtsfächer und Wochenstunden"})]})}),n.jsx(ee,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:n.jsxs(Ee,{children:[n.jsx(tr,{className:"h-8 w-8 text-purple-600 dark:text-purple-400 mb-2"}),n.jsx(Ae,{children:"Stundenplanung"}),n.jsx(fr,{children:"Erstellen und optimieren Sie Stundenpläne automatisch"})]})})]}),n.jsx("div",{className:"max-w-md mx-auto",children:n.jsxs(ee,{className:"bg-white dark:bg-gray-800 shadow-lg",children:[n.jsxs(Ee,{className:"text-center",children:[n.jsx(Ae,{className:"text-2xl",children:"Anmelden"}),n.jsx(fr,{children:"Melden Sie sich mit Ihrem Google-Konto an, um das System zu nutzen. Eine gültige Einladung ist erforderlich."})]}),n.jsxs(re,{children:[n.jsx(ie,{onClick:e,className:"w-full text-lg py-6","data-testid":"button-login",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Mit Google anmelden"]})}),n.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("p",{children:"Noch keine Einladung erhalten?"}),n.jsx("p",{children:"Wenden Sie sich an Ihren Administrator."})]})]})]})})]})})}const n3=zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",light:"border-transparent bg-blue-100 text-black hover:bg-blue-200 dark:bg-blue-900 dark:text-white dark:hover:bg-blue-800",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...r}){return n.jsx("div",{className:he(n3({variant:t}),e),...r})}const s3=zc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xt=h.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:he(s3({variant:t}),e),...r}));Xt.displayName="Alert";const XC=h.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:he("mb-1 font-medium leading-none tracking-tight",e),...t}));XC.displayName="AlertTitle";const Jt=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:he("text-sm [&_p]:leading-relaxed",e),...t}));Jt.displayName="AlertDescription";function a3(){const{token:e}=rk(),[t,r]=h.useState(null),[s,a]=h.useState(null),[i,o]=h.useState(!0);h.useEffect(()=>{(async()=>{if(!e){a("Ungültiger Einladungslink"),o(!1);return}try{const d=await fetch(`/api/invitation/${e}`),u=await d.json();d.ok?r(u):a(u.error||"Fehler beim Validieren der Einladung")}catch{a("Netzwerkfehler beim Validieren der Einladung")}finally{o(!1)}})()},[e]);const l=()=>{const c=new URLSearchParams({invitation_token:e||""});window.location.href=`/api/login?${c.toString()}`};return i?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:n.jsx(ee,{className:"w-full max-w-md",children:n.jsx(re,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-3",children:"Validiere Einladung..."})]})})})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:n.jsx("div",{className:"w-full max-w-md space-y-6",children:s?n.jsxs(ee,{className:"border-red-200 bg-red-50 dark:bg-red-900/20 dark:border-red-800",children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(oF,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-red-900 dark:text-red-100",children:"Einladung ungültig"}),n.jsx(fr,{className:"text-red-700 dark:text-red-300",children:"Diese Einladung kann nicht verwendet werden"})]})]})}),n.jsxs(re,{children:[n.jsx(Xt,{className:"border-red-200 bg-red-100 dark:bg-red-900/30 dark:border-red-700",children:n.jsx(Jt,{className:"text-red-800 dark:text-red-200",children:s})}),n.jsxs("div",{className:"mt-4 text-center",children:[n.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-4",children:"Mögliche Gründe:"}),n.jsxs("ul",{className:"text-sm text-red-600 dark:text-red-400 space-y-1",children:[n.jsx("li",{children:"• Die Einladung ist abgelaufen"}),n.jsx("li",{children:"• Die Einladung wurde bereits verwendet"}),n.jsx("li",{children:"• Der Einladungslink ist ungültig"})]}),n.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-4",children:"Bitte wenden Sie sich an Ihren Administrator für eine neue Einladung."})]})]})]}):t?n.jsxs(ee,{className:"border-green-200 bg-green-50 dark:bg-green-900/20 dark:border-green-800",children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wr,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-green-900 dark:text-green-100",children:"Einladung gültig"}),n.jsx(fr,{className:"text-green-700 dark:text-green-300",children:"Sie sind berechtigt, sich anzumelden"})]})]})}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg border",children:[n.jsx(dp,{className:"h-5 w-5 text-gray-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"E-Mail-Adresse"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400","data-testid":"text-invitation-email",children:t.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg border",children:[n.jsx(vF,{className:"h-5 w-5 text-gray-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Berechtigung"}),n.jsx("div",{className:"mt-1",children:n.jsx(Me,{variant:"light","data-testid":"badge-invitation-role",children:t.role==="admin"?"Administrator":"Benutzer"})})]})]})]}),n.jsxs(Xt,{className:"border-green-200 bg-green-100 dark:bg-green-900/30 dark:border-green-700",children:[n.jsx(hr,{className:"h-4 w-4"}),n.jsx(Jt,{className:"text-green-800 dark:text-green-200",children:"Diese Einladung ist noch gültig. Melden Sie sich mit Ihrem Google-Konto an, das der angegebenen E-Mail-Adresse entspricht."})]}),n.jsx(ie,{onClick:l,className:"w-full text-lg py-6","data-testid":"button-accept-invitation",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Mit Google anmelden und beitreten"]})}),n.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:n.jsxs("p",{children:["Stellen Sie sicher, dass Sie mit dem Google-Konto angemeldet sind, das der E-Mail-Adresse ",n.jsx("strong",{children:t.email})," entspricht."]})})]})]}):null})})}var i3="Label",JC=h.forwardRef((e,t)=>n.jsx(Ie.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));JC.displayName=i3;var e2=JC;const o3=zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=h.forwardRef(({className:e,...t},r)=>n.jsx(e2,{ref:r,className:he(o3(),e),...t}));J.displayName=e2.displayName;var Lf=0;function dx(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hy()),document.body.insertAdjacentElement("beforeend",e[1]??Hy()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lf--}},[])}function Hy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zf="focusScope.autoFocusOnMount",$f="focusScope.autoFocusOnUnmount",By={bubbles:!1,cancelable:!0},l3="FocusScope",Oh=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Ht(a),u=Ht(i),f=h.useRef(null),m=Ge(t,g=>c(g)),v=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let g=function(b){if(v.paused||!l)return;const k=b.target;l.contains(k)?f.current=k:Ks(f.current,{select:!0})},w=function(b){if(v.paused||!l)return;const k=b.relatedTarget;k!==null&&(l.contains(k)||Ks(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Ks(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const p=new MutationObserver(x);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),p.disconnect()}}},[s,l,v.paused]),h.useEffect(()=>{if(l){Wy.add(v);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(zf,By);l.addEventListener(zf,d),l.dispatchEvent(x),x.defaultPrevented||(c3(m3(t2(l)),{select:!0}),document.activeElement===g&&Ks(l))}return()=>{l.removeEventListener(zf,d),setTimeout(()=>{const x=new CustomEvent($f,By);l.addEventListener($f,u),l.dispatchEvent(x),x.defaultPrevented||Ks(g??document.body,{select:!0}),l.removeEventListener($f,u),Wy.remove(v)},0)}}},[l,d,u,v]);const y=h.useCallback(g=>{if(!r&&!s||v.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(w&&x){const p=g.currentTarget,[b,k]=d3(p);b&&k?!g.shiftKey&&x===k?(g.preventDefault(),r&&Ks(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),r&&Ks(k,{select:!0})):x===p&&g.preventDefault()}},[r,s,v.paused]);return n.jsx(Ie.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});Oh.displayName=l3;function c3(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Ks(s,{select:t}),document.activeElement!==r)return}function d3(e){const t=t2(e),r=Uy(t,e),s=Uy(t.reverse(),e);return[r,s]}function t2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Uy(e,t){for(const r of e)if(!u3(r,{upTo:t}))return r}function u3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function h3(e){return e instanceof HTMLInputElement&&"select"in e}function Ks(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&h3(e)&&t&&e.select()}}var Wy=f3();function f3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ky(e,t),e.unshift(t)},remove(t){var r;e=Ky(e,t),(r=e[0])==null||r.resume()}}}function Ky(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function m3(e){return e.filter(t=>t.tagName!=="A")}function ux(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var p3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oi=new WeakMap,jd=new WeakMap,wd={},Vf=0,r2=function(e){return e&&(e.host||r2(e.parentNode))},g3=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=r2(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},x3=function(e,t,r,s){var a=g3(t,Array.isArray(e)?e:[e]);wd[r]||(wd[r]=new WeakMap);var i=wd[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var v=m.getAttribute(s),y=v!==null&&v!=="false",g=(Oi.get(m)||0)+1,w=(i.get(m)||0)+1;Oi.set(m,g),i.set(m,w),o.push(m),g===1&&y&&jd.set(m,!0),w===1&&m.setAttribute(r,"true"),y||m.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return u(t),l.clear(),Vf++,function(){o.forEach(function(f){var m=Oi.get(f)-1,v=i.get(f)-1;Oi.set(f,m),i.set(f,v),m||(jd.has(f)||f.removeAttribute(s),jd.delete(f)),v||f.removeAttribute(r)}),Vf--,Vf||(Oi=new WeakMap,Oi=new WeakMap,jd=new WeakMap,wd={})}},hx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=p3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),x3(s,a,r,"aria-hidden")):function(){return null}},Xn=function(){return Xn=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Xn.apply(this,arguments)};function n2(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function v3(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Bd="right-scroll-bar-position",Ud="width-before-scroll-bar",y3="with-scroll-bars-hidden",b3="--removed-body-scroll-bar-size";function Hf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function j3(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var w3=typeof window<"u"?h.useLayoutEffect:h.useEffect,qy=new WeakMap;function N3(e,t){var r=j3(null,function(s){return e.forEach(function(a){return Hf(a,s)})});return w3(function(){var s=qy.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Hf(l,null)}),i.forEach(function(l){a.has(l)||Hf(l,o)})}qy.set(r,e)},[e]),r}function S3(e){return e}function k3(e,t){t===void 0&&(t=S3);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function C3(e){e===void 0&&(e={});var t=k3(null);return t.options=Xn({async:!0,ssr:!1},e),t}var s2=function(e){var t=e.sideCar,r=n2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,Xn({},r))};s2.isSideCarExport=!0;function _3(e,t){return e.useMedium(t),s2}var a2=C3(),Bf=function(){},Lh=h.forwardRef(function(e,t){var r=h.useRef(null),s=h.useState({onScrollCapture:Bf,onWheelCapture:Bf,onTouchMoveCapture:Bf}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,v=e.noIsolation,y=e.inert,g=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,p=e.gapMode,b=n2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,N=N3([r,t]),F=Xn(Xn({},b),a);return h.createElement(h.Fragment,null,u&&h.createElement(k,{sideCar:a2,removeScrollBar:d,shards:f,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:p}),o?h.cloneElement(h.Children.only(l),Xn(Xn({},F),{ref:N})):h.createElement(x,Xn({},F,{className:c,ref:N}),l))});Lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lh.classNames={fullWidth:Ud,zeroRight:Bd};var P3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=P3();return t&&e.setAttribute("nonce",t),e}function T3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var I3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=E3())&&(T3(t,r),A3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R3=function(){var e=I3();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},i2=function(){var e=R3(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},M3={left:0,top:0,right:0,gap:0},Uf=function(e){return parseInt(e||"",10)||0},F3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Uf(r),Uf(s),Uf(a)]},D3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M3;var t=F3(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},O3=i2(),fo="data-scroll-locked",L3=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(y3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(fo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bd,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ud,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Bd," .").concat(Bd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ud," .").concat(Ud,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(fo,`] {
    `).concat(b3,": ").concat(l,`px;
  }
`)},Qy=function(){var e=parseInt(document.body.getAttribute(fo)||"0",10);return isFinite(e)?e:0},z3=function(){h.useEffect(function(){return document.body.setAttribute(fo,(Qy()+1).toString()),function(){var e=Qy()-1;e<=0?document.body.removeAttribute(fo):document.body.setAttribute(fo,e.toString())}},[])},$3=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;z3();var i=h.useMemo(function(){return D3(a)},[a]);return h.createElement(O3,{styles:L3(i,!t,a,r?"":"!important")})},yp=!1;if(typeof window<"u")try{var Nd=Object.defineProperty({},"passive",{get:function(){return yp=!0,!0}});window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{yp=!1}var Li=yp?{passive:!1}:!1,V3=function(e){return e.tagName==="TEXTAREA"},o2=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!V3(e)&&r[t]==="visible")},H3=function(e){return o2(e,"overflowY")},B3=function(e){return o2(e,"overflowX")},Gy=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=l2(e,s);if(a){var i=c2(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},U3=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},W3=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},l2=function(e,t){return e==="v"?H3(t):B3(t)},c2=function(e,t){return e==="v"?U3(t):W3(t)},K3=function(e,t){return e==="h"&&t==="rtl"?-1:1},q3=function(e,t,r,s,a){var i=K3(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var v=c2(e,l),y=v[0],g=v[1],w=v[2],x=g-w-i*y;(y||x)&&l2(e,l)&&(f+=x,m+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Sd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zy=function(e){return[e.deltaX,e.deltaY]},Yy=function(e){return e&&"current"in e?e.current:e},Q3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},G3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Z3=0,zi=[];function Y3(e){var t=h.useRef([]),r=h.useRef([0,0]),s=h.useRef(),a=h.useState(Z3++)[0],i=h.useState(i2)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=v3([e.lockRef.current],(e.shards||[]).map(Yy),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Sd(g),p=r.current,b="deltaX"in g?g.deltaX:p[0]-x[0],k="deltaY"in g?g.deltaY:p[1]-x[1],N,F=g.target,E=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in g&&E==="h"&&F.type==="range")return!1;var A=Gy(E,F);if(!A)return!0;if(A?N=E:(N=E==="v"?"h":"v",A=Gy(E,F)),!A)return!1;if(!s.current&&"changedTouches"in g&&(b||k)&&(s.current=N),!N)return!0;var I=s.current||N;return q3(I,w,g,I==="h"?b:k,!0)},[]),c=h.useCallback(function(g){var w=g;if(!(!zi.length||zi[zi.length-1]!==i)){var x="deltaY"in w?Zy(w):Sd(w),p=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&Q3(N.delta,x)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var b=(o.current.shards||[]).map(Yy).filter(Boolean).filter(function(N){return N.contains(w.target)}),k=b.length>0?l(w,b[0]):!o.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,x,p){var b={name:g,delta:w,target:x,should:p,shadowParent:X3(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(k){return k!==b})},1)},[]),u=h.useCallback(function(g){r.current=Sd(g),s.current=void 0},[]),f=h.useCallback(function(g){d(g.type,Zy(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,Sd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return zi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Li),document.addEventListener("touchmove",c,Li),document.addEventListener("touchstart",u,Li),function(){zi=zi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Li),document.removeEventListener("touchmove",c,Li),document.removeEventListener("touchstart",u,Li)}},[]);var v=e.removeScrollBar,y=e.inert;return h.createElement(h.Fragment,null,y?h.createElement(i,{styles:G3(a)}):null,v?h.createElement($3,{gapMode:e.gapMode}):null)}function X3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const J3=_3(a2,Y3);var zh=h.forwardRef(function(e,t){return h.createElement(Lh,Xn({},e,{ref:t,sideCar:J3}))});zh.classNames=Lh.classNames;var eL=[" ","Enter","ArrowUp","ArrowDown"],tL=[" ","Enter"],Uc="Select",[$h,Vh,rL]=Nh(Uc),[al,MH]=Cr(Uc,[rL,sl]),Hh=sl(),[nL,$a]=al(Uc),[sL,aL]=al(Uc),d2=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:v,form:y}=e,g=Hh(t),[w,x]=h.useState(null),[p,b]=h.useState(null),[k,N]=h.useState(!1),F=Bc(d),[E=!1,A]=bn({prop:s,defaultProp:a,onChange:i}),[I,C]=bn({prop:o,defaultProp:l,onChange:c}),S=h.useRef(null),$=w?y||!!w.closest("form"):!0,[X,Q]=h.useState(new Set),de=Array.from(X).map(K=>K.props.value).join(";");return n.jsx(EC,{...g,children:n.jsxs(nL,{required:v,scope:t,trigger:w,onTriggerChange:x,valueNode:p,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:N,contentId:Fn(),value:I,onValueChange:C,open:E,onOpenChange:A,dir:F,triggerPointerDownPosRef:S,disabled:m,children:[n.jsx($h.Provider,{scope:t,children:n.jsx(sL,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(K=>{Q(le=>new Set(le).add(K))},[]),onNativeOptionRemove:h.useCallback(K=>{Q(le=>{const H=new Set(le);return H.delete(K),H})},[]),children:r})}),$?n.jsxs(F2,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:f,value:I,onChange:K=>C(K.target.value),disabled:m,form:y,children:[I===void 0?n.jsx("option",{value:""}):null,Array.from(X)]},de):null]})})};d2.displayName=Uc;var u2="SelectTrigger",h2=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Hh(r),o=$a(u2,r),l=o.disabled||s,c=Ge(t,o.onTriggerChange),d=Vh(r),u=h.useRef("touch"),[f,m,v]=D2(g=>{const w=d().filter(b=>!b.disabled),x=w.find(b=>b.value===o.value),p=O2(w,g,x);p!==void 0&&o.onValueChange(p.value)}),y=g=>{l||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(Ih,{asChild:!0,...i,children:n.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":M2(o.value)?"":void 0,...a,ref:c,onClick:ke(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:ke(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ke(a.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&eL.includes(g.key)&&(y(),g.preventDefault())})})})});h2.displayName=u2;var f2="SelectValue",m2=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=$a(f2,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ge(t,c.onValueNodeChange);return Qt(()=>{d(u)},[d,u]),n.jsx(Ie.span,{...l,ref:f,style:{pointerEvents:"none"},children:M2(c.value)?n.jsx(n.Fragment,{children:o}):i})});m2.displayName=f2;var iL="SelectIcon",p2=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Ie.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});p2.displayName=iL;var oL="SelectPortal",g2=e=>n.jsx(Oc,{asChild:!0,...e});g2.displayName=oL;var ki="SelectContent",x2=h.forwardRef((e,t)=>{const r=$a(ki,e.__scopeSelect),[s,a]=h.useState();if(Qt(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Mi.createPortal(n.jsx(v2,{scope:e.__scopeSelect,children:n.jsx($h.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(y2,{...e,ref:t})});x2.displayName=ki;var Nn=10,[v2,Va]=al(ki),lL="SelectContentImpl",cL=ji("SelectContent.RemoveScroll"),y2=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:y,hideWhenDetached:g,avoidCollisions:w,...x}=e,p=$a(ki,r),[b,k]=h.useState(null),[N,F]=h.useState(null),E=Ge(t,B=>k(B)),[A,I]=h.useState(null),[C,S]=h.useState(null),$=Vh(r),[X,Q]=h.useState(!1),de=h.useRef(!1);h.useEffect(()=>{if(b)return hx(b)},[b]),dx();const K=h.useCallback(B=>{const[te,...fe]=$().map(_e=>_e.ref.current),[ve]=fe.slice(-1),Ne=document.activeElement;for(const _e of B)if(_e===Ne||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===te&&N&&(N.scrollTop=0),_e===ve&&N&&(N.scrollTop=N.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ne))return},[$,N]),le=h.useCallback(()=>K([A,b]),[K,A,b]);h.useEffect(()=>{X&&le()},[X,le]);const{onOpenChange:H,triggerPointerDownPosRef:_}=p;h.useEffect(()=>{if(b){let B={x:0,y:0};const te=ve=>{var Ne,_e;B={x:Math.abs(Math.round(ve.pageX)-(((Ne=_.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((_e=_.current)==null?void 0:_e.y)??0))}},fe=ve=>{B.x<=10&&B.y<=10?ve.preventDefault():b.contains(ve.target)||H(!1),document.removeEventListener("pointermove",te),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",fe,{capture:!0})}}},[b,H,_]),h.useEffect(()=>{const B=()=>H(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[H]);const[j,L]=D2(B=>{const te=$().filter(Ne=>!Ne.disabled),fe=te.find(Ne=>Ne.ref.current===document.activeElement),ve=O2(te,B,fe);ve&&setTimeout(()=>ve.ref.current.focus())}),R=h.useCallback((B,te,fe)=>{const ve=!de.current&&!fe;(p.value!==void 0&&p.value===te||ve)&&(I(B),ve&&(de.current=!0))},[p.value]),q=h.useCallback(()=>b==null?void 0:b.focus(),[b]),T=h.useCallback((B,te,fe)=>{const ve=!de.current&&!fe;(p.value!==void 0&&p.value===te||ve)&&S(B)},[p.value]),U=s==="popper"?bp:b2,Z=U===bp?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return n.jsx(v2,{scope:r,content:b,viewport:N,onViewportChange:F,itemRefCallback:R,selectedItem:A,onItemLeave:q,itemTextRefCallback:T,focusSelectedItem:le,selectedItemText:C,position:s,isPositioned:X,searchRef:j,children:n.jsx(zh,{as:cL,allowPinchZoom:!0,children:n.jsx(Oh,{asChild:!0,trapped:p.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:ke(a,B=>{var te;(te=p.trigger)==null||te.focus({preventScroll:!0}),B.preventDefault()}),children:n.jsx(el,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:n.jsx(U,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:B=>B.preventDefault(),...x,...Z,onPlaced:()=>Q(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ke(x.onKeyDown,B=>{const te=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!te&&B.key.length===1&&L(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ve=$().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const Ne=B.target,_e=ve.indexOf(Ne);ve=ve.slice(_e+1)}setTimeout(()=>K(ve)),B.preventDefault()}})})})})})})});y2.displayName=lL;var dL="SelectItemAlignedPosition",b2=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=$a(ki,r),o=Va(ki,r),[l,c]=h.useState(null),[d,u]=h.useState(null),f=Ge(t,E=>u(E)),m=Vh(r),v=h.useRef(!1),y=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:x,focusSelectedItem:p}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&x){const E=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=C.left-A.left,_e=I.left-Ne,et=E.left-_e,_t=E.width+et,sr=Math.max(_t,A.width),rt=window.innerWidth-Nn,wt=vp(_e,[Nn,Math.max(Nn,rt-sr)]);l.style.minWidth=_t+"px",l.style.left=wt+"px"}else{const Ne=A.right-C.right,_e=window.innerWidth-I.right-Ne,et=window.innerWidth-E.right-_e,_t=E.width+et,sr=Math.max(_t,A.width),rt=window.innerWidth-Nn,wt=vp(_e,[Nn,Math.max(Nn,rt-sr)]);l.style.minWidth=_t+"px",l.style.right=wt+"px"}const S=m(),$=window.innerHeight-Nn*2,X=g.scrollHeight,Q=window.getComputedStyle(d),de=parseInt(Q.borderTopWidth,10),K=parseInt(Q.paddingTop,10),le=parseInt(Q.borderBottomWidth,10),H=parseInt(Q.paddingBottom,10),_=de+K+X+H+le,j=Math.min(w.offsetHeight*5,_),L=window.getComputedStyle(g),R=parseInt(L.paddingTop,10),q=parseInt(L.paddingBottom,10),T=E.top+E.height/2-Nn,U=$-T,Z=w.offsetHeight/2,B=w.offsetTop+Z,te=de+K+B,fe=_-te;if(te<=T){const Ne=S.length>0&&w===S[S.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-g.offsetTop-g.offsetHeight,et=Math.max(U,Z+(Ne?q:0)+_e+le),_t=te+et;l.style.height=_t+"px"}else{const Ne=S.length>0&&w===S[0].ref.current;l.style.top="0px";const et=Math.max(T,de+g.offsetTop+(Ne?R:0)+Z)+fe;l.style.height=et+"px",g.scrollTop=te-T+g.offsetTop}l.style.margin=`${Nn}px 0`,l.style.minHeight=j+"px",l.style.maxHeight=$+"px",s==null||s(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,x,i.dir,s]);Qt(()=>b(),[b]);const[k,N]=h.useState();Qt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const F=h.useCallback(E=>{E&&y.current===!0&&(b(),p==null||p(),y.current=!1)},[b,p]);return n.jsx(hL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:F,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:n.jsx(Ie.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});b2.displayName=dL;var uL="SelectPopperPosition",bp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Nn,...i}=e,o=Hh(r);return n.jsx(tx,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bp.displayName=uL;var[hL,fx]=al(ki,{}),jp="SelectViewport",j2=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Va(jp,r),o=fx(jp,r),l=Ge(t,i.onViewportChange),c=h.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx($h.Slot,{scope:r,children:n.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ke(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const v=Math.abs(c.current-u.scrollTop);if(v>0){const y=window.innerHeight-Nn*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(g,w);if(x<y){const p=x+v,b=Math.min(y,p),k=p-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});j2.displayName=jp;var w2="SelectGroup",[fL,mL]=al(w2),pL=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Fn();return n.jsx(fL,{scope:r,id:a,children:n.jsx(Ie.div,{role:"group","aria-labelledby":a,...s,ref:t})})});pL.displayName=w2;var N2="SelectLabel",S2=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=mL(N2,r);return n.jsx(Ie.div,{id:a.id,...s,ref:t})});S2.displayName=N2;var Du="SelectItem",[gL,k2]=al(Du),C2=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=$a(Du,r),c=Va(Du,r),d=l.value===s,[u,f]=h.useState(i??""),[m,v]=h.useState(!1),y=Ge(t,p=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,p,s,a)}),g=Fn(),w=h.useRef("touch"),x=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(gL,{scope:r,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(p=>{f(b=>b||((p==null?void 0:p.textContent)??"").trim())},[]),children:n.jsx($h.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(Ie.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:ke(o.onFocus,()=>v(!0)),onBlur:ke(o.onBlur,()=>v(!1)),onClick:ke(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:ke(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:ke(o.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:ke(o.onPointerMove,p=>{var b;w.current=p.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(o.onPointerLeave,p=>{var b;p.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ke(o.onKeyDown,p=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&p.key===" "||(tL.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});C2.displayName=Du;var Cl="SelectItemText",_2=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=$a(Cl,r),l=Va(Cl,r),c=k2(Cl,r),d=aL(Cl,r),[u,f]=h.useState(null),m=Ge(t,x=>f(x),c.onItemTextChange,x=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,x,c.value,c.disabled)}),v=u==null?void 0:u.textContent,y=h.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return Qt(()=>(g(y),()=>w(y)),[g,w,y]),n.jsxs(n.Fragment,{children:[n.jsx(Ie.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mi.createPortal(i.children,o.valueNode):null]})});_2.displayName=Cl;var P2="SelectItemIndicator",E2=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return k2(P2,r).isSelected?n.jsx(Ie.span,{"aria-hidden":!0,...s,ref:t}):null});E2.displayName=P2;var wp="SelectScrollUpButton",T2=h.forwardRef((e,t)=>{const r=Va(wp,e.__scopeSelect),s=fx(wp,e.__scopeSelect),[a,i]=h.useState(!1),o=Ge(t,s.onScrollButtonChange);return Qt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(I2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});T2.displayName=wp;var Np="SelectScrollDownButton",A2=h.forwardRef((e,t)=>{const r=Va(Np,e.__scopeSelect),s=fx(Np,e.__scopeSelect),[a,i]=h.useState(!1),o=Ge(t,s.onScrollButtonChange);return Qt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(I2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});A2.displayName=Np;var I2=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Va("SelectScrollButton",r),o=h.useRef(null),l=Vh(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Qt(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ie.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ke(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ke(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ke(a.onPointerLeave,()=>{c()})})}),xL="SelectSeparator",R2=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Ie.div,{"aria-hidden":!0,...s,ref:t})});R2.displayName=xL;var Sp="SelectArrow",vL=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Hh(r),i=$a(Sp,r),o=Va(Sp,r);return i.open&&o.position==="popper"?n.jsx(rx,{...a,...s,ref:t}):null});vL.displayName=Sp;function M2(e){return e===""||e===void 0}var F2=h.forwardRef((e,t)=>{const{value:r,...s}=e,a=h.useRef(null),i=Ge(t,a),o=ux(r);return h.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(Lc,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});F2.displayName="BubbleSelect";function D2(e){const t=Ht(e),r=h.useRef(""),s=h.useRef(0),a=h.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function O2(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=yL(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function yL(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var bL=d2,L2=h2,jL=m2,wL=p2,NL=g2,z2=x2,SL=j2,$2=S2,V2=C2,kL=_2,CL=E2,H2=T2,B2=A2,U2=R2;const He=bL,Be=jL,ze=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(L2,{ref:s,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(wL,{asChild:!0,children:n.jsx(Hg,{className:"h-4 w-4 opacity-50"})})]}));ze.displayName=L2.displayName;const W2=h.forwardRef(({className:e,...t},r)=>n.jsx(H2,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(iF,{className:"h-4 w-4"})}));W2.displayName=H2.displayName;const K2=h.forwardRef(({className:e,...t},r)=>n.jsx(B2,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Hg,{className:"h-4 w-4"})}));K2.displayName=B2.displayName;const $e=h.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(NL,{children:n.jsxs(z2,{ref:a,className:he("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(W2,{}),n.jsx(SL,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(K2,{})]})}));$e.displayName=z2.displayName;const _L=h.forwardRef(({className:e,...t},r)=>n.jsx($2,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_L.displayName=$2.displayName;const me=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(V2,{ref:s,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(CL,{children:n.jsx(Vg,{className:"h-4 w-4"})})}),n.jsx(kL,{children:t})]}));me.displayName=V2.displayName;const PL=h.forwardRef(({className:e,...t},r)=>n.jsx(U2,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));PL.displayName=U2.displayName;const _a=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:he("w-full caption-bottom text-sm",e),...t})}));_a.displayName="Table";const Pa=h.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:he("[&_tr]:border-b",e),...t}));Pa.displayName="TableHeader";const Ea=h.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:he("[&_tr:last-child]:border-0",e),...t}));Ea.displayName="TableBody";const EL=h.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));EL.displayName="TableFooter";const or=h.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:he("border-b transition-colors hover:bg-accent/50 hover:text-accent-foreground data-[state=selected]:bg-accent data-[state=selected]:text-accent-foreground",e),...t}));or.displayName="TableRow";const Qe=h.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:he("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Qe.displayName="TableHead";const Fe=h.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:he("p-4 align-middle text-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableCell";const TL=h.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:he("mt-4 text-sm text-muted-foreground",e),...t}));TL.displayName="TableCaption";function AL(e){return/^401: .*Unauthorized/.test(e.message)}function IL(){window.location.href="/api/login"}const RL="/assets/logo-removebg-preview_1757711438324-Bs5BoElY.png",ML=[{href:"/",label:"Dashboard",icon:oc},{href:"/planstellberechnung",label:"Planstellberechnung",icon:ic},{href:"/lehrerplanstellen",label:"Lehrerplanstellen",icon:Hr},{href:"/lehrerverwaltung",label:"Lehrerverwaltung",icon:$o},{href:"/klassenverwaltung",label:"Klassenverwaltung",icon:ya},{href:"/faecherverwaltung",label:"Fächerverwaltung",icon:ts},{href:"/stundenplaene",label:"Stundenpläne",icon:tr},{href:"/master-stundenplan",label:"Master-Stundenplan",icon:cp},{href:"/stdv-le",label:"StdV-Le",icon:hr},{href:"/stdv-kl-optimum",label:"StdV-Kl-Optimum",icon:hp},{href:"/schuljahreswechsel",label:"Schuljahreswechsel",icon:up}],FL=[{href:"/admin/users",label:"Benutzer verwalten",icon:Hr},{href:"/admin/chatgpt",label:"ChatGPT Import",icon:Pu},{href:"/csv-import",label:"CSV Import",icon:ui}];function gr(){const[e]=nk(),{isAdmin:t}=sx(),[r,s]=h.useState(!1),a=()=>{s(!r)};return n.jsxs("aside",{className:he("bg-card border-r border-border flex flex-col transition-all duration-300",r?"w-16":"w-64"),children:[n.jsxs("div",{className:he("border-b border-border flex items-center",r?"p-2 justify-center":"p-6"),children:[!r&&n.jsx("div",{className:"flex justify-center flex-1",children:n.jsx("div",{className:"w-full h-20 flex items-center justify-center overflow-hidden",children:n.jsx("img",{src:RL,alt:"DistriLesson PLANNER",className:"h-full object-contain"})})}),n.jsx(ie,{variant:"ghost",size:"sm",onClick:a,className:he("p-2 hover:bg-accent",r?"":"ml-2"),"data-testid":"button-toggle-sidebar",title:r?"Sidebar erweitern":"Sidebar ausblenden",children:r?n.jsx(dF,{className:"w-4 h-4"}):n.jsx(Gk,{className:"w-4 h-4"})})]}),n.jsxs("nav",{className:he("flex-1 space-y-2",r?"p-2":"p-4"),children:[ML.map(i=>{const o=i.icon,l=e===i.href;return n.jsxs(da,{href:i.href,className:he("flex items-center rounded-md transition-colors group relative",r?"p-2 justify-center":"space-x-3 px-3 py-2",l?"bg-accent text-accent-foreground font-medium":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${i.href.replace("/","")||"dashboard"}`,title:r?i.label:void 0,children:[n.jsx(o,{className:"w-5 h-5 flex-shrink-0"}),!r&&n.jsx("span",{children:i.label}),r&&n.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md shadow-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:i.label})]},i.href)}),t&&n.jsxs(n.Fragment,{children:[!r&&n.jsx("div",{className:"pt-4 pb-2",children:n.jsx("div",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Administration"})}),FL.map(i=>{const o=i.icon,l=e===i.href;return n.jsxs(da,{href:i.href,className:he("flex items-center rounded-md transition-colors group relative",r?"p-2 justify-center":"space-x-3 px-3 py-2",l?"bg-accent text-accent-foreground font-medium":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-admin-${i.href.replace("/","")}`,title:r?i.label:void 0,children:[n.jsx(o,{className:"w-5 h-5 flex-shrink-0"}),!r&&n.jsx("span",{children:i.label}),r&&n.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md shadow-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:i.label})]},i.href)})]})]}),n.jsx("div",{className:he("border-t border-border",r?"p-2":"p-4"),children:n.jsxs("div",{className:he("flex items-center",r?"justify-center":"space-x-3"),children:[n.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-secondary-foreground text-sm font-medium",children:"DS"})}),!r&&n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Dr. Schmidt"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrator"})]})]})})]})}function Bn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ci(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const q2=6048e5,DL=864e5;let OL={};function Bh(){return OL}function dc(e,t){var l,c,d,u;const r=Bh(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Bn(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ou(e){return dc(e,{weekStartsOn:1})}function Q2(e){const t=Bn(e),r=t.getFullYear(),s=Ci(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Ou(s),i=Ci(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ou(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Xy(e){const t=Bn(e);return t.setHours(0,0,0,0),t}function Jy(e){const t=Bn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function LL(e,t){const r=Xy(e),s=Xy(t),a=+r-Jy(r),i=+s-Jy(s);return Math.round((a-i)/DL)}function zL(e){const t=Q2(e),r=Ci(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ou(r)}function $L(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VL(e){if(!$L(e)&&typeof e!="number")return!1;const t=Bn(e);return!isNaN(Number(t))}function HL(e){const t=Bn(e),r=Ci(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const BL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UL=(e,t,r)=>{let s;const a=BL[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function mo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const WL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QL={date:mo({formats:WL,defaultWidth:"full"}),time:mo({formats:KL,defaultWidth:"full"}),dateTime:mo({formats:qL,defaultWidth:"full"})},GL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZL=(e,t,r,s)=>GL[e];function Jn(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const YL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ez={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nz=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sz={ordinalNumber:nz,era:Jn({values:YL,defaultWidth:"wide"}),quarter:Jn({values:XL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jn({values:JL,defaultWidth:"wide"}),day:Jn({values:ez,defaultWidth:"wide"}),dayPeriod:Jn({values:tz,defaultWidth:"wide",formattingValues:rz,defaultFormattingWidth:"wide"})};function es(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?iz(l,f=>f.test(o)):az(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function az(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function iz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function G2(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const oz=/^(\d+)(th|st|nd|rd)?/i,lz=/\d+/i,cz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dz={any:[/^b/i,/^(a|c)/i]},uz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hz={any:[/1/i,/2/i,/3/i,/4/i]},fz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yz={ordinalNumber:G2({matchPattern:oz,parsePattern:lz,valueCallback:e=>parseInt(e,10)}),era:es({matchPatterns:cz,defaultMatchWidth:"wide",parsePatterns:dz,defaultParseWidth:"any"}),quarter:es({matchPatterns:uz,defaultMatchWidth:"wide",parsePatterns:hz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:es({matchPatterns:fz,defaultMatchWidth:"wide",parsePatterns:mz,defaultParseWidth:"any"}),day:es({matchPatterns:pz,defaultMatchWidth:"wide",parsePatterns:gz,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:xz,defaultMatchWidth:"any",parsePatterns:vz,defaultParseWidth:"any"})},bz={code:"en-US",formatDistance:UL,formatLong:QL,formatRelative:ZL,localize:sz,match:yz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jz(e){const t=Bn(e);return LL(t,HL(t))+1}function wz(e){const t=Bn(e),r=+Ou(t)-+zL(t);return Math.round(r/q2)+1}function Z2(e,t){var u,f,m,v;const r=Bn(e),s=r.getFullYear(),a=Bh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(m=a.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=Ci(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=dc(o,t),c=Ci(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=dc(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Nz(e,t){var l,c,d,u;const r=Bh(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Z2(e,t),i=Ci(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),dc(i,t)}function Sz(e,t){const r=Bn(e),s=+dc(r,t)-+Nz(r,t);return Math.round(s/q2)+1}function bt(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Us={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return bt(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):bt(r+1,2)},d(e,t){return bt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return bt(e.getHours()%12||12,t.length)},H(e,t){return bt(e.getHours(),t.length)},m(e,t){return bt(e.getMinutes(),t.length)},s(e,t){return bt(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return bt(a,t.length)}},$i={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e0={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Us.y(e,t)},Y:function(e,t,r,s){const a=Z2(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return bt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):bt(i,t.length)},R:function(e,t){const r=Q2(e);return bt(r,t.length)},u:function(e,t){const r=e.getFullYear();return bt(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return bt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return bt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Us.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return bt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=Sz(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):bt(a,t.length)},I:function(e,t,r){const s=wz(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):bt(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Us.d(e,t)},D:function(e,t,r){const s=jz(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):bt(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return bt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return bt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return bt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=$i.noon:s===0?a=$i.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=$i.evening:s>=12?a=$i.afternoon:s>=4?a=$i.morning:a=$i.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Us.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Us.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):bt(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):bt(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Us.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Us.s(e,t)},S:function(e,t){return Us.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return r0(s);case"XXXX":case"XX":return Ka(s);case"XXXXX":case"XXX":default:return Ka(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return r0(s);case"xxxx":case"xx":return Ka(s);case"xxxxx":case"xxx":default:return Ka(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+t0(s,":");case"OOOO":default:return"GMT"+Ka(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+t0(s,":");case"zzzz":default:return"GMT"+Ka(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return bt(s,t.length)},T:function(e,t,r){const s=e.getTime();return bt(s,t.length)}};function t0(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+bt(i,2)}function r0(e,t){return e%60===0?(e>0?"-":"+")+bt(Math.abs(e)/60,2):Ka(e,t)}function Ka(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=bt(Math.trunc(s/60),2),i=bt(s%60,2);return r+a+t+i}const n0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Y2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},kz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return n0(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",n0(s,t)).replace("{{time}}",Y2(a,t))},Cz={p:Y2,P:kz},_z=/^D+$/,Pz=/^Y+$/,Ez=["D","DD","YY","YYYY"];function Tz(e){return _z.test(e)}function Az(e){return Pz.test(e)}function Iz(e,t,r){const s=Rz(e,t,r);if(console.warn(s),Ez.includes(e))throw new RangeError(s)}function Rz(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dz=/^'([^]*?)'?$/,Oz=/''/g,Lz=/[a-zA-Z]/;function s0(e,t,r){var u,f,m,v,y,g,w,x;const s=Bh(),a=(r==null?void 0:r.locale)??s.locale??bz,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(m=s.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((x=(w=s.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,l=Bn(e);if(!VL(l))throw new RangeError("Invalid time value");let c=t.match(Fz).map(p=>{const b=p[0];if(b==="p"||b==="P"){const k=Cz[b];return k(p,a.formatLong)}return p}).join("").match(Mz).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const b=p[0];if(b==="'")return{isToken:!1,value:zz(p)};if(e0[b])return{isToken:!0,value:p};if(b.match(Lz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const b=p.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Az(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Tz(b))&&Iz(b,t,String(e));const k=e0[b[0]];return k(l,b,a.localize,d)}).join("")}function zz(e){const t=e.match(Dz);return t?t[1].replace(Oz,"'"):e}const a0={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},$z=(e,t,r)=>{let s;const a=r!=null&&r.addSuffix?a0[e].withPreposition:a0[e].standalone;return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:"vor "+s:s},Vz={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},Hz={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Bz={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Uz={date:mo({formats:Vz,defaultWidth:"full"}),time:mo({formats:Hz,defaultWidth:"full"}),dateTime:mo({formats:Bz,defaultWidth:"full"})},Wz={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},Kz=(e,t,r,s)=>Wz[e],qz={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},Qz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},kp={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},Gz={narrow:kp.narrow,abbreviated:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:kp.wide},Zz={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},Yz={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},Xz={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},Jz=e=>Number(e)+".",e5={ordinalNumber:Jz,era:Jn({values:qz,defaultWidth:"wide"}),quarter:Jn({values:Qz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jn({values:kp,formattingValues:Gz,defaultWidth:"wide"}),day:Jn({values:Zz,defaultWidth:"wide"}),dayPeriod:Jn({values:Yz,defaultWidth:"wide",formattingValues:Xz,defaultFormattingWidth:"wide"})},t5=/^(\d+)(\.)?/i,r5=/\d+/i,n5={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},s5={any:[/^v/i,/^n/i]},a5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},i5={any:[/1/i,/2/i,/3/i,/4/i]},o5={narrow:/^[jfmasond]/i,abbreviated:/^(j[aä]n|feb|mär[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|märz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},l5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[aä]/i,/^f/i,/^mär/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},c5={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},d5={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},u5={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},h5={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},f5={ordinalNumber:G2({matchPattern:t5,parsePattern:r5,valueCallback:e=>parseInt(e)}),era:es({matchPatterns:n5,defaultMatchWidth:"wide",parsePatterns:s5,defaultParseWidth:"any"}),quarter:es({matchPatterns:a5,defaultMatchWidth:"wide",parsePatterns:i5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:es({matchPatterns:o5,defaultMatchWidth:"wide",parsePatterns:l5,defaultParseWidth:"any"}),day:es({matchPatterns:c5,defaultMatchWidth:"wide",parsePatterns:d5,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:u5,defaultMatchWidth:"wide",parsePatterns:h5,defaultParseWidth:"any"})},i0={code:"de",formatDistance:$z,formatLong:Uz,formatRelative:Kz,localize:e5,match:f5,options:{weekStartsOn:1,firstWeekContainsDate:4}};function m5(){const{toast:e}=qr(),[t,r]=h.useState(""),[s,a]=h.useState("user"),{data:i,isLoading:o}=Je({queryKey:["/api/admin/invitations"],retry:(y,g)=>AL(g)?(e({title:"Nicht autorisiert",description:"Sie werden zur Anmeldung weitergeleitet...",variant:"destructive"}),setTimeout(()=>IL(),500),!1):y<3}),l=dt({mutationFn:async y=>{const g=await fetch("/api/admin/invitations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!g.ok){const w=await g.json();let x="Failed to create invitation";throw w.error&&(Array.isArray(w.error)?x=w.error.map(p=>{var b;return p.message||`${(b=p.path)==null?void 0:b.join(".")}: ${p.code}`}).join(", "):typeof w.error=="string"?x=w.error:x=JSON.stringify(w.error)),new Error(x)}return g.json()},onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/admin/invitations"]}),r(""),a("user"),e({title:"Einladung erstellt",description:"Die Einladung wurde erfolgreich verschickt."})},onError:y=>{e({title:"Fehler beim Erstellen der Einladung",description:y.message,variant:"destructive"})}}),c=dt({mutationFn:async y=>(await ht("DELETE",`/api/admin/invitations/${y}`)).json(),onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/admin/invitations"]}),e({title:"Einladung gelöscht",description:"Die Einladung wurde erfolgreich gelöscht."})},onError:y=>{e({title:"Fehler beim Löschen der Einladung",description:y.message,variant:"destructive"})}}),d=y=>{if(y.preventDefault(),!t.trim()){e({title:"E-Mail erforderlich",description:"Bitte geben Sie eine E-Mail-Adresse ein.",variant:"destructive"});return}l.mutate({email:t,role:s})},u=y=>{const g=`${window.location.origin}/invitation/${y}`;navigator.clipboard.writeText(g),e({title:"Link kopiert",description:"Der Einladungslink wurde in die Zwischenablage kopiert."})},f=y=>s0(new Date(y),"dd.MM.yyyy HH:mm",{locale:i0}),m=y=>s0(new Date(y),"dd.MM.yyyy",{locale:i0}),v=y=>new Date(y)<new Date;return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"container mx-auto p-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hr,{className:"h-6 w-6"}),n.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-user-management",children:"Benutzer verwalten"})]}),n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(dp,{className:"h-5 w-5"}),"Benutzer einladen"]}),n.jsx(fr,{children:"Senden Sie eine Einladung an neue Benutzer, damit diese sich registrieren können."})]}),n.jsx(re,{children:n.jsx("form",{onSubmit:d,className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{htmlFor:"email",children:"E-Mail-Adresse"}),n.jsx(ae,{id:"email",type:"email",placeholder:"benutzer@schule.de",value:t,onChange:y=>r(y.target.value),required:!0,"data-testid":"input-invitation-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{htmlFor:"role",children:"Rolle"}),n.jsxs(He,{value:s,onValueChange:y=>a(y),children:[n.jsx(ze,{"data-testid":"select-invitation-role",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"user",children:"Benutzer"}),n.jsx(me,{value:"admin",children:"Administrator"})]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(ie,{type:"submit",disabled:l.isPending,"data-testid":"button-send-invitation",className:"w-full",children:l.isPending?"Wird gesendet...":"Einladung senden"})})]})})})]}),n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5"}),"Einladungen verwalten"]}),n.jsx(fr,{children:"Übersicht über alle gesendeten Einladungen und deren Status."})]}),n.jsx(re,{children:o?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Lade Einladungen..."})]}):i&&i.length>0?n.jsxs(_a,{children:[n.jsx(Pa,{children:n.jsxs(or,{children:[n.jsx(Qe,{children:"E-Mail"}),n.jsx(Qe,{children:"Rolle"}),n.jsx(Qe,{children:"Status"}),n.jsx(Qe,{children:"Erstellt"}),n.jsx(Qe,{children:"Gültig bis"}),n.jsx(Qe,{children:"Verwendet"}),n.jsx(Qe,{className:"text-right",children:"Aktionen"})]})}),n.jsx(Ea,{children:i.map(y=>n.jsxs(or,{"data-testid":`row-invitation-${y.id}`,children:[n.jsx(Fe,{className:"font-medium",children:y.email}),n.jsx(Fe,{children:n.jsx(Me,{variant:y.role==="admin"?"default":"secondary",children:y.role==="admin"?"Administrator":"Benutzer"})}),n.jsx(Fe,{children:n.jsx(Me,{variant:y.used?"default":v(y.expiresAt)?"destructive":"secondary",children:y.used?"Verwendet":v(y.expiresAt)?"Abgelaufen":"Ausstehend"})}),n.jsx(Fe,{children:m(y.createdAt)}),n.jsx(Fe,{children:m(y.expiresAt)}),n.jsx(Fe,{children:y.used&&y.usedAt?n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",children:f(y.usedAt)}),y.usedBy&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["von ",y.usedBy]})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Fe,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[!y.used&&!v(y.expiresAt)&&n.jsx(ie,{size:"sm",variant:"outline",onClick:()=>u(y.token),"data-testid":`button-copy-invitation-${y.id}`,children:n.jsx(lF,{className:"h-4 w-4"})}),n.jsx(ie,{size:"sm",variant:"outline",onClick:()=>c.mutate(y.id),disabled:c.isPending,"data-testid":`button-delete-invitation-${y.id}`,children:n.jsx(En,{className:"h-4 w-4"})})]})})]},y.id))})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(dp,{className:"mx-auto h-12 w-12 text-muted-foreground"}),n.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"Keine Einladungen"}),n.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Es wurden noch keine Einladungen versendet."})]})})]})]})})]})}const Lu=h.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Lu.displayName="Textarea";var mx="Dialog",[X2,J2]=Cr(mx),[p5,Un]=X2(mx),e_=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,u]=bn({prop:s,defaultProp:a,onChange:i});return n.jsx(p5,{scope:t,triggerRef:l,contentRef:c,contentId:Fn(),titleId:Fn(),descriptionId:Fn(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};e_.displayName=mx;var t_="DialogTrigger",r_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Un(t_,r),i=Ge(t,a.triggerRef);return n.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xx(a.open),...s,ref:i,onClick:ke(e.onClick,a.onOpenToggle)})});r_.displayName=t_;var px="DialogPortal",[g5,n_]=X2(px,{forceMount:void 0}),s_=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=Un(px,t);return n.jsx(g5,{scope:t,forceMount:r,children:h.Children.map(s,o=>n.jsx(Hn,{present:r||i.open,children:n.jsx(Oc,{asChild:!0,container:a,children:o})}))})};s_.displayName=px;var zu="DialogOverlay",a_=h.forwardRef((e,t)=>{const r=n_(zu,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Un(zu,e.__scopeDialog);return i.modal?n.jsx(Hn,{present:s||i.open,children:n.jsx(v5,{...a,ref:t})}):null});a_.displayName=zu;var x5=ji("DialogOverlay.RemoveScroll"),v5=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Un(zu,r);return n.jsx(zh,{as:x5,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Ie.div,{"data-state":xx(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),_i="DialogContent",i_=h.forwardRef((e,t)=>{const r=n_(_i,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Un(_i,e.__scopeDialog);return n.jsx(Hn,{present:s||i.open,children:i.modal?n.jsx(y5,{...a,ref:t}):n.jsx(b5,{...a,ref:t})})});i_.displayName=_i;var y5=h.forwardRef((e,t)=>{const r=Un(_i,e.__scopeDialog),s=h.useRef(null),a=Ge(t,r.contentRef,s);return h.useEffect(()=>{const i=s.current;if(i)return hx(i)},[]),n.jsx(o_,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,i=>i.preventDefault())})}),b5=h.forwardRef((e,t)=>{const r=Un(_i,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return n.jsx(o_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),o_=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Un(_i,r),c=h.useRef(null),d=Ge(t,c);return dx(),n.jsxs(n.Fragment,{children:[n.jsx(Oh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(el,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xx(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(w5,{titleId:l.titleId}),n.jsx(S5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gx="DialogTitle",l_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Un(gx,r);return n.jsx(Ie.h2,{id:a.titleId,...s,ref:t})});l_.displayName=gx;var c_="DialogDescription",d_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Un(c_,r);return n.jsx(Ie.p,{id:a.descriptionId,...s,ref:t})});d_.displayName=c_;var u_="DialogClose",h_=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Un(u_,r);return n.jsx(Ie.button,{type:"button",...s,ref:t,onClick:ke(e.onClick,()=>a.onOpenChange(!1))})});h_.displayName=u_;function xx(e){return e?"open":"closed"}var f_="DialogTitleWarning",[j5,m_]=pM(f_,{contentName:_i,titleName:gx,docsSlug:"dialog"}),w5=({titleId:e})=>{const t=m_(f_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},N5="DialogDescriptionWarning",S5=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m_(N5).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},p_=e_,g_=r_,x_=s_,vx=a_,yx=i_,bx=l_,jx=d_,wx=h_;const Pi=p_,uc=g_,k5=x_,v_=h.forwardRef(({className:e,...t},r)=>n.jsx(vx,{ref:r,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));v_.displayName=vx.displayName;const Ta=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(k5,{children:[n.jsx(v_,{}),n.jsxs(yx,{ref:s,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(wx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Ph,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ta.displayName=yx.displayName;const Aa=({className:e,...t})=>n.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Aa.displayName="DialogHeader";const Nx=({className:e,...t})=>n.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Nx.displayName="DialogFooter";const Ia=h.forwardRef(({className:e,...t},r)=>n.jsx(bx,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));Ia.displayName=bx.displayName;const Uh=h.forwardRef(({className:e,...t},r)=>n.jsx(jx,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));Uh.displayName=jx.displayName;var C5="Separator",o0="horizontal",_5=["horizontal","vertical"],y_=h.forwardRef((e,t)=>{const{decorative:r,orientation:s=o0,...a}=e,i=P5(s)?s:o0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Ie.div,{"data-orientation":i,...l,...a,ref:t})});y_.displayName=C5;function P5(e){return _5.includes(e)}var b_=y_;const Ut=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(b_,{ref:a,decorative:r,orientation:t,className:he("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Ut.displayName=b_.displayName;function j_(){const[e,t]=h.useState(""),[r,s]=h.useState(null),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(null),{toast:u}=qr(),f=Ls(),{data:m=[],isLoading:v}=Je({queryKey:["/api/teachers"],enabled:o,staleTime:5*60*1e3}),{data:y=[],isLoading:g}=Je({queryKey:["/api/classes"],enabled:o,staleTime:5*60*1e3}),{data:w=[],isLoading:x}=Je({queryKey:["/api/subjects"],enabled:o,staleTime:5*60*1e3}),p=dt({mutationFn:async I=>(await ht("POST","/api/chatgpt/parse-schedule",{scheduleText:I})).json(),onSuccess:I=>{const C={teachers:I.teachers.map(S=>({...S,name:S.name||S.shortName||"Unbekannt",shortName:S.shortName||"",qualifications:S.qualifications||[]})),classes:I.classes.map(S=>({...S,name:S.name||"",grade:S.grade||5,studentCount:S.studentCount||25})),subjects:I.subjects.map(S=>({...S,name:S.name||"",shortName:S.shortName||"",category:S.category||"Nebenfach"})),assignments:I.assignments.map(S=>({...S,teacherShortName:S.teacherShortName||"",className:S.className||"",subjectShortName:S.subjectShortName||"",hoursPerWeek:S.hoursPerWeek||1,semester:S.semester||1}))};s(C),i(JSON.parse(JSON.stringify(C))),l(!0),u({title:"Stundenplan erfolgreich analysiert",description:`${C.teachers.length} Lehrer, ${C.classes.length} Klassen, ${C.subjects.length} Fächer und ${C.assignments.length} Zuweisungen gefunden.`})},onError:I=>{u({title:"Fehler beim Analysieren",description:I.message,variant:"destructive"})}});dt({mutationFn:async I=>(await ht("POST","/api/chatgpt/import-schedule",{scheduleText:I})).json(),onSuccess:I=>{d(I.results),l(!1),f.invalidateQueries({queryKey:["/api/teachers"]}),f.invalidateQueries({queryKey:["/api/classes"]}),f.invalidateQueries({queryKey:["/api/subjects"]}),f.invalidateQueries({queryKey:["/api/assignments"]});const{results:C}=I,S=C.teachers+C.classes+C.subjects+C.assignments;S>0?u({title:"Import erfolgreich abgeschlossen",description:`${S} Datensätze importiert. ${C.errors.length} Fehler aufgetreten.`}):u({title:"Import abgeschlossen",description:"Keine neuen Daten importiert. Möglicherweise existieren die Daten bereits.",variant:"destructive"})},onError:I=>{u({title:"Fehler beim Import",description:I.message,variant:"destructive"})}});const b=()=>{if(!e.trim()){u({title:"Eingabe erforderlich",description:"Bitte geben Sie den Stundenplan-Text ein.",variant:"destructive"});return}p.mutate(e)},k=()=>{a&&F(a)},N=dt({mutationFn:async I=>(await ht("POST","/api/chatgpt/import-structured",I)).json(),onSuccess:I=>{d(I),l(!1),f.invalidateQueries({queryKey:["/api/teachers"]}),f.invalidateQueries({queryKey:["/api/classes"]}),f.invalidateQueries({queryKey:["/api/subjects"]}),f.invalidateQueries({queryKey:["/api/assignments"]}),f.invalidateQueries({queryKey:["/api/stats"]}),I.errors.length===0?u({title:"Import erfolgreich!",description:`${I.teachers} Lehrer, ${I.classes} Klassen, ${I.subjects} Fächer und ${I.assignments} Zuweisungen importiert.`}):u({title:"Import mit Fehlern abgeschlossen",description:`${I.errors.length} Fehler aufgetreten. Siehe Details unten.`,variant:"destructive"})},onError:I=>{u({title:"Fehler beim Import",description:I.message,variant:"destructive"})}}),F=I=>{N.mutate(I)},E=(I,C,S,$)=>{if(!a)return;const X=JSON.parse(JSON.stringify(a));X[I][C][S]=$,i(X)},A=()=>{t(""),s(null),i(null),d(null),l(!1)};return n.jsxs("div",{className:"space-y-6","data-testid":"chatgpt-import-container",children:[n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Pu,{className:"h-5 w-5"}),"ChatGPT Stundenplan-Import"]}),n.jsx(fr,{children:"Fügen Sie hier den Stundenplan-Text ein. ChatGPT wird automatisch Lehrer, Klassen, Fächer und Zuweisungen erkennen und importieren."})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"schedule-input",className:"text-sm font-medium",children:"Stundenplan-Text"}),n.jsx(Lu,{id:"schedule-input",placeholder:`Beispiel:
MÜL (Müller) - Deutsch, Englisch
5a (25 Schüler) - D: 4h (MÜL), M: 5h (SCH), E: 3h (MÜL)
10b (22 Schüler) - D: 3h (BRA), M: 4h (SCH), CH: 2h (WEI)
...`,value:e,onChange:I=>t(I.target.value),className:"min-h-[200px]","data-testid":"input-schedule-text"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ie,{onClick:b,disabled:p.isPending||!e.trim(),"data-testid":"button-analyze-schedule",children:p.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ys,{className:"h-4 w-4 mr-2 animate-spin"}),"Analysiere..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Mit ChatGPT analysieren"]})}),n.jsx(ie,{variant:"outline",onClick:A,"data-testid":"button-reset-form",children:"Zurücksetzen"})]})]})]}),c&&n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-green-600"}),"Import-Ergebnis"]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Hr,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),n.jsx("div",{className:"text-2xl font-bold",children:c.teachers}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Lehrer"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(wi,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),n.jsx("div",{className:"text-2xl font-bold",children:c.classes}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Klassen"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ts,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),n.jsx("div",{className:"text-2xl font-bold",children:c.subjects}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Fächer"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(tr,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),n.jsx("div",{className:"text-2xl font-bold",children:c.assignments}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Zuweisungen"})]})]}),c.errors.length>0&&n.jsxs(Xt,{variant:"destructive",children:[n.jsx(Ch,{className:"h-4 w-4"}),n.jsxs(XC,{children:["Fehler beim Import (",c.errors.length,")"]}),n.jsx(Jt,{children:n.jsx(Fu,{className:"h-20 mt-2",children:n.jsx("ul",{className:"text-sm space-y-1",children:c.errors.map((I,C)=>n.jsxs("li",{children:["• ",I]},C))})})})]})]})]}),n.jsx(Pi,{open:o,onOpenChange:l,children:n.jsxs(Ta,{className:"max-w-4xl max-h-[80vh]",children:[n.jsxs(Aa,{children:[n.jsxs(Ia,{className:"flex items-center gap-2",children:[n.jsx(Ni,{className:"h-5 w-5"}),"Erkannte Daten bearbeiten"]}),n.jsx(Uh,{children:"Überprüfen und bearbeiten Sie die von ChatGPT erkannten Daten vor dem Import."})]}),n.jsx(Fu,{className:"max-h-[60vh]",children:a&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Hr,{className:"h-5 w-5"}),"Lehrer (",a.teachers.length,")"]}),n.jsx("div",{className:"space-y-3",children:a.teachers.map((I,C)=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Name"}),n.jsx(ae,{value:I.name,onChange:S=>E("teachers",C,"name",S.target.value),className:"h-8","data-testid":`input-teacher-name-${C}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Kürzel"}),n.jsx(ae,{value:I.shortName,onChange:S=>E("teachers",C,"shortName",S.target.value),className:"h-8","data-testid":`input-teacher-shortname-${C}`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Qualifikationen (kommagetrennt)"}),n.jsx(ae,{value:I.qualifications.join(", "),onChange:S=>E("teachers",C,"qualifications",S.target.value.split(",").map($=>$.trim()).filter($=>$)),className:"h-8",placeholder:"Deutsch, Englisch, ...","data-testid":`input-teacher-qualifications-${C}`})]})]},C))})]}),n.jsx(Ut,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(wi,{className:"h-5 w-5"}),"Klassen (",a.classes.length,")"]}),n.jsx("div",{className:"space-y-3",children:a.classes.map((I,C)=>n.jsx("div",{className:"p-3 border rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Klassenname"}),n.jsx(ae,{value:I.name,onChange:S=>E("classes",C,"name",S.target.value),className:"h-8","data-testid":`input-class-name-${C}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Jahrgang"}),n.jsx(ae,{type:"number",value:I.grade,onChange:S=>E("classes",C,"grade",parseInt(S.target.value)||0),className:"h-8",min:"1",max:"13","data-testid":`input-class-grade-${C}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Schüleranzahl"}),n.jsx(ae,{type:"number",value:I.studentCount,onChange:S=>E("classes",C,"studentCount",parseInt(S.target.value)||0),className:"h-8",min:"1","data-testid":`input-class-studentcount-${C}`})]})]})},C))})]}),n.jsx(Ut,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ts,{className:"h-5 w-5"}),"Fächer (",a.subjects.length,")"]}),n.jsx("div",{className:"space-y-3",children:a.subjects.map((I,C)=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Fachname"}),n.jsx(ae,{value:I.name,onChange:S=>E("subjects",C,"name",S.target.value),className:"h-8","data-testid":`input-subject-name-${C}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Kürzel"}),n.jsx(ae,{value:I.shortName,onChange:S=>E("subjects",C,"shortName",S.target.value),className:"h-8","data-testid":`input-subject-shortname-${C}`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Kategorie"}),n.jsxs(He,{value:I.category,onValueChange:S=>E("subjects",C,"category",S),children:[n.jsx(ze,{className:"h-8","data-testid":`select-subject-category-${C}`,children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"Hauptfach",children:"Hauptfach"}),n.jsx(me,{value:"Nebenfach",children:"Nebenfach"}),n.jsx(me,{value:"Wahlpflichtfach",children:"Wahlpflichtfach"}),n.jsx(me,{value:"AG",children:"AG"}),n.jsx(me,{value:"Förderunterricht",children:"Förderunterricht"})]})]})]})]},C))})]}),n.jsx(Ut,{}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5"}),"Zuweisungen (",a.assignments.length,")"]}),n.jsx("div",{className:"space-y-3",children:a.assignments.map((I,C)=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Lehrer"}),n.jsxs(He,{value:I.teacherShortName,onValueChange:S=>E("assignments",C,"teacherShortName",S),disabled:v,children:[n.jsx(ze,{className:"h-8","data-testid":`select-assignment-teacher-${C}`,children:n.jsx(Be,{placeholder:v?"Lädt...":"Lehrer auswählen"})}),n.jsx($e,{children:v?n.jsxs("div",{className:"flex items-center justify-center p-2",children:[n.jsx(Ys,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Lade Lehrer..."})]}):m.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Keine Lehrer in der Verwaltung gefunden"}):m.map(S=>n.jsxs(me,{value:S.shortName,children:[S.shortName," - ",S.firstName||S.shortName," ",S.lastName||""]},S.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Klasse"}),n.jsxs(He,{value:I.className,onValueChange:S=>E("assignments",C,"className",S),disabled:g,children:[n.jsx(ze,{className:"h-8","data-testid":`select-assignment-class-${C}`,children:n.jsx(Be,{placeholder:g?"Lädt...":"Klasse auswählen"})}),n.jsx($e,{children:g?n.jsxs("div",{className:"flex items-center justify-center p-2",children:[n.jsx(Ys,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Lade Klassen..."})]}):y.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Keine Klassen in der Verwaltung gefunden"}):y.map(S=>n.jsxs(me,{value:S.name,children:[S.name," (Jg. ",S.grade,", ",S.studentCount," SuS)"]},S.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Fach"}),n.jsxs(He,{value:I.subjectShortName,onValueChange:S=>E("assignments",C,"subjectShortName",S),disabled:x,children:[n.jsx(ze,{className:"h-8","data-testid":`select-assignment-subject-${C}`,children:n.jsx(Be,{placeholder:x?"Lädt...":"Fach auswählen"})}),n.jsx($e,{children:x?n.jsxs("div",{className:"flex items-center justify-center p-2",children:[n.jsx(Ys,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Lade Fächer..."})]}):w.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Keine Fächer in der Verwaltung gefunden"}):w.map(S=>n.jsxs(me,{value:S.shortName,children:[S.shortName," - ",S.name]},S.id))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Stunden/Woche"}),n.jsx(ae,{type:"number",value:I.hoursPerWeek,onChange:S=>E("assignments",C,"hoursPerWeek",parseFloat(S.target.value)||0),className:"h-8",min:"0",step:"0.5","data-testid":`input-assignment-hours-${C}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Halbjahr"}),n.jsxs(He,{value:I.semester.toString(),onValueChange:S=>E("assignments",C,"semester",parseInt(S)),children:[n.jsx(ze,{className:"h-8","data-testid":`select-assignment-semester-${C}`,children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"1",children:"1. Hj."}),n.jsx(me,{value:"2",children:"2. Hj."})]})]})]})]})]},C))})]})]})}),n.jsxs(Nx,{children:[n.jsx(ie,{variant:"outline",onClick:()=>l(!1),children:"Abbrechen"}),n.jsx(ie,{onClick:k,disabled:N.isPending,"data-testid":"button-confirm-import",children:N.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ys,{className:"h-4 w-4 mr-2 animate-spin"}),"Importiere..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"h-4 w-4 mr-2"}),"Daten importieren"]})})]})]})})]})}function E5(){return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"container mx-auto p-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Pu,{className:"h-6 w-6"}),n.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-chatgpt-import",children:"ChatGPT Import"})]}),n.jsx(j_,{})]})})]})}var Sx="Progress",kx=100,[T5,FH]=Cr(Sx),[A5,I5]=T5(Sx),w_=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=R5,...o}=e;(a||a===0)&&!l0(a)&&console.error(M5(`${a}`,"Progress"));const l=l0(a)?a:kx;s!==null&&!c0(s,l)&&console.error(F5(`${s}`,"Progress"));const c=c0(s,l)?s:null,d=$u(c)?i(c,l):void 0;return n.jsx(A5,{scope:r,value:c,max:l,children:n.jsx(Ie.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":$u(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":k_(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});w_.displayName=Sx;var N_="ProgressIndicator",S_=h.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=I5(N_,r);return n.jsx(Ie.div,{"data-state":k_(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});S_.displayName=N_;function R5(e,t){return`${Math.round(e/t*100)}%`}function k_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function $u(e){return typeof e=="number"}function l0(e){return $u(e)&&!isNaN(e)&&e>0}function c0(e,t){return $u(e)&&!isNaN(e)&&e<=t&&e>=0}function M5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kx}\`.`}function F5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var C_=w_,D5=S_;const Ms=h.forwardRef(({className:e,value:t,...r},s)=>n.jsx(C_,{ref:s,className:he("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(D5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ms.displayName=C_.displayName;const O5=[{subject:"Deutsch",current:12.5,required:13.2,percentage:95},{subject:"Mathematik",current:11.8,required:12.5,percentage:94},{subject:"Englisch",current:8.2,required:9.8,percentage:84},{subject:"Naturwissenschaften",current:6.5,required:8.2,percentage:79},{subject:"Sport",current:4.8,required:5.2,percentage:92}],L5=[{id:1,message:"CSV Import erfolgreich",time:"vor 2 Stunden",type:"success"},{id:2,message:"Konflikt in Klasse 9B erkannt",time:"vor 4 Stunden",type:"warning"},{id:3,message:"Optimierung abgeschlossen",time:"vor 6 Stunden",type:"info"},{id:4,message:"Fehlende Qualifikation erkannt",time:"vor 1 Tag",type:"error"}];function z5(){const{data:e,isLoading:t}=Je({queryKey:["/api/stats"]}),{data:r,isLoading:s}=Je({queryKey:["/api/teachers"]}),a=(i,o)=>{const l=i/o*100;return l>100?"Überzuweisung":l<80?"Unterzuweisung":"Vollständig zugewiesen"};return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Übersicht über die Unterrichtsverteilung"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(da,{href:"/csv-import",children:n.jsxs(ie,{"data-testid":"button-csv-import",children:[n.jsx(ui,{className:"mr-2 h-4 w-4"}),"CSV Importieren"]})}),n.jsxs(ie,{variant:"secondary","data-testid":"button-export",children:[n.jsx(Zk,{className:"mr-2 h-4 w-4"}),"Exportieren"]})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(ee,{"data-testid":"card-teachers",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Lehrkräfte gesamt"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-total-teachers",children:t?"...":(e==null?void 0:e.totalTeachers)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx($o,{className:"text-blue-600 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx("span",{className:"text-green-600 font-medium",children:"+2"}),n.jsx("span",{className:"text-muted-foreground ml-1",children:"seit letztem Monat"})]})]})}),n.jsx(ee,{"data-testid":"card-students",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Schüler gesamt"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-total-students",children:t?"...":(e==null?void 0:e.totalStudents)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(wi,{className:"text-green-600 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx("span",{className:"text-green-600 font-medium",children:"+15"}),n.jsx("span",{className:"text-muted-foreground ml-1",children:"seit letztem Monat"})]})]})}),n.jsx(ee,{"data-testid":"card-positions",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Planstellen Soll"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:"82.5"})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(ic,{className:"text-orange-600 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx("span",{className:"text-orange-600 font-medium",children:"-4.5"}),n.jsx("span",{className:"text-muted-foreground ml-1",children:"Fehlbedarf"})]})]})}),n.jsx(ee,{"data-testid":"card-hours",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Unterrichtsstunden"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-total-hours",children:t?"...":(e==null?void 0:e.totalHours)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(hr,{className:"text-purple-600 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx("span",{className:"text-green-600 font-medium",children:"95%"}),n.jsx("span",{className:"text-muted-foreground ml-1",children:"zugewiesen"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ee,{className:"lg:col-span-2","data-testid":"card-staffing-overview",children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(oc,{className:"mr-2 text-primary"}),"Planstellenübersicht"]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:O5.map(i=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",children:i.subject}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.current," / ",i.required," Stellen"]})]}),n.jsx(Ms,{value:i.percentage,className:"w-full"})]},i.subject))})})]}),n.jsxs(ee,{"data-testid":"card-notifications",children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(Cy,{className:"mr-2 text-primary"}),"Aktuelle Meldungen"]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:L5.map(i=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${i.type==="success"?"bg-green-500":i.type==="warning"?"bg-orange-500":i.type==="error"?"bg-red-500":"bg-blue-500"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:i.message}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]},i.id))})})]})]}),n.jsxs(ee,{"data-testid":"card-teacher-assignments",children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center",children:[n.jsx($o,{className:"mr-2 text-primary"}),"Lehrerzuweisungen"]}),n.jsx(da,{href:"/lehrerverwaltung",children:n.jsx(ie,{variant:"link",className:"text-primary hover:text-primary/80",children:"Alle anzeigen →"})})]})}),n.jsx(re,{children:s?n.jsx("div",{className:"text-center py-8",children:"Lade Lehrerdaten..."}):(r==null?void 0:r.length)===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Keine Lehrerdaten vorhanden. Bitte importieren Sie CSV-Daten."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Lehrkraft"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Fächer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Wochenstunden"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Auslastung"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-card divide-y divide-border",children:r==null?void 0:r.slice(0,5).map(i=>{const o=i.currentHours/i.maxHours*100;return n.jsxs("tr",{"data-testid":`row-teacher-${i.id}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-secondary-foreground text-sm font-medium",children:i.shortName})}),n.jsxs("div",{className:"ml-3",children:[n.jsxs("div",{className:"text-sm font-medium text-foreground",children:[i.firstName," ",i.lastName]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:i.id})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex flex-wrap gap-1",children:i.subjects.slice(0,2).map((l,c)=>n.jsx(Me,{variant:"light",children:l},c))})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:[i.currentHours," / ",i.maxHours]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ms,{value:o,className:"w-16 mr-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(o),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Me,{variant:o>100?"destructive":"light",children:a(i.currentHours,i.maxHours)})})]},i.id)})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(da,{href:"/planstellberechnung",children:n.jsx(ee,{className:"hover:shadow-md transition-shadow cursor-pointer","data-testid":"card-action-planstellberechnung",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(ic,{className:"text-blue-600 text-xl"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-foreground",children:"Planstellberechnung"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Stellen neu berechnen"})]})]})})})}),n.jsx(da,{href:"/stdv-kl-optimum",children:n.jsx(ee,{className:"hover:shadow-md transition-shadow cursor-pointer","data-testid":"card-action-optimization",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(hr,{className:"text-green-600 text-xl"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-foreground",children:"Optimierung starten"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatische Zuweisung"})]})]})})})}),n.jsx(ee,{className:"hover:shadow-md transition-shadow cursor-pointer","data-testid":"card-action-conflicts",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(Cy,{className:"text-orange-600 text-xl"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-foreground",children:"Konflikte lösen"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"3 offene Konflikte"})]})]})})})]})]})]})]})}function $5(){const[e,t]=h.useState(null),[r,s]=h.useState(""),[a,i]=h.useState(!1),{toast:o}=qr(),l=Ls(),c=dt({mutationFn:async({file:v,type:y})=>{const g=new FormData;return g.append("file",v),g.append("dataType",y),(await ht("POST","/api/import/csv",g)).json()},onSuccess:v=>{o({title:"Import erfolgreich",description:v.message}),t(null),s(""),l.invalidateQueries({queryKey:["/api/teachers"]}),l.invalidateQueries({queryKey:["/api/students"]}),l.invalidateQueries({queryKey:["/api/classes"]}),l.invalidateQueries({queryKey:["/api/subjects"]}),l.invalidateQueries({queryKey:["/api/stats"]})},onError:v=>{o({title:"Import fehlgeschlagen",description:v.message,variant:"destructive"})}}),d=v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?i(!0):v.type==="dragleave"&&i(!1)},u=v=>{if(v.preventDefault(),v.stopPropagation(),i(!1),v.dataTransfer.files&&v.dataTransfer.files[0]){const y=v.dataTransfer.files[0];y.type==="text/csv"||y.name.endsWith(".csv")?t(y):o({title:"Ungültiger Dateityp",description:"Bitte wählen Sie eine CSV-Datei aus.",variant:"destructive"})}},f=v=>{if(v.target.files&&v.target.files[0]){const y=v.target.files[0];y.type==="text/csv"||y.name.endsWith(".csv")?t(y):o({title:"Ungültiger Dateityp",description:"Bitte wählen Sie eine CSV-Datei aus.",variant:"destructive"})}},m=()=>{if(!e||!r){o({title:"Unvollständige Angaben",description:"Bitte wählen Sie eine Datei und einen Datentyp aus.",variant:"destructive"});return}c.mutate({file:e,type:r})};return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"CSV Import"}),n.jsx("p",{className:"text-muted-foreground",children:"SCHILD NRW Daten importieren"})]})}),n.jsxs("div",{className:"p-6 max-w-4xl",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ee,{"data-testid":"card-import-form",children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(ui,{className:"mr-2"}),"Daten importieren"]})}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{htmlFor:"data-type",children:"Datentyp auswählen"}),n.jsxs(He,{value:r,onValueChange:s,children:[n.jsx(ze,{"data-testid":"select-data-type",children:n.jsx(Be,{placeholder:"Datentyp auswählen"})}),n.jsxs($e,{children:[n.jsx(me,{value:"teachers",children:"Lehrkräfte"}),n.jsx(me,{value:"students",children:"Schüler"}),n.jsx(me,{value:"classes",children:"Klassen"}),n.jsx(me,{value:"subjects",children:"Fächer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{children:"CSV Datei"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${a?"border-primary bg-primary/5":"border-input hover:border-primary/50"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:u,onClick:()=>{var v;return(v=document.getElementById("file-input"))==null?void 0:v.click()},"data-testid":"file-upload-area",children:e?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(_u,{className:"text-primary h-8 w-8"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:e.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[(e.size/1024).toFixed(1)," KB"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Datei hier ablegen oder klicken zum Auswählen"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Nur CSV-Dateien werden unterstützt"})]})}),n.jsx("input",{id:"file-input",type:"file",accept:".csv",onChange:f,className:"hidden","data-testid":"input-file"})]})]}),n.jsx(ie,{onClick:m,disabled:!e||!r||c.isPending,className:"w-full","data-testid":"button-import",children:c.isPending?"Importiere...":n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"mr-2 h-4 w-4"}),"Importieren"]})})]})]}),n.jsxs(ee,{"data-testid":"card-instructions",children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(_u,{className:"mr-2"}),"CSV Format Anforderungen"]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs(Xt,{children:[n.jsx(Ch,{className:"h-4 w-4"}),n.jsx(Jt,{children:"Bitte stellen Sie sicher, dass Ihre CSV-Dateien dem SCHILD NRW Format entsprechen."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Lehrkräfte"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n.jsx("strong",{children:"Spalten (in dieser Reihenfolge):"})}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"1. Vorname"}),n.jsx("li",{children:"2. Nachname"}),n.jsx("li",{children:"3. Kürzel"}),n.jsx("li",{children:"4. E-Mail"}),n.jsx("li",{children:"5. Fächer (;-getrennt)"}),n.jsx("li",{children:"6. Max. Stunden/Woche (Dezimalzahl, z.B. 25.5)"}),n.jsx("li",{children:"7. Aktuelle Stunden/Woche (Dezimalzahl, z.B. 20.5)"}),n.jsx("li",{children:"8. Geburtsdatum (YYYY-MM-DD)"}),n.jsx("li",{children:"9. Qualifikationen (;-getrennt)"}),n.jsx("li",{children:"10. Notizen (optional)"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[n.jsx("strong",{children:"Beispiel:"})," Max Mustermann,MM,max.mustermann@schule.de,Deutsch;Mathe,25.5,22.0,1975-03-15,Lehramt;Fachleitung,Klassenlehrer 5A"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Schüler"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Spalten: Vorname, Nachname, Klassen-ID, Jahrgangsstufe"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Klassen"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Spalten: Klassenname, Jahrgangsstufe, Schüleranzahl"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Fächer"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Spalten: Fachname, Kürzel, Kategorie"})]})]})]})]})]}),c.isSuccess&&n.jsxs(Xt,{className:"mt-6",children:[n.jsx(wr,{className:"h-4 w-4"}),n.jsx(Jt,{children:"Import erfolgreich abgeschlossen."})]})]})]})]})}var Cx="Collapsible",[V5,__]=Cr(Cx),[H5,_x]=V5(Cx),P_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=bn({prop:s,defaultProp:a,onChange:o});return n.jsx(H5,{scope:r,disabled:i,contentId:Fn(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:n.jsx(Ie.div,{"data-state":Ex(c),"data-disabled":i?"":void 0,...l,ref:t})})});P_.displayName=Cx;var E_="CollapsibleTrigger",T_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=_x(E_,r);return n.jsx(Ie.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Ex(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:ke(e.onClick,a.onOpenToggle)})});T_.displayName=E_;var Px="CollapsibleContent",A_=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=_x(Px,e.__scopeCollapsible);return n.jsx(Hn,{present:r||a.open,children:({present:i})=>n.jsx(B5,{...s,ref:t,present:i})})});A_.displayName=Px;var B5=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=_x(Px,r),[l,c]=h.useState(s),d=h.useRef(null),u=Ge(t,d),f=h.useRef(0),m=f.current,v=h.useRef(0),y=v.current,g=o.open||l,w=h.useRef(g),x=h.useRef(void 0);return h.useEffect(()=>{const p=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(p)},[]),Qt(()=>{const p=d.current;if(p){x.current=x.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const b=p.getBoundingClientRect();f.current=b.height,v.current=b.width,w.current||(p.style.transitionDuration=x.current.transitionDuration,p.style.animationName=x.current.animationName),c(s)}},[o.open,s]),n.jsx(Ie.div,{"data-state":Ex(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&a})});function Ex(e){return e?"open":"closed"}var U5=P_,W5=T_,K5=A_,zs="Accordion",q5=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Tx,Q5,G5]=Nh(zs),[Wh,DH]=Cr(zs,[G5,__]),Ax=__(),I_=Pe.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(Tx.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(J5,{...i,ref:t}):n.jsx(X5,{...a,ref:t})})});I_.displayName=zs;var[R_,Z5]=Wh(zs),[M_,Y5]=Wh(zs,{collapsible:!1}),X5=Pe.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=bn({prop:r,defaultProp:s,onChange:a});return n.jsx(R_,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:Pe.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(M_,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(F_,{...o,ref:t})})})}),J5=Pe.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=bn({prop:r,defaultProp:s,onChange:a}),c=Pe.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=Pe.useCallback(u=>l((f=[])=>f.filter(m=>m!==u)),[l]);return n.jsx(R_,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(M_,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(F_,{...i,ref:t})})})}),[e6,Kh]=Wh(zs),F_=Pe.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=Pe.useRef(null),c=Ge(l,t),d=Q5(r),f=Bc(a)==="ltr",m=ke(e.onKeyDown,v=>{var A;if(!q5.includes(v.key))return;const y=v.target,g=d().filter(I=>{var C;return!((C=I.ref.current)!=null&&C.disabled)}),w=g.findIndex(I=>I.ref.current===y),x=g.length;if(w===-1)return;v.preventDefault();let p=w;const b=0,k=x-1,N=()=>{p=w+1,p>k&&(p=b)},F=()=>{p=w-1,p<b&&(p=k)};switch(v.key){case"Home":p=b;break;case"End":p=k;break;case"ArrowRight":i==="horizontal"&&(f?N():F());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?F():N());break;case"ArrowUp":i==="vertical"&&F();break}const E=p%x;(A=g[E].ref.current)==null||A.focus()});return n.jsx(e6,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(Tx.Slot,{scope:r,children:n.jsx(Ie.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),Vu="AccordionItem",[t6,Ix]=Wh(Vu),D_=Pe.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=Kh(Vu,r),o=Z5(Vu,r),l=Ax(r),c=Fn(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return n.jsx(t6,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(U5,{"data-orientation":i.orientation,"data-state":H_(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});D_.displayName=Vu;var O_="AccordionHeader",L_=Pe.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Kh(zs,r),i=Ix(O_,r);return n.jsx(Ie.h3,{"data-orientation":a.orientation,"data-state":H_(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});L_.displayName=O_;var Cp="AccordionTrigger",z_=Pe.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Kh(zs,r),i=Ix(Cp,r),o=Y5(Cp,r),l=Ax(r);return n.jsx(Tx.ItemSlot,{scope:r,children:n.jsx(W5,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});z_.displayName=Cp;var $_="AccordionContent",V_=Pe.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Kh(zs,r),i=Ix($_,r),o=Ax(r);return n.jsx(K5,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});V_.displayName=$_;function H_(e){return e?"open":"closed"}var r6=I_,n6=D_,s6=L_,B_=z_,U_=V_;const a6=r6,qa=h.forwardRef(({className:e,...t},r)=>n.jsx(n6,{ref:r,className:he("border-b",e),...t}));qa.displayName="AccordionItem";const Qa=h.forwardRef(({className:e,children:t,...r},s)=>n.jsx(s6,{className:"flex",children:n.jsxs(B_,{ref:s,className:he("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Hg,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Qa.displayName=B_.displayName;const Ga=h.forwardRef(({className:e,children:t,...r},s)=>n.jsx(U_,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:he("pb-4 pt-0",e),children:t})}));Ga.displayName=U_.displayName;function i6(){const[e,t]=h.useState({schulname:"Realschule Musterstadt",schuljahr:"2024/25",schuelerzahlStand:710,schuelerLehrerrelation:20.19,abzugLehramtsanwaerter:-.5,rundung:-.21,fachleiter:.21,personalrat:1.64,schulleitungsentlastungFortbildung:.04,ausbauLeitungszeit:.15,rueckgabeVorgriffstunde:.04,digitalisierungsbeauftragter:.04,fortbildungQualifMedienDS:.07,fachberaterSchulaufsicht:.07,wechselndeAusgleichsbedarfe:.5,praxissemesterInSchule:.29,zusaetzlicheAusfallvertretung:.25,entlastungLehrertaetigkeit:.04,entlastungLVOCO:.04,ermaessigungenweitere:.3,nullWert:0,praktischePhilosophieIslamkunde:0,paedagogischeUebermittagsbetreuung:0,integrationDurchBildung:0,freieZeile1Label:"",freieZeile1Wert:0,freieZeile2Label:"",freieZeile2Wert:0,gegenUAusfallIndFoerderung:.77,teilzeitBlockmodellAnsparphase:.36,kapitalisierungPaedUebermittag:.56,abzugKapitalisierungUebermittag:-.56,beurlaubungElternzeit:0,ersatzeinstellungElternzeit:0,aborungZugangAnderes:0,grundstellenbedarfFaktor:.5,vorhandenePlanstellen:0,grundpauschal:9,schulleiterentlastungFortbildung:.04,ausbauLeitungszeitSchulleiter:.12,schulleiterDreiViertel:18,ausbauLeitungszeitStellvertreter:.11,minusEntlastungStundenplanarbeit:0,istklassenzahl:17,verfuegbareUnterrichtsstunden:0,unterrichtssollNachKuerzung:0}),r=e.schuelerLehrerrelation>0,s=r?e.schuelerzahlStand/e.schuelerLehrerrelation:0,a=r?Math.trunc(s*100)/100:0,i=s-Math.floor(s),o=r?i<.5?Math.floor(s):Math.floor(s)+.5:0,l=a+e.abzugLehramtsanwaerter+e.rundung,c=(e.fachleiter||0)+(e.personalrat||0)+(e.schulleitungsentlastungFortbildung||0)+(e.ausbauLeitungszeit||0)+(e.rueckgabeVorgriffstunde||0)+(e.digitalisierungsbeauftragter||0)+(e.fortbildungQualifMedienDS||0)+(e.fachberaterSchulaufsicht||0)+(e.wechselndeAusgleichsbedarfe||0)+(e.praxissemesterInSchule||0)+(e.zusaetzlicheAusfallvertretung||0)+(e.entlastungLehrertaetigkeit||0)+(e.entlastungLVOCO||0)+(e.ermaessigungenweitere||0)+(e.nullWert||0),d=(e.praktischePhilosophieIslamkunde||0)+(e.paedagogischeUebermittagsbetreuung||0)+(e.integrationDurchBildung||0)+(e.freieZeile1Wert||0)+(e.freieZeile2Wert||0);e.gegenUAusfallIndFoerderung;const u=(e.teilzeitBlockmodellAnsparphase||0)+(e.kapitalisierungPaedUebermittag||0)+(e.abzugKapitalisierungUebermittag||0),f=(e.beurlaubungElternzeit||0)+(e.ersatzeinstellungElternzeit||0)+(e.aborungZugangAnderes||0),m=l+c+d,v=m+u+f,y=(e.vorhandenePlanstellen||0)-v,g=l*(e.grundstellenbedarfFaktor||.5),w=Math.round(g),x=v*.7+(e.grundpauschal||9),p=x+(e.schulleiterentlastungFortbildung||.04)+(e.ausbauLeitungszeitSchulleiter||.12),b=Math.round(((e.grundpauschal||9)+x+(e.schulleiterentlastungFortbildung||.04)+(e.ausbauLeitungszeitSchulleiter||.12))*100)/100,k=Math.floor(b*2/5),N=Math.trunc((e.schulleiterDreiViertel||18)-(e.minusEntlastungStundenplanarbeit||0)/2),F=Math.round(k-(e.minusEntlastungStundenplanarbeit||0)/2+((e.schulleiterDreiViertel||18)-Math.trunc(e.schulleiterDreiViertel||18))),E=Math.round((e.schuelerzahlStand||710)/28*100)/100,A=E-(e.istklassenzahl||17),I=(e.verfuegbareUnterrichtsstunden||0)-(e.unterrichtssollNachKuerzung||0),C=(S,$)=>{t(X=>({...X,[S]:S==="schulname"||S==="schuljahr"||S==="freieZeile1Label"||S==="freieZeile2Label"?$:typeof $=="string"?parseFloat($)||0:$}))};return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ic,{className:"h-6 w-6 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Planstellenberechnung"}),n.jsx("p",{className:"text-muted-foreground",children:"Detaillierte Stellenberechnung für deutsche Schulen"})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs(ee,{className:"sticky top-4 z-10 shadow-lg border-2 border-blue-200 bg-blue-50",children:[n.jsx(Ee,{className:"pb-3",children:n.jsxs(Ae,{className:"text-lg flex items-center gap-2",children:[n.jsx(yF,{className:"h-5 w-5 text-blue-600"}),"Übersicht - Wichtige Ergebnisse"]})}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Stellenbedarf insgesamt"}),n.jsx("div",{className:"text-xl font-bold text-blue-700","data-testid":"summary-stellenbedarf-gesamt",children:v.toFixed(2)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Vorhandene Planstellen"}),n.jsx("div",{className:"text-xl font-bold text-green-700","data-testid":"summary-vorhandene-planstellen",children:(e.vorhandenePlanstellen||0).toFixed(2)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Differenz Soll-Ist"}),n.jsxs("div",{className:`text-xl font-bold ${y>=0?"text-green-700":"text-red-700"}`,"data-testid":"summary-differenz-soll-ist",children:[y>=0?"+":"",y.toFixed(2)]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Grundbedarf"}),n.jsx("div",{className:"text-xl font-bold text-purple-700","data-testid":"summary-grundbedarf",children:l.toFixed(2)})]})]})})]}),n.jsxs(a6,{type:"multiple",defaultValue:["grunddaten","stellenbedarf"],className:"space-y-4",children:[n.jsx(qa,{value:"grunddaten",children:n.jsxs(ee,{children:[n.jsx(Qa,{className:"px-6 py-4 hover:no-underline",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ya,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{className:"text-lg font-semibold",children:"Grunddaten"})]})}),n.jsx(Ga,{children:n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{children:"Schulname"}),n.jsx(ae,{value:e.schulname,onChange:S=>C("schulname",S.target.value),"data-testid":"input-schulname"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{children:"Schuljahr"}),n.jsx(ae,{value:e.schuljahr,onChange:S=>C("schuljahr",S.target.value),"data-testid":"input-schuljahr"})]})]})})})]})}),n.jsx(qa,{value:"stellenbedarf",children:n.jsxs(ee,{children:[n.jsx(Qa,{className:"px-6 py-4 hover:no-underline",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ic,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{className:"text-lg font-semibold",children:"Stellenbedarf-Berechnung"}),n.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Gesamt: ",v.toFixed(2)]})]})}),n.jsx(Ga,{children:n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center font-bold text-sm bg-gray-100 p-4 rounded-lg",children:[n.jsx(J,{className:"text-center",children:"Bezeichnung"}),n.jsx(J,{className:"text-center",children:"Wert"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:n.jsx("h3",{className:"font-bold text-center",children:"1. Grundbedarf"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Schülerzahl Stand 31.08.24"}),n.jsx(ae,{type:"number",step:"1",value:e.schuelerzahlStand,onChange:S=>C("schuelerzahlStand",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-schuelerzahl"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Schüler/Lehrerrelation an der Realschule: (ab 06/18)"}),n.jsx(ae,{type:"number",step:"0.01",value:e.schuelerLehrerrelation,onChange:S=>C("schuelerLehrerrelation",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-schuelerrelation"})]}),n.jsx(Ut,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm font-medium",children:"Quotient der zwei Größen:"}),n.jsx("div",{className:`p-2 border rounded text-right font-mono ${r?"bg-cyan-50 border-cyan-200":"bg-red-50 border-red-300"}`,"data-testid":"display-f5",children:r?s.toFixed(8):"Division durch 0"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm font-medium",children:"Quotient nach der 2. Dezimale abgeschnitten"}),n.jsx("div",{className:`p-2 border rounded text-right font-mono ${r?"bg-cyan-50 border-cyan-200":"bg-red-50 border-red-300"}`,"data-testid":"display-f6",children:r?a.toFixed(2):"0.00"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm font-medium",children:"abgerundet auf halbe bzw. ganze Dezimale:"}),n.jsx("div",{className:`p-2 border rounded text-right font-mono ${r?"bg-cyan-50 border-cyan-200":"bg-red-50 border-red-300"}`,"data-testid":"display-f7",children:r?o.toFixed(1):"0.0"})]}),n.jsx(Ut,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"bedarfsdeckender Unterricht - Abzug Lehramtsanwärter"}),n.jsx(ae,{type:"number",step:"0.01",value:e.abzugLehramtsanwaerter,onChange:S=>C("abzugLehramtsanwaerter",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-abzug-lehramtsanwaerter"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Rundung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.rundung,onChange:S=>C("rundung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-rundung"})]}),n.jsx(Ut,{className:"border-t-2"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-green-50 p-4 rounded-lg border-2 border-green-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Summe Grundbedarf"}),n.jsx("div",{className:"p-3 bg-green-100 border border-green-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-f10",children:l.toFixed(2)})]}),n.jsx("div",{className:"bg-orange-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Ausgleichsbedarf"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Fachleiter"}),n.jsx(ae,{type:"number",step:"0.01",value:e.fachleiter||0,onChange:S=>C("fachleiter",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-fachleiter"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Personalrat"}),n.jsx(ae,{type:"number",step:"0.01",value:e.personalrat||0,onChange:S=>C("personalrat",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-personalrat"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Schulleitungsentlastung - Fortbildung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.schulleitungsentlastungFortbildung||0,onChange:S=>C("schulleitungsentlastungFortbildung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-schulleitungsentlastung"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Ausbau Leitungszeit"}),n.jsx(ae,{type:"number",step:"0.01",value:e.ausbauLeitungszeit||0,onChange:S=>C("ausbauLeitungszeit",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-ausbau-leitungszeit"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Rückgabe Vorgriffstunde"}),n.jsx(ae,{type:"number",step:"0.01",value:e.rueckgabeVorgriffstunde||0,onChange:S=>C("rueckgabeVorgriffstunde",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-rueckgabe-vorgriffstunde"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Digitalisierungsbeauftragter"}),n.jsx(ae,{type:"number",step:"0.01",value:e.digitalisierungsbeauftragter||0,onChange:S=>C("digitalisierungsbeauftragter",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-digitalisierungsbeauftragter"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Fortb. und Qualif. / Medien und DS"}),n.jsx(ae,{type:"number",step:"0.01",value:e.fortbildungQualifMedienDS||0,onChange:S=>C("fortbildungQualifMedienDS",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-fortbildung-qualif"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Fachberater Schulaufsicht"}),n.jsx(ae,{type:"number",step:"0.01",value:e.fachberaterSchulaufsicht||0,onChange:S=>C("fachberaterSchulaufsicht",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-fachberater-schulaufsicht"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Wechs. Merh - und Ausgleichsbedarfe"}),n.jsx(ae,{type:"number",step:"0.01",value:e.wechselndeAusgleichsbedarfe||0,onChange:S=>C("wechselndeAusgleichsbedarfe",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-wechselnde-ausgleichsbedarfe"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Praxissemester in Schule"}),n.jsx(ae,{type:"number",step:"0.01",value:e.praxissemesterInSchule||0,onChange:S=>C("praxissemesterInSchule",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-praxissemester-schule"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Zusätzliche Ausfallvertretung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.zusaetzlicheAusfallvertretung||0,onChange:S=>C("zusaetzlicheAusfallvertretung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-zusaetzliche-ausfallvertretung"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Entlastung Lehrertätigkeit"}),n.jsx(ae,{type:"number",step:"0.01",value:e.entlastungLehrertaetigkeit||0,onChange:S=>C("entlastungLehrertaetigkeit",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-entlastung-lehrertaetigkeit"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Entlastung LVO&CO"}),n.jsx(ae,{type:"number",step:"0.01",value:e.entlastungLVOCO||0,onChange:S=>C("entlastungLVOCO",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-entlastung-lvoco"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Ermäßigungen weitere"}),n.jsx(ae,{type:"number",step:"0.01",value:e.ermaessigungenweitere||0,onChange:S=>C("ermaessigungenweitere",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-ermaessigungen-weitere"})]}),n.jsx("div",{className:"bg-gray-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Freie Eingabezeilen"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(ae,{type:"text",value:e.freieZeile1Label||"",onChange:S=>C("freieZeile1Label",S.target.value),className:"bg-gray-100 border-gray-300",placeholder:"Bezeichnung eingeben...","data-testid":"input-freie-zeile1-label"}),n.jsx(ae,{type:"number",step:"0.01",value:e.freieZeile1Wert||0,onChange:S=>C("freieZeile1Wert",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-freie-zeile1-wert"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(ae,{type:"text",value:e.freieZeile2Label||"",onChange:S=>C("freieZeile2Label",S.target.value),className:"bg-gray-100 border-gray-300",placeholder:"Bezeichnung eingeben...","data-testid":"input-freie-zeile2-label"}),n.jsx(ae,{type:"number",step:"0.01",value:e.freieZeile2Wert||0,onChange:S=>C("freieZeile2Wert",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-freie-zeile2-wert"})]}),n.jsx(Ut,{className:"border-t-2"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-orange-50 p-4 rounded-lg border-2 border-orange-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Summe Ausgleichsbedarf"}),n.jsx("div",{className:"p-3 bg-orange-100 border border-orange-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-summe-ausgleichsbedarf",children:c.toFixed(2)})]}),n.jsx("div",{className:"bg-purple-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Mehrbedarfe"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Praktische Philosophie /Islamkunde"}),n.jsx(ae,{type:"number",step:"0.01",value:e.praktischePhilosophieIslamkunde||0,onChange:S=>C("praktischePhilosophieIslamkunde",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-praktische-philosophie"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Pädagogische Übermittagsbetreuung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.paedagogischeUebermittagsbetreuung||0,onChange:S=>C("paedagogischeUebermittagsbetreuung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-paedagogische-betreuung"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Integration durch Bildung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.integrationDurchBildung||0,onChange:S=>C("integrationDurchBildung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-integration-bildung"})]}),n.jsx(Ut,{className:"border-t-2"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-purple-50 p-4 rounded-lg border-2 border-purple-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Summe Mehrbedarfe"}),n.jsx("div",{className:"p-3 bg-purple-100 border border-purple-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-summe-weitere",children:d.toFixed(2)})]}),n.jsx(Ut,{className:"border-t-4"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-red-50 p-4 rounded-lg border-2 border-red-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Grundbedarf (Summe aus Grundbedarf, Ausgleichsbedarf, Mehrbedarf)"}),n.jsx("div",{className:"p-3 bg-red-100 border border-red-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-grundbedarf-gesamt",children:m.toFixed(2)})]}),n.jsx("div",{className:"bg-teal-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Zusätzliche Stellen"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"gegen U-Ausfall und für ind. Förderung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.gegenUAusfallIndFoerderung||0,onChange:S=>C("gegenUAusfallIndFoerderung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-gegen-ausfall-foerderung"})]}),n.jsx("div",{className:"bg-cyan-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Stellenbesetzung"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Teilzeit im Blockmodell (Ansparphase)"}),n.jsx(ae,{type:"number",step:"0.01",value:e.teilzeitBlockmodellAnsparphase||0,onChange:S=>C("teilzeitBlockmodellAnsparphase",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-teilzeit-blockmodell"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Kapitalisierung päd. Übermittagsbetreuung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.kapitalisierungPaedUebermittag||0,onChange:S=>C("kapitalisierungPaedUebermittag",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-kapitalisierung-uebermittag"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Abzug Kapitalisierung (Geld an Gemeinde)"}),n.jsx(ae,{type:"number",step:"0.01",value:e.abzugKapitalisierungUebermittag||0,onChange:S=>C("abzugKapitalisierungUebermittag",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-abzug-kapitalisierung"})]}),n.jsx(Ut,{className:"border-t-2"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-cyan-50 p-4 rounded-lg border-2 border-cyan-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Summe Stellenbesetzung"}),n.jsx("div",{className:"p-3 bg-cyan-100 border border-cyan-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-summe-stellenbesetzung",children:u.toFixed(2)})]}),n.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Personalausstattung"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Beurlaubung o. L Elternzeit"}),n.jsx(ae,{type:"number",step:"0.01",value:e.beurlaubungElternzeit||0,onChange:S=>C("beurlaubungElternzeit",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-beurlaubung-elternzeit"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Ersatzeinstellung Elternzeit"}),n.jsx(ae,{type:"number",step:"0.01",value:e.ersatzeinstellungElternzeit||0,onChange:S=>C("ersatzeinstellungElternzeit",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-ersatzeinstellung-elternzeit"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Abornung Zugang (anderes Kapitel)"}),n.jsx(ae,{type:"number",step:"0.01",value:e.aborungZugangAnderes||0,onChange:S=>C("aborungZugangAnderes",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-abornung-zugang"})]}),n.jsx(Ut,{className:"border-t-2"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-indigo-50 p-4 rounded-lg border-2 border-indigo-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Summe Personalausstattung"}),n.jsx("div",{className:"p-3 bg-indigo-100 border border-indigo-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-summe-personalausstattung",children:f.toFixed(2)})]}),n.jsx(Ut,{className:"border-t-4"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-red-50 p-4 rounded-lg border-2 border-red-300 mt-6",children:[n.jsx(J,{className:"text-sm font-bold text-lg",children:"Stellenbedarf (Stellen-Soll) insgesamt"}),n.jsx("div",{className:"p-4 bg-red-100 border border-red-400 rounded text-right font-mono text-xl font-bold","data-testid":"display-stellenbedarf-gesamt",children:v.toFixed(2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center mt-6",children:[n.jsx(J,{className:"text-sm",children:"Vorhandene Planstellen (Istbestand):"}),n.jsx(ae,{type:"number",step:"0.01",value:e.vorhandenePlanstellen||0,onChange:S=>C("vorhandenePlanstellen",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-vorhandene-planstellen"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-blue-50 p-4 rounded-lg border-2 border-blue-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Differenz Soll-Ist"}),n.jsx("div",{className:"p-3 bg-blue-100 border border-blue-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-differenz-soll-ist",children:y.toFixed(2)})]}),n.jsx("div",{className:"bg-purple-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Berechnung der Ermäßigungsstunden (Kollegium)"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Grundstellenbedarf * 0,5:"}),n.jsx("div",{className:"p-3 bg-gray-100 border border-gray-400 rounded text-right font-mono text-lg","data-testid":"display-grundstellenbedarf-halbe",children:g.toFixed(3)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Entlastungsstunden (Kollegium) gerundet 0 Dezimalen:"}),n.jsx("div",{className:"p-3 bg-purple-100 border border-purple-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-entlastungsstunden-gerundet",children:w})]}),n.jsx("div",{className:"bg-orange-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Berechnung Schulleiterpauschal"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Grundpauschal"}),n.jsx(ae,{type:"number",step:"0.01",value:e.grundpauschal||9,onChange:S=>C("grundpauschal",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-grundpauschal"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"zusätzl. Entlastung (abhängig v. Stellenanzahl)"}),n.jsx("div",{className:"p-3 bg-gray-100 border border-gray-400 rounded text-right font-mono text-lg","data-testid":"display-zusaetzliche-entlastung",children:x.toFixed(2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Schulleiterentlastung Fortbildung"}),n.jsx(ae,{type:"number",step:"0.01",value:e.schulleiterentlastungFortbildung||.04,onChange:S=>C("schulleiterentlastungFortbildung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-schulleiterentlastung-fortbildung"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Ausbau Leitungszeit"}),n.jsx(ae,{type:"number",step:"0.01",value:e.ausbauLeitungszeitSchulleiter||.12,onChange:S=>C("ausbauLeitungszeitSchulleiter",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-ausbau-leitungszeit-schulleiter"})]}),n.jsx(Ut,{className:"border-t-1"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Anzahl 44-46 in Stunden"}),n.jsx("div",{className:"p-3 bg-gray-100 border border-gray-400 rounded text-right font-mono text-lg","data-testid":"display-anzahl-stunden-schulleitung",children:p.toFixed(2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Entlastungsstd. (Schulleitung) gerundet 2 Dezimalen"}),n.jsx("div",{className:"p-3 bg-orange-100 border border-orange-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-entlastung-schulleitung-gerundet",children:b.toFixed(2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Schulleiter 3/5 (aufgerundet)"}),n.jsx(ae,{type:"number",step:"1",value:e.schulleiterDreiViertel||18,onChange:S=>C("schulleiterDreiViertel",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-schulleiter-drei-viertel"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Stellvertreter 2/5 (abgerundet)"}),n.jsx("div",{className:"p-3 bg-gray-100 border border-gray-400 rounded text-right font-mono text-lg","data-testid":"display-stellvertreter-zwei-viertel",children:k})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Ausbau Leitungszeit"}),n.jsx(ae,{type:"number",step:"0.01",value:e.ausbauLeitungszeitStellvertreter||.11,onChange:S=>C("ausbauLeitungszeitStellvertreter",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-ausbau-leitungszeit-stellvertreter"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"minus Entl. (Stundenplanarbeit) aus Schuleitungspauschale"}),n.jsx(ae,{type:"number",step:"0.01",value:e.minusEntlastungStundenplanarbeit||0,onChange:S=>C("minusEntlastungStundenplanarbeit",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-minus-entlastung-stundenplan"})]}),n.jsx(Ut,{className:"border-t-2"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"geänderte und abgerundete Schulleiterpauschal"}),n.jsx("div",{className:"p-3 bg-orange-100 border border-orange-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-geaenderte-schulleiterpauschal",children:N})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"geänderte und aufgerundete Stellvertreterpauschal"}),n.jsx("div",{className:"p-3 bg-orange-100 border border-orange-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-geaenderte-stellvertreterpauschal",children:F})]}),n.jsx("div",{className:"bg-green-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Klassenbildung"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Sollklassenzahl"}),n.jsx("div",{className:"p-3 bg-gray-100 border border-gray-400 rounded text-right font-mono text-lg","data-testid":"display-sollklassenzahl",children:E.toFixed(1)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Istklassenzahl"}),n.jsx(ae,{type:"number",step:"0.1",value:e.istklassenzahl||17,onChange:S=>C("istklassenzahl",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-istklassenzahl"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Abweichung Klassenanzahl"}),n.jsx("div",{className:"p-3 bg-green-100 border border-green-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-abweichung-klassenanzahl",children:A.toFixed(1)})]}),n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg mt-6",children:n.jsx("h3",{className:"font-bold text-center",children:"Statistik Unterrichtsstunden"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"verfügbare Unterrichtsstunden"}),n.jsx(ae,{type:"number",step:"1",value:e.verfuegbareUnterrichtsstunden||0,onChange:S=>C("verfuegbareUnterrichtsstunden",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-verfuegbare-unterrichtsstunden"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Unterrichtssoll nach Kürzung"}),n.jsx(ae,{type:"number",step:"1",value:e.unterrichtssollNachKuerzung||0,onChange:S=>C("unterrichtssollNachKuerzung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-unterrichtssoll-nach-kuerzung"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Abweichung Unterrichtsstunden"}),n.jsx("div",{className:"p-3 bg-blue-100 border border-blue-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-abweichung-unterrichtsstunden",children:I})]})]})]})})]})}),n.jsx(qa,{value:"personal-analyse",children:n.jsxs(ee,{children:[n.jsx(Qa,{className:"px-6 py-4 hover:no-underline",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Hr,{className:"h-5 w-5 text-purple-600"}),n.jsx("span",{className:"text-lg font-semibold",children:"Personal-Analyse"}),n.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Differenz: ",y>=0?"+":"",y.toFixed(2)]})]})}),n.jsx(Ga,{children:n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Vorhandene Planstellen (Istbestand)"}),n.jsx(ae,{type:"number",step:"0.01",value:e.vorhandenePlanstellen||0,onChange:S=>C("vorhandenePlanstellen",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-vorhandene-planstellen"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-blue-50 p-4 rounded-lg border-2 border-blue-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Differenz Soll-Ist"}),n.jsxs("div",{className:`p-3 border rounded text-right font-mono text-lg font-bold ${y>=0?"bg-green-100 border-green-400":"bg-red-100 border-red-400"}`,"data-testid":"display-differenz-soll-ist",children:[y>=0?"+":"",y.toFixed(2)]})]})]})})]})}),n.jsx(qa,{value:"ermaessigungsstunden",children:n.jsxs(ee,{children:[n.jsx(Qa,{className:"px-6 py-4 hover:no-underline",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wi,{className:"h-5 w-5 text-orange-600"}),n.jsx("span",{className:"text-lg font-semibold",children:"Ermäßigungsstunden"}),n.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Kollegium: ",w]})]})}),n.jsx(Ga,{children:n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Grundstellenbedarf-Faktor"}),n.jsx(ae,{type:"number",step:"0.1",value:e.grundstellenbedarfFaktor||.5,onChange:S=>C("grundstellenbedarfFaktor",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-grundstellenbedarf-faktor"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm font-medium",children:"Grundstellenbedarf * Faktor"}),n.jsx("div",{className:"p-2 border rounded text-right font-mono bg-cyan-50 border-cyan-200","data-testid":"display-grundstellenbedarf-halbe",children:g.toFixed(2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-orange-50 p-4 rounded-lg border-2 border-orange-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Entlastungsstunden (Kollegium) gerundet"}),n.jsx("div",{className:"p-3 bg-orange-100 border border-orange-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-entlastungsstunden-gerundet",children:w})]})]})})]})}),n.jsx(qa,{value:"schulleitung",children:n.jsxs(ee,{children:[n.jsx(Qa,{className:"px-6 py-4 hover:no-underline",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ya,{className:"h-5 w-5 text-indigo-600"}),n.jsx("span",{className:"text-lg font-semibold",children:"Schulleitung"}),n.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Schulleiter: ",N," | Stellvertreter: ",F]})]})}),n.jsx(Ga,{children:n.jsxs(re,{className:"space-y-4",children:[n.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg",children:n.jsx("h3",{className:"font-bold text-center",children:"Schulleiterpauschal-Berechnung"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Grundpauschal"}),n.jsx(ae,{type:"number",step:"1",value:e.grundpauschal||9,onChange:S=>C("grundpauschal",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-grundpauschal"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Schulleiter 3/4 (abgerundet)"}),n.jsx(ae,{type:"number",step:"1",value:e.schulleiterDreiViertel||18,onChange:S=>C("schulleiterDreiViertel",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-schulleiter-drei-viertel"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"minus Entlastung Stundenplanarbeit"}),n.jsx(ae,{type:"number",step:"0.01",value:e.minusEntlastungStundenplanarbeit||0,onChange:S=>C("minusEntlastungStundenplanarbeit",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-minus-entlastung-stundenplanarbeit"})]}),n.jsx(Ut,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm font-medium",children:"geänderte und abgerundete Schulleiterpauschal"}),n.jsx("div",{className:"p-3 bg-indigo-100 border border-indigo-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-geaenderte-schulleiterpauschal",children:N})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm font-medium",children:"geänderte und aufgerundete Stellvertreterpauschal"}),n.jsx("div",{className:"p-3 bg-indigo-100 border border-indigo-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-geaenderte-stellvertreterpauschal",children:F})]})]})})]})}),n.jsx(qa,{value:"klassen-unterricht",children:n.jsxs(ee,{children:[n.jsx(Qa,{className:"px-6 py-4 hover:no-underline",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(oc,{className:"h-5 w-5 text-teal-600"}),n.jsx("span",{className:"text-lg font-semibold",children:"Klassen & Unterricht"}),n.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Klassen: ",e.istklassenzahl," | Abweichung: ",A.toFixed(1)]})]})}),n.jsx(Ga,{children:n.jsxs(re,{className:"space-y-6",children:[n.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:n.jsx("h3",{className:"font-bold text-center",children:"Klassenbildung"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm font-medium",children:"Sollklassenzahl"}),n.jsx("div",{className:"p-3 bg-gray-100 border border-gray-400 rounded text-right font-mono text-lg","data-testid":"display-sollklassenzahl",children:E.toFixed(1)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Istklassenzahl"}),n.jsx(ae,{type:"number",step:"0.1",value:e.istklassenzahl||17,onChange:S=>C("istklassenzahl",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-istklassenzahl"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-green-50 p-4 rounded-lg border-2 border-green-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Abweichung Klassenanzahl"}),n.jsx("div",{className:"p-3 bg-green-100 border border-green-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-abweichung-klassenanzahl",children:A.toFixed(1)})]}),n.jsx(Ut,{}),n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:n.jsx("h3",{className:"font-bold text-center",children:"Statistik Unterrichtsstunden"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"verfügbare Unterrichtsstunden"}),n.jsx(ae,{type:"number",step:"1",value:e.verfuegbareUnterrichtsstunden||0,onChange:S=>C("verfuegbareUnterrichtsstunden",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-verfuegbare-unterrichtsstunden"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[n.jsx(J,{className:"text-sm",children:"Unterrichtssoll nach Kürzung"}),n.jsx(ae,{type:"number",step:"1",value:e.unterrichtssollNachKuerzung||0,onChange:S=>C("unterrichtssollNachKuerzung",parseFloat(S.target.value)),className:"bg-yellow-50 border-yellow-300","data-testid":"input-unterrichtssoll-nach-kuerzung"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center bg-blue-50 p-4 rounded-lg border-2 border-blue-300",children:[n.jsx(J,{className:"text-sm font-bold",children:"Abweichung Unterrichtsstunden"}),n.jsx("div",{className:"p-3 bg-blue-100 border border-blue-400 rounded text-right font-mono text-lg font-bold","data-testid":"display-abweichung-unterrichtsstunden",children:I})]})]})})]})})]})]})]})]})}const kd=[{subject:"Deutsch",required:13.2,available:12.5,teachers:4,status:"warning"},{subject:"Mathematik",required:12.5,available:11.8,teachers:3,status:"warning"},{subject:"Englisch",required:9.8,available:8.2,teachers:3,status:"critical"},{subject:"Naturwissenschaften",required:8.2,available:6.5,teachers:2,status:"critical"},{subject:"Geschichte",required:6,available:6.2,teachers:2,status:"good"},{subject:"Sport",required:5.2,available:4.8,teachers:2,status:"warning"},{subject:"Kunst",required:3.5,available:3.8,teachers:1,status:"good"},{subject:"Musik",required:3,available:2.5,teachers:1,status:"critical"}];function o6(){const{data:e,isLoading:t}=Je({queryKey:["/api/teachers"]}),r=d=>{switch(d){case"good":return n.jsx(wr,{className:"w-4 h-4 text-green-600"});case"warning":return n.jsx(At,{className:"w-4 h-4 text-orange-600"});case"critical":return n.jsx(Ey,{className:"w-4 h-4 text-red-600"});default:return n.jsx(At,{className:"w-4 h-4 text-muted-foreground"})}},s=d=>{switch(d){case"good":return"Gut versorgt";case"warning":return"Unterbesetzt";case"critical":return"Kritisch";default:return"Unbekannt"}},a=(e==null?void 0:e.length)||0,i=(e==null?void 0:e.filter(d=>d.isActive).length)||0;e!=null&&e.length&&e.reduce((d,u)=>d+u.currentHours/u.maxHours,0)/e.length*100;const o=kd.filter(d=>d.status==="good").length,l=kd.filter(d=>d.status==="warning").length,c=kd.filter(d=>d.status==="critical").length;return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Lehrerplanstellen"}),n.jsx("p",{className:"text-muted-foreground",children:"Übersicht über verfügbare und benötigte Lehrerstellen"})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(ee,{"data-testid":"card-total-teachers",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Lehrkräfte gesamt"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:a})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Hr,{className:"text-blue-600 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx("span",{className:"text-green-600 font-medium",children:i}),n.jsx("span",{className:"text-muted-foreground ml-1",children:"aktiv"})]})]})}),n.jsx(ee,{"data-testid":"card-good-supplied",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Gut versorgt"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:o})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(wr,{className:"text-green-600 text-xl"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsx("span",{className:"text-muted-foreground",children:"Fächer"})})]})}),n.jsx(ee,{"data-testid":"card-warnings",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Warnungen"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:l})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(At,{className:"text-orange-600 text-xl"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsx("span",{className:"text-muted-foreground",children:"Unterbesetzt"})})]})}),n.jsx(ee,{"data-testid":"card-critical",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Kritisch"}),n.jsx("p",{className:"text-3xl font-bold text-red-600",children:c})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Ey,{className:"text-red-600 text-xl"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsx("span",{className:"text-muted-foreground",children:"Stark unterbesetzt"})})]})})]}),n.jsxs(ee,{"data-testid":"card-subject-overview",children:[n.jsx(Ee,{children:n.jsx(Ae,{children:"Fachbezogene Planstellenübersicht"})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Fach"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Benötigt"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Verfügbar"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Lehrkräfte"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Abdeckung"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-card divide-y divide-border",children:kd.map((d,u)=>{const f=d.available/d.required*100;return n.jsxs("tr",{"data-testid":`row-subject-${d.subject.toLowerCase()}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-foreground",children:d.subject})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:d.required.toFixed(1)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:d.available.toFixed(1)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:d.teachers}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ms,{value:Math.min(f,100),className:"w-20 mr-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[f.toFixed(0),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[r(d.status),n.jsx(Me,{variant:d.status==="good"||d.status==="warning"?"light":"destructive",className:"ml-2",children:s(d.status)})]})})]},u)})})]})})})]}),n.jsxs(ee,{"data-testid":"card-teacher-list",children:[n.jsx(Ee,{children:n.jsx(Ae,{children:"Lehrkräfte nach Fächern"})}),n.jsx(re,{children:t?n.jsx("div",{className:"text-center py-8",children:"Lade Lehrerdaten..."}):!e||e.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Keine Lehrerdaten vorhanden. Bitte importieren Sie CSV-Daten."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Lehrkraft"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Fächer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Stunden"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Auslastung"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Qualifikationen"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-card divide-y divide-border",children:e.map(d=>{const u=d.currentHours/d.maxHours*100;return n.jsxs("tr",{"data-testid":`row-teacher-${d.id}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-secondary-foreground text-sm font-medium",children:d.shortName})}),n.jsxs("div",{className:"ml-3",children:[n.jsxs("div",{className:"text-sm font-medium text-foreground",children:[d.firstName," ",d.lastName]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:d.shortName})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex flex-wrap gap-1",children:d.subjects.map((f,m)=>n.jsx(Me,{variant:"light",children:f},m))})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:[d.currentHours," / ",d.maxHours]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ms,{value:u,className:"w-16 mr-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(u),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.qualifications.slice(0,2).map((f,m)=>n.jsx(Me,{variant:"light",children:f},m)),d.qualifications.length>2&&n.jsxs(Me,{variant:"light",children:["+",d.qualifications.length-2]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Me,{variant:d.isActive?"light":"destructive",children:d.isActive?"Aktiv":"Inaktiv"})})]},d.id)})})]})})})]})]})]})]})}var Wc=e=>e.type==="checkbox",ei=e=>e instanceof Date,Ar=e=>e==null;const W_=e=>typeof e=="object";var Bt=e=>!Ar(e)&&!Array.isArray(e)&&W_(e)&&!ei(e),K_=e=>Bt(e)&&e.target?Wc(e.target)?e.target.checked:e.target.value:e,l6=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,q_=(e,t)=>e.has(l6(t)),c6=e=>{const t=e.constructor&&e.constructor.prototype;return Bt(t)&&t.hasOwnProperty("isPrototypeOf")},Rx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dr(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Rx&&(e instanceof Blob||s))&&(r||Bt(e)))if(t=r?[]:{},!r&&!c6(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=dr(e[a]));else return e;return t}var qh=e=>Array.isArray(e)?e.filter(Boolean):[],$t=e=>e===void 0,pe=(e,t,r)=>{if(!t||!Bt(e))return r;const s=qh(t.split(/[,[\].]+?/)).reduce((a,i)=>Ar(a)?a:a[i],e);return $t(s)||s===e?$t(e[t])?r:e[t]:s},Jr=e=>typeof e=="boolean",Mx=e=>/^\w*$/.test(e),Q_=e=>qh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(e,t,r)=>{let s=-1;const a=Mx(t)?[t]:Q_(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Bt(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Hu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Tn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},G_=Pe.createContext(null),Qh=()=>Pe.useContext(G_),d6=e=>{const{children:t,...r}=e;return Pe.createElement(G_.Provider,{value:r},t)};var Z_=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Tn.all&&(t._proxyFormState[o]=!s||Tn.all),r&&(r[o]=!0),e[o]}});return a};function u6(e){const t=Qh(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=Pe.useState(r._formState),c=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Pe.useRef(a);return d.current=a,Pe.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!s&&l({...r._formState,...u})}}),[r,s,i]),Pe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Pe.useMemo(()=>Z_(o,r,c.current,!1),[o,r])}var rs=e=>typeof e=="string",Y_=(e,t,r,s,a)=>rs(e)?(s&&t.watch.add(e),pe(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),pe(r,i))):(s&&(t.watchAll=!0),r);function h6(e){const t=Qh(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},l=Pe.useRef(s),c=Pe.useRef(a);l.current=s,Pe.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&u(Y_(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,i,o]);const[d,u]=Pe.useState(r._getWatch(s,a));return Pe.useEffect(()=>r._removeUnmounted()),d}function f6(e){const t=Qh(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=q_(a._names.array,r),l=h6({control:a,name:r,defaultValue:pe(a._formValues,r,pe(a._defaultValues,r,e.defaultValue)),exact:!0}),c=u6({control:a,name:r,exact:!0}),d=Pe.useRef(e),u=Pe.useRef(a.register(r,{...e.rules,value:l,...Jr(e.disabled)?{disabled:e.disabled}:{}})),f=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!pe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pe(c.validatingFields,r)},error:{enumerable:!0,get:()=>pe(c.errors,r)}}),[c,r]),m=Pe.useCallback(w=>u.current.onChange({target:{value:K_(w),name:r},type:Hu.CHANGE}),[r]),v=Pe.useCallback(()=>u.current.onBlur({target:{value:pe(a._formValues,r),name:r},type:Hu.BLUR}),[r,a._formValues]),y=Pe.useCallback(w=>{const x=pe(a._fields,r);x&&w&&(x._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:p=>w.setCustomValidity(p),reportValidity:()=>w.reportValidity()})},[a._fields,r]),g=Pe.useMemo(()=>({name:r,value:l,...Jr(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:m,onBlur:v,ref:y}),[r,s,c.disabled,m,v,y,l]);return Pe.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...Jr(d.current.disabled)?{disabled:d.current.disabled}:{}});const x=(p,b)=>{const k=pe(a._fields,p);k&&k._f&&(k._f.mount=b)};if(x(r,!0),w){const p=dr(pe(a._options.defaultValues,r));gt(a._defaultValues,r,p),$t(pe(a._formValues,r))&&gt(a._formValues,r,p)}return!o&&a.register(r),()=>{(o?w&&!a._state.action:w)?a.unregister(r):x(r,!1)}},[r,a,o,i]),Pe.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),Pe.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const m6=e=>e.render(f6(e));var X_=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},zl=e=>Array.isArray(e)?e:[e],d0=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},_p=e=>Ar(e)||!W_(e);function Xs(e,t){if(_p(e)||_p(t))return e===t;if(ei(e)&&ei(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(ei(i)&&ei(o)||Bt(i)&&Bt(o)||Array.isArray(i)&&Array.isArray(o)?!Xs(i,o):i!==o)return!1}}return!0}var Er=e=>Bt(e)&&!Object.keys(e).length,Fx=e=>e.type==="file",An=e=>typeof e=="function",Bu=e=>{if(!Rx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},J_=e=>e.type==="select-multiple",Dx=e=>e.type==="radio",p6=e=>Dx(e)||Wc(e),Wf=e=>Bu(e)&&e.isConnected;function g6(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=$t(e)?s++:e[t[s++]];return e}function x6(e){for(const t in e)if(e.hasOwnProperty(t)&&!$t(e[t]))return!1;return!0}function Zt(e,t){const r=Array.isArray(t)?t:Mx(t)?[t]:Q_(t),s=r.length===1?e:g6(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Bt(s)&&Er(s)||Array.isArray(s)&&x6(s))&&Zt(e,r.slice(0,-1)),e}var eP=e=>{for(const t in e)if(An(e[t]))return!0;return!1};function Uu(e,t={}){const r=Array.isArray(e);if(Bt(e)||r)for(const s in e)Array.isArray(e[s])||Bt(e[s])&&!eP(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Uu(e[s],t[s])):Ar(e[s])||(t[s]=!0);return t}function tP(e,t,r){const s=Array.isArray(e);if(Bt(e)||s)for(const a in e)Array.isArray(e[a])||Bt(e[a])&&!eP(e[a])?$t(t)||_p(r[a])?r[a]=Array.isArray(e[a])?Uu(e[a],[]):{...Uu(e[a])}:tP(e[a],Ar(t)?{}:t[a],r[a]):r[a]=!Xs(e[a],t[a]);return r}var yl=(e,t)=>tP(e,t,Uu(t));const u0={value:!1,isValid:!1},h0={value:!0,isValid:!0};var rP=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$t(e[0].attributes.value)?$t(e[0].value)||e[0].value===""?h0:{value:e[0].value,isValid:!0}:h0:u0}return u0},nP=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>$t(e)?e:t?e===""?NaN:e&&+e:r&&rs(e)?new Date(e):s?s(e):e;const f0={isValid:!1,value:null};var sP=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,f0):f0;function m0(e){const t=e.ref;return Fx(t)?t.files:Dx(t)?sP(e.refs).value:J_(t)?[...t.selectedOptions].map(({value:r})=>r):Wc(t)?rP(e.refs).value:nP($t(t.value)?e.ref.value:t.value,e)}var v6=(e,t,r,s)=>{const a={};for(const i of e){const o=pe(t,i);o&&gt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Wu=e=>e instanceof RegExp,bl=e=>$t(e)?e:Wu(e)?e.source:Bt(e)?Wu(e.value)?e.value.source:e.value:e,p0=e=>({isOnSubmit:!e||e===Tn.onSubmit,isOnBlur:e===Tn.onBlur,isOnChange:e===Tn.onChange,isOnAll:e===Tn.all,isOnTouch:e===Tn.onTouched});const g0="AsyncFunction";var y6=e=>!!e&&!!e.validate&&!!(An(e.validate)&&e.validate.constructor.name===g0||Bt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===g0)),b6=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),x0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const $l=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=pe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if($l(l,t))break}else if(Bt(l)&&$l(l,t))break}}};function v0(e,t,r){const s=pe(e,r);if(s||Mx(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=pe(t,i),l=pe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var j6=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Er(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Tn.all))},w6=(e,t,r)=>!e||!t||e===t||zl(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),N6=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,S6=(e,t)=>!qh(pe(e,t)).length&&Zt(e,t),k6=(e,t,r)=>{const s=zl(pe(e,r));return gt(s,"root",t[r]),gt(e,r,s),e},Wd=e=>rs(e);function y0(e,t,r="validate"){if(Wd(e)||Array.isArray(e)&&e.every(Wd)||Jr(e)&&!e)return{type:r,message:Wd(e)?e:"",ref:t}}var Vi=e=>Bt(e)&&!Wu(e)?e:{value:e,message:""},b0=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:m,pattern:v,validate:y,name:g,valueAsNumber:w,mount:x}=e._f,p=pe(r,g);if(!x||t.has(g))return{};const b=l?l[0]:o,k=$=>{a&&b.reportValidity&&(b.setCustomValidity(Jr($)?"":$||""),b.reportValidity())},N={},F=Dx(o),E=Wc(o),A=F||E,I=(w||Fx(o))&&$t(o.value)&&$t(p)||Bu(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,C=X_.bind(null,g,s,N),S=($,X,Q,de=xs.maxLength,K=xs.minLength)=>{const le=$?X:Q;N[g]={type:$?de:K,message:le,ref:o,...C($?de:K,le)}};if(i?!Array.isArray(p)||!p.length:c&&(!A&&(I||Ar(p))||Jr(p)&&!p||E&&!rP(l).isValid||F&&!sP(l).isValid)){const{value:$,message:X}=Wd(c)?{value:!!c,message:c}:Vi(c);if($&&(N[g]={type:xs.required,message:X,ref:b,...C(xs.required,X)},!s))return k(X),N}if(!I&&(!Ar(f)||!Ar(m))){let $,X;const Q=Vi(m),de=Vi(f);if(!Ar(p)&&!isNaN(p)){const K=o.valueAsNumber||p&&+p;Ar(Q.value)||($=K>Q.value),Ar(de.value)||(X=K<de.value)}else{const K=o.valueAsDate||new Date(p),le=j=>new Date(new Date().toDateString()+" "+j),H=o.type=="time",_=o.type=="week";rs(Q.value)&&p&&($=H?le(p)>le(Q.value):_?p>Q.value:K>new Date(Q.value)),rs(de.value)&&p&&(X=H?le(p)<le(de.value):_?p<de.value:K<new Date(de.value))}if(($||X)&&(S(!!$,Q.message,de.message,xs.max,xs.min),!s))return k(N[g].message),N}if((d||u)&&!I&&(rs(p)||i&&Array.isArray(p))){const $=Vi(d),X=Vi(u),Q=!Ar($.value)&&p.length>+$.value,de=!Ar(X.value)&&p.length<+X.value;if((Q||de)&&(S(Q,$.message,X.message),!s))return k(N[g].message),N}if(v&&!I&&rs(p)){const{value:$,message:X}=Vi(v);if(Wu($)&&!p.match($)&&(N[g]={type:xs.pattern,message:X,ref:o,...C(xs.pattern,X)},!s))return k(X),N}if(y){if(An(y)){const $=await y(p,r),X=y0($,b);if(X&&(N[g]={...X,...C(xs.validate,X.message)},!s))return k(X.message),N}else if(Bt(y)){let $={};for(const X in y){if(!Er($)&&!s)break;const Q=y0(await y[X](p,r),b,X);Q&&($={...Q,...C(X,Q.message)},k(Q.message),s&&(N[g]=$))}if(!Er($)&&(N[g]={ref:b,...$},!s))return N}}return k(!0),N};const C6={mode:Tn.onSubmit,reValidateMode:Tn.onChange,shouldFocusError:!0};function _6(e={}){let t={...C6,...e},r={submitCount:0,isDirty:!1,isLoading:An(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let a=Bt(t.defaultValues)||Bt(t.values)?dr(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:dr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const m={array:d0(),state:d0()},v=p0(t.mode),y=p0(t.reValidateMode),g=t.criteriaMode===Tn.all,w=M=>z=>{clearTimeout(d),d=setTimeout(M,z)},x=async M=>{if(!t.disabled&&(u.isValid||f.isValid||M)){const z=t.resolver?Er((await I()).errors):await S(s,!0);z!==r.isValid&&m.state.next({isValid:z})}},p=(M,z)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(G=>{G&&(z?gt(r.validatingFields,G,z):Zt(r.validatingFields,G))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Er(r.validatingFields)}))},b=(M,z=[],G,xe,ce=!0,oe=!0)=>{if(xe&&G&&!t.disabled){if(o.action=!0,oe&&Array.isArray(pe(s,M))){const Se=G(pe(s,M),xe.argA,xe.argB);ce&&gt(s,M,Se)}if(oe&&Array.isArray(pe(r.errors,M))){const Se=G(pe(r.errors,M),xe.argA,xe.argB);ce&&gt(r.errors,M,Se),S6(r.errors,M)}if((u.touchedFields||f.touchedFields)&&oe&&Array.isArray(pe(r.touchedFields,M))){const Se=G(pe(r.touchedFields,M),xe.argA,xe.argB);ce&&gt(r.touchedFields,M,Se)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=yl(a,i)),m.state.next({name:M,isDirty:X(M,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gt(i,M,z)},k=(M,z)=>{gt(r.errors,M,z),m.state.next({errors:r.errors})},N=M=>{r.errors=M,m.state.next({errors:r.errors,isValid:!1})},F=(M,z,G,xe)=>{const ce=pe(s,M);if(ce){const oe=pe(i,M,$t(G)?pe(a,M):G);$t(oe)||xe&&xe.defaultChecked||z?gt(i,M,z?oe:m0(ce._f)):K(M,oe),o.mount&&x()}},E=(M,z,G,xe,ce)=>{let oe=!1,Se=!1;const at={name:M};if(!t.disabled){if(!G||xe){(u.isDirty||f.isDirty)&&(Se=r.isDirty,r.isDirty=at.isDirty=X(),oe=Se!==at.isDirty);const Et=Xs(pe(a,M),z);Se=!!pe(r.dirtyFields,M),Et?Zt(r.dirtyFields,M):gt(r.dirtyFields,M,!0),at.dirtyFields=r.dirtyFields,oe=oe||(u.dirtyFields||f.dirtyFields)&&Se!==!Et}if(G){const Et=pe(r.touchedFields,M);Et||(gt(r.touchedFields,M,G),at.touchedFields=r.touchedFields,oe=oe||(u.touchedFields||f.touchedFields)&&Et!==G)}oe&&ce&&m.state.next(at)}return oe?at:{}},A=(M,z,G,xe)=>{const ce=pe(r.errors,M),oe=(u.isValid||f.isValid)&&Jr(z)&&r.isValid!==z;if(t.delayError&&G?(c=w(()=>k(M,G)),c(t.delayError)):(clearTimeout(d),c=null,G?gt(r.errors,M,G):Zt(r.errors,M)),(G?!Xs(ce,G):ce)||!Er(xe)||oe){const Se={...xe,...oe&&Jr(z)?{isValid:z}:{},errors:r.errors,name:M};r={...r,...Se},m.state.next(Se)}},I=async M=>{p(M,!0);const z=await t.resolver(i,t.context,v6(M||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return p(M),z},C=async M=>{const{errors:z}=await I(M);if(M)for(const G of M){const xe=pe(z,G);xe?gt(r.errors,G,xe):Zt(r.errors,G)}else r.errors=z;return z},S=async(M,z,G={valid:!0})=>{for(const xe in M){const ce=M[xe];if(ce){const{_f:oe,...Se}=ce;if(oe){const at=l.array.has(oe.name),Et=ce._f&&y6(ce._f);Et&&u.validatingFields&&p([xe],!0);const ar=await b0(ce,l.disabled,i,g,t.shouldUseNativeValidation&&!z,at);if(Et&&u.validatingFields&&p([xe]),ar[oe.name]&&(G.valid=!1,z))break;!z&&(pe(ar,oe.name)?at?k6(r.errors,ar,oe.name):gt(r.errors,oe.name,ar[oe.name]):Zt(r.errors,oe.name))}!Er(Se)&&await S(Se,z,G)}}return G.valid},$=()=>{for(const M of l.unMount){const z=pe(s,M);z&&(z._f.refs?z._f.refs.every(G=>!Wf(G)):!Wf(z._f.ref))&&fe(M)}l.unMount=new Set},X=(M,z)=>!t.disabled&&(M&&z&&gt(i,M,z),!Xs(R(),a)),Q=(M,z,G)=>Y_(M,l,{...o.mount?i:$t(z)?a:rs(M)?{[M]:z}:z},G,z),de=M=>qh(pe(o.mount?i:a,M,t.shouldUnregister?pe(a,M,[]):[])),K=(M,z,G={})=>{const xe=pe(s,M);let ce=z;if(xe){const oe=xe._f;oe&&(!oe.disabled&&gt(i,M,nP(z,oe)),ce=Bu(oe.ref)&&Ar(z)?"":z,J_(oe.ref)?[...oe.ref.options].forEach(Se=>Se.selected=ce.includes(Se.value)):oe.refs?Wc(oe.ref)?oe.refs.length>1?oe.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(ce)?!!ce.find(at=>at===Se.value):ce===Se.value)):oe.refs[0]&&(oe.refs[0].checked=!!ce):oe.refs.forEach(Se=>Se.checked=Se.value===ce):Fx(oe.ref)?oe.ref.value="":(oe.ref.value=ce,oe.ref.type||m.state.next({name:M,values:dr(i)})))}(G.shouldDirty||G.shouldTouch)&&E(M,ce,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&L(M)},le=(M,z,G)=>{for(const xe in z){const ce=z[xe],oe=`${M}.${xe}`,Se=pe(s,oe);(l.array.has(M)||Bt(ce)||Se&&!Se._f)&&!ei(ce)?le(oe,ce,G):K(oe,ce,G)}},H=(M,z,G={})=>{const xe=pe(s,M),ce=l.array.has(M),oe=dr(z);gt(i,M,oe),ce?(m.array.next({name:M,values:dr(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&G.shouldDirty&&m.state.next({name:M,dirtyFields:yl(a,i),isDirty:X(M,oe)})):xe&&!xe._f&&!Ar(oe)?le(M,oe,G):K(M,oe,G),x0(M,l)&&m.state.next({...r}),m.state.next({name:o.mount?M:void 0,values:dr(i)})},_=async M=>{o.mount=!0;const z=M.target;let G=z.name,xe=!0;const ce=pe(s,G),oe=Se=>{xe=Number.isNaN(Se)||ei(Se)&&isNaN(Se.getTime())||Xs(Se,pe(i,G,Se))};if(ce){let Se,at;const Et=z.type?m0(ce._f):K_(M),ar=M.type===Hu.BLUR||M.type===Hu.FOCUS_OUT,qx=!b6(ce._f)&&!t.resolver&&!pe(r.errors,G)&&!ce._f.deps||N6(ar,pe(r.touchedFields,G),r.isSubmitted,y,v),P=x0(G,l,ar);gt(i,G,Et),ar?(ce._f.onBlur&&ce._f.onBlur(M),c&&c(0)):ce._f.onChange&&ce._f.onChange(M);const V=E(G,Et,ar),ue=!Er(V)||P;if(!ar&&m.state.next({name:G,type:M.type,values:dr(i)}),qx)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?ar&&x():ar||x()),ue&&m.state.next({name:G,...P?{}:V});if(!ar&&P&&m.state.next({...r}),t.resolver){const{errors:ye}=await I([G]);if(oe(Et),xe){const Ke=v0(r.errors,s,G),it=v0(ye,s,Ke.name||G);Se=it.error,G=it.name,at=Er(ye)}}else p([G],!0),Se=(await b0(ce,l.disabled,i,g,t.shouldUseNativeValidation))[G],p([G]),oe(Et),xe&&(Se?at=!1:(u.isValid||f.isValid)&&(at=await S(s,!0)));xe&&(ce._f.deps&&L(ce._f.deps),A(G,at,Se,V))}},j=(M,z)=>{if(pe(r.errors,z)&&M.focus)return M.focus(),1},L=async(M,z={})=>{let G,xe;const ce=zl(M);if(t.resolver){const oe=await C($t(M)?M:ce);G=Er(oe),xe=M?!ce.some(Se=>pe(oe,Se)):G}else M?(xe=(await Promise.all(ce.map(async oe=>{const Se=pe(s,oe);return await S(Se&&Se._f?{[oe]:Se}:Se)}))).every(Boolean),!(!xe&&!r.isValid)&&x()):xe=G=await S(s);return m.state.next({...!rs(M)||(u.isValid||f.isValid)&&G!==r.isValid?{}:{name:M},...t.resolver||!M?{isValid:G}:{},errors:r.errors}),z.shouldFocus&&!xe&&$l(s,j,M?ce:l.mount),xe},R=M=>{const z={...o.mount?i:a};return $t(M)?z:rs(M)?pe(z,M):M.map(G=>pe(z,G))},q=(M,z)=>({invalid:!!pe((z||r).errors,M),isDirty:!!pe((z||r).dirtyFields,M),error:pe((z||r).errors,M),isValidating:!!pe(r.validatingFields,M),isTouched:!!pe((z||r).touchedFields,M)}),T=M=>{M&&zl(M).forEach(z=>Zt(r.errors,z)),m.state.next({errors:M?r.errors:{}})},U=(M,z,G)=>{const xe=(pe(s,M,{_f:{}})._f||{}).ref,ce=pe(r.errors,M)||{},{ref:oe,message:Se,type:at,...Et}=ce;gt(r.errors,M,{...Et,...z,ref:xe}),m.state.next({name:M,errors:r.errors,isValid:!1}),G&&G.shouldFocus&&xe&&xe.focus&&xe.focus()},Z=(M,z)=>An(M)?m.state.subscribe({next:G=>M(Q(void 0,z),G)}):Q(M,z,!0),B=M=>m.state.subscribe({next:z=>{w6(M.name,z.name,M.exact)&&j6(z,M.formState||u,Or,M.reRenderRoot)&&M.callback({values:{...i},...r,...z})}}).unsubscribe,te=M=>(o.mount=!0,f={...f,...M.formState},B({...M,formState:f})),fe=(M,z={})=>{for(const G of M?zl(M):l.mount)l.mount.delete(G),l.array.delete(G),z.keepValue||(Zt(s,G),Zt(i,G)),!z.keepError&&Zt(r.errors,G),!z.keepDirty&&Zt(r.dirtyFields,G),!z.keepTouched&&Zt(r.touchedFields,G),!z.keepIsValidating&&Zt(r.validatingFields,G),!t.shouldUnregister&&!z.keepDefaultValue&&Zt(a,G);m.state.next({values:dr(i)}),m.state.next({...r,...z.keepDirty?{isDirty:X()}:{}}),!z.keepIsValid&&x()},ve=({disabled:M,name:z})=>{(Jr(M)&&o.mount||M||l.disabled.has(z))&&(M?l.disabled.add(z):l.disabled.delete(z))},Ne=(M,z={})=>{let G=pe(s,M);const xe=Jr(z.disabled)||Jr(t.disabled);return gt(s,M,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:M}},name:M,mount:!0,...z}}),l.mount.add(M),G?ve({disabled:Jr(z.disabled)?z.disabled:t.disabled,name:M}):F(M,!0,z.value),{...xe?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:bl(z.min),max:bl(z.max),minLength:bl(z.minLength),maxLength:bl(z.maxLength),pattern:bl(z.pattern)}:{},name:M,onChange:_,onBlur:_,ref:ce=>{if(ce){Ne(M,z),G=pe(s,M);const oe=$t(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,Se=p6(oe),at=G._f.refs||[];if(Se?at.find(Et=>Et===oe):oe===G._f.ref)return;gt(s,M,{_f:{...G._f,...Se?{refs:[...at.filter(Wf),oe,...Array.isArray(pe(a,M))?[{}]:[]],ref:{type:oe.type,name:M}}:{ref:oe}}}),F(M,!1,void 0,oe)}else G=pe(s,M,{}),G._f&&(G._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(q_(l.array,M)&&o.action)&&l.unMount.add(M)}}},_e=()=>t.shouldFocusError&&$l(s,j,l.mount),et=M=>{Jr(M)&&(m.state.next({disabled:M}),$l(s,(z,G)=>{const xe=pe(s,G);xe&&(z.disabled=xe._f.disabled||M,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(ce=>{ce.disabled=xe._f.disabled||M}))},0,!1))},_t=(M,z)=>async G=>{let xe;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ce=dr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:Se}=await I();r.errors=oe,ce=Se}else await S(s);if(l.disabled.size)for(const oe of l.disabled)gt(ce,oe,void 0);if(Zt(r.errors,"root"),Er(r.errors)){m.state.next({errors:{}});try{await M(ce,G)}catch(oe){xe=oe}}else z&&await z({...r.errors},G),_e(),setTimeout(_e);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Er(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},sr=(M,z={})=>{pe(s,M)&&($t(z.defaultValue)?H(M,dr(pe(a,M))):(H(M,z.defaultValue),gt(a,M,dr(z.defaultValue))),z.keepTouched||Zt(r.touchedFields,M),z.keepDirty||(Zt(r.dirtyFields,M),r.isDirty=z.defaultValue?X(M,dr(pe(a,M))):X()),z.keepError||(Zt(r.errors,M),u.isValid&&x()),m.state.next({...r}))},rt=(M,z={})=>{const G=M?dr(M):a,xe=dr(G),ce=Er(M),oe=ce?a:xe;if(z.keepDefaultValues||(a=G),!z.keepValues){if(z.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(yl(a,i))]);for(const at of Array.from(Se))pe(r.dirtyFields,at)?gt(oe,at,pe(i,at)):H(at,pe(oe,at))}else{if(Rx&&$t(M))for(const Se of l.mount){const at=pe(s,Se);if(at&&at._f){const Et=Array.isArray(at._f.refs)?at._f.refs[0]:at._f.ref;if(Bu(Et)){const ar=Et.closest("form");if(ar){ar.reset();break}}}}for(const Se of l.mount)H(Se,pe(oe,Se))}i=dr(oe),m.array.next({values:{...oe}}),m.state.next({values:{...oe}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:ce?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!Xs(M,a)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ce?{}:z.keepDirtyValues?z.keepDefaultValues&&i?yl(a,i):r.dirtyFields:z.keepDefaultValues&&M?yl(a,M):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},wt=(M,z)=>rt(An(M)?M(i):M,z),fs=(M,z={})=>{const G=pe(s,M),xe=G&&G._f;if(xe){const ce=xe.refs?xe.refs[0]:xe.ref;ce.focus&&(ce.focus(),z.shouldSelect&&An(ce.select)&&ce.select())}},Or=M=>{r={...r,...M}},ms={control:{register:Ne,unregister:fe,getFieldState:q,handleSubmit:_t,setError:U,_subscribe:B,_runSchema:I,_getWatch:Q,_getDirty:X,_setValid:x,_setFieldArray:b,_setDisabledField:ve,_setErrors:N,_getFieldArray:de,_reset:rt,_resetDefaultValues:()=>An(t.defaultValues)&&t.defaultValues().then(M=>{wt(M,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:et,_subjects:m,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return a},get _names(){return l},set _names(M){l=M},get _formState(){return r},get _options(){return t},set _options(M){t={...t,...M}}},subscribe:te,trigger:L,register:Ne,handleSubmit:_t,watch:Z,setValue:H,getValues:R,reset:wt,resetField:sr,clearErrors:T,unregister:fe,setError:U,setFocus:fs,getFieldState:q};return{...ms,formControl:ms}}function hc(e={}){const t=Pe.useRef(void 0),r=Pe.useRef(void 0),[s,a]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:An(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:An(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:_6(e),formState:s},e.formControl&&e.defaultValues&&!An(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,Pe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),Pe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Pe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),Pe.useEffect(()=>{e.values&&!Xs(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),Pe.useEffect(()=>{e.errors&&!Er(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),Pe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Pe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=Z_(s,i),t.current}const fc=d6,aP=h.createContext({}),xt=({...e})=>n.jsx(aP.Provider,{value:{name:e.name},children:n.jsx(m6,{...e})}),Gh=()=>{const e=h.useContext(aP),t=h.useContext(iP),{getFieldState:r,formState:s}=Qh(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},iP=h.createContext({}),ft=h.forwardRef(({className:e,...t},r)=>{const s=h.useId();return n.jsx(iP.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:he("space-y-2",e),...t})})});ft.displayName="FormItem";const mt=h.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=Gh();return n.jsx(J,{ref:r,className:he(s&&"text-destructive",e),htmlFor:a,...t})});mt.displayName="FormLabel";const pt=h.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=Gh();return n.jsx(bk,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});pt.displayName="FormControl";const P6=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=Gh();return n.jsx("p",{ref:r,id:s,className:he("text-sm text-muted-foreground",e),...t})});P6.displayName="FormDescription";const vt=h.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=Gh(),o=a?String((a==null?void 0:a.message)??""):t;return o?n.jsx("p",{ref:s,id:i,className:he("text-sm font-medium text-destructive",e),...r,children:o}):null});vt.displayName="FormMessage";var Ox="Switch",[E6,OH]=Cr(Ox),[T6,A6]=E6(Ox),oP=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,v]=h.useState(null),y=Ge(t,b=>v(b)),g=h.useRef(!1),w=m?u||!!m.closest("form"):!0,[x=!1,p]=bn({prop:a,defaultProp:i,onChange:d});return n.jsxs(T6,{scope:r,checked:x,disabled:l,children:[n.jsx(Ie.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":dP(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ke(e.onClick,b=>{p(k=>!k),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&n.jsx(I6,{control:m,bubbles:!g.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});oP.displayName=Ox;var lP="SwitchThumb",cP=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=A6(lP,r);return n.jsx(Ie.span,{"data-state":dP(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});cP.displayName=lP;var I6=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=h.useRef(null),o=ux(r),l=Xg(t);return h.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dP(e){return e?"checked":"unchecked"}var uP=oP,R6=cP;const hP=h.forwardRef(({className:e,...t},r)=>n.jsx(uP,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(R6,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hP.displayName=uP.displayName;var Lx="Checkbox",[M6,LH]=Cr(Lx),[F6,D6]=M6(Lx),fP=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,v]=h.useState(null),y=Ge(t,k=>v(k)),g=h.useRef(!1),w=m?u||!!m.closest("form"):!0,[x=!1,p]=bn({prop:a,defaultProp:i,onChange:d}),b=h.useRef(x);return h.useEffect(()=>{const k=m==null?void 0:m.form;if(k){const N=()=>p(b.current);return k.addEventListener("reset",N),()=>k.removeEventListener("reset",N)}},[m,p]),n.jsxs(F6,{scope:r,state:x,disabled:l,children:[n.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":ba(x)?"mixed":x,"aria-required":o,"data-state":gP(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:ke(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:ke(e.onClick,k=>{p(N=>ba(N)?!0:!N),w&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})}),w&&n.jsx(O6,{control:m,bubbles:!g.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ba(i)?!1:i})]})});fP.displayName=Lx;var mP="CheckboxIndicator",pP=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=D6(mP,r);return n.jsx(Hn,{present:s||ba(i.state)||i.state===!0,children:n.jsx(Ie.span,{"data-state":gP(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});pP.displayName=mP;var O6=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=h.useRef(null),l=ux(r),c=Xg(t);h.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&v){const y=new Event("click",{bubbles:s});u.indeterminate=ba(r),v.call(u,ba(r)?!1:r),u.dispatchEvent(y)}},[l,r,s]);const d=h.useRef(ba(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ba(e){return e==="indeterminate"}function gP(e){return ba(e)?"indeterminate":e?"checked":"unchecked"}var xP=fP,L6=pP;const Nr=h.forwardRef(({className:e,...t},r)=>n.jsx(xP,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(L6,{className:he("flex items-center justify-center text-current"),children:n.jsx(Vg,{className:"h-4 w-4"})})}));Nr.displayName=xP.displayName;var zx="Popover",[vP,zH]=Cr(zx,[sl]),Kc=sl(),[z6,Ha]=vP(zx),yP=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Kc(t),c=h.useRef(null),[d,u]=h.useState(!1),[f=!1,m]=bn({prop:s,defaultProp:a,onChange:i});return n.jsx(EC,{...l,children:n.jsx(z6,{scope:t,contentId:Fn(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(v=>!v),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:o,children:r})})};yP.displayName=zx;var bP="PopoverAnchor",$6=h.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ha(bP,r),i=Kc(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(Ih,{...i,...s,ref:t})});$6.displayName=bP;var jP="PopoverTrigger",wP=h.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ha(jP,r),i=Kc(r),o=Ge(t,a.triggerRef),l=n.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_P(a.open),...s,ref:o,onClick:ke(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Ih,{asChild:!0,...i,children:l})});wP.displayName=jP;var $x="PopoverPortal",[V6,H6]=vP($x,{forceMount:void 0}),NP=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=Ha($x,t);return n.jsx(V6,{scope:t,forceMount:r,children:n.jsx(Hn,{present:r||i.open,children:n.jsx(Oc,{asChild:!0,container:a,children:s})})})};NP.displayName=$x;var Uo="PopoverContent",SP=h.forwardRef((e,t)=>{const r=H6(Uo,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=Ha(Uo,e.__scopePopover);return n.jsx(Hn,{present:s||i.open,children:i.modal?n.jsx(U6,{...a,ref:t}):n.jsx(W6,{...a,ref:t})})});SP.displayName=Uo;var B6=ji("PopoverContent.RemoveScroll"),U6=h.forwardRef((e,t)=>{const r=Ha(Uo,e.__scopePopover),s=h.useRef(null),a=Ge(t,s),i=h.useRef(!1);return h.useEffect(()=>{const o=s.current;if(o)return hx(o)},[]),n.jsx(zh,{as:B6,allowPinchZoom:!0,children:n.jsx(kP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),W6=h.forwardRef((e,t)=>{const r=Ha(Uo,e.__scopePopover),s=h.useRef(!1),a=h.useRef(!1);return n.jsx(kP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kP=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=Ha(Uo,r),v=Kc(r);return dx(),n.jsx(Oh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(el,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(tx,{"data-state":_P(m.open),role:"dialog",id:m.contentId,...v,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CP="PopoverClose",K6=h.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ha(CP,r);return n.jsx(Ie.button,{type:"button",...s,ref:t,onClick:ke(e.onClick,()=>a.onOpenChange(!1))})});K6.displayName=CP;var q6="PopoverArrow",Q6=h.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Kc(r);return n.jsx(rx,{...a,...s,ref:t})});Q6.displayName=q6;function _P(e){return e?"open":"closed"}var G6=yP,Z6=wP,Y6=NP,PP=SP;const X6=G6,J6=Z6,EP=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(Y6,{children:n.jsx(PP,{ref:a,align:t,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));EP.displayName=PP.displayName;const j0=(e,t,r)=>{if(e&&"reportValidity"in e){const s=pe(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},TP=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?j0(s.ref,r,e):s.refs&&s.refs.forEach(a=>j0(a,r,e))}},e$=(e,t)=>{t.shouldUseNativeValidation&&TP(e,t);const r={};for(const s in e){const a=pe(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(t$(t.names||Object.keys(e),s)){const o=Object.assign({},pe(r,s));gt(o,"root",i),gt(r,s,o)}else gt(r,s,i)}return r},t$=(e,t)=>e.some(r=>r.startsWith(t+"."));var r$=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=X_(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},mc=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&TP({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:e$(r$(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Y=Symbol.for("drizzle:entityKind");function Wt(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Y))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(Y in r&&r[Y]===t[Y])return!0;r=Object.getPrototypeOf(r)}return!1}var B0;B0=Y;class Wo{constructor(t,r){O(this,"name");O(this,"keyAsName");O(this,"primary");O(this,"notNull");O(this,"default");O(this,"defaultFn");O(this,"onUpdateFn");O(this,"hasDefault");O(this,"isUnique");O(this,"uniqueName");O(this,"uniqueType");O(this,"dataType");O(this,"columnType");O(this,"enumValues");O(this,"generated");O(this,"generatedIdentity");O(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}O(Wo,B0,"Column");var U0;U0=Y;class AP{constructor(t,r,s){O(this,"config");O(this,"$default",this.$defaultFn);O(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}O(AP,U0,"ColumnBuilder");const po=Symbol.for("drizzle:Name");var W0;W0=Y;class IP{constructor(t,r){O(this,"reference");O(this,"_onUpdate","no action");O(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new RP(t,this)}}O(IP,W0,"PgForeignKeyBuilder");var K0;K0=Y;class RP{constructor(t,r){O(this,"reference");O(this,"onUpdate");O(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:s}=this.reference(),a=r.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[po],...a,s[0].table[po],...i];return t??`${o.join("_")}_fk`}}O(RP,K0,"PgForeignKey");function n$(e,...t){return e(...t)}function s$(e){return new DP(e)}function MP(e,t){return`${e[po]}_${t.join("_")}_unique`}var q0;q0=Y;class FP{constructor(t,r){O(this,"columns");O(this,"nullsNotDistinctConfig",!1);this.name=r,this.columns=t}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new OP(t,this.columns,this.nullsNotDistinctConfig,this.name)}}O(FP,q0,"PgUniqueConstraintBuilder");var Q0;Q0=Y;class DP{constructor(t){O(this,"name");this.name=t}on(...t){return new FP(t,this.name)}}O(DP,Q0,"PgUniqueOnConstraintBuilder");var G0;G0=Y;class OP{constructor(t,r,s,a){O(this,"columns");O(this,"name");O(this,"nullsNotDistinct",!1);this.table=t,this.columns=r,this.name=a??MP(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=s}getName(){return this.name}}O(OP,G0,"PgUniqueConstraint");function w0(e,t,r){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!r&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function LP(e,t=0){const r=[];let s=t,a=!1;for(;s<e.length;){const i=e[s];if(i===","){(a||s===t)&&r.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,d]=w0(e,s+1,!0);r.push(c),s=d;continue}if(i==="}")return[r,s+1];if(i==="{"){const[c,d]=LP(e,s+1);r.push(c),s=d;continue}const[o,l]=w0(e,s,!1);r.push(o),s=l}return[r,s]}function a$(e){const[t]=LP(e,1);return t}function zP(e){return`{${e.map(t=>Array.isArray(t)?zP(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Z0,Y0;class lt extends(Y0=AP,Z0=Y,Y0){constructor(){super(...arguments);O(this,"foreignKeyConfigs",[])}array(r){return new VP(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>n$((o,l)=>{const c=new IP(()=>{const d=o();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)},a,i))}buildExtraConfigColumn(r){return new $P(r,this.config)}}O(lt,Z0,"PgColumnBuilder");var X0,J0;class We extends(J0=Wo,X0=Y,J0){constructor(t,r){r.uniqueName||(r.uniqueName=MP(t,[r.name])),super(t,r),this.table=t}}O(We,X0,"PgColumn");var eb,tb;class $P extends(tb=We,eb=Y,tb){constructor(){super(...arguments);O(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});O(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}O($P,eb,"ExtraConfigColumn");var rb;rb=Y;class Kd{constructor(t,r,s,a){O(this,"name");O(this,"keyAsName");O(this,"type");O(this,"indexConfig");this.name=t,this.keyAsName=r,this.type=s,this.indexConfig=a}}O(Kd,rb,"IndexedColumn");var nb,sb;class VP extends(sb=lt,nb=Y,sb){constructor(t,r,s){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(t){const r=this.config.baseBuilder.build(t);return new Pp(t,this.config,r)}}O(VP,nb,"PgArrayBuilder");var ab,ib;const ah=class ah extends(ib=We,ab=Y,ib){constructor(r,s,a,i){super(r,s);O(this,"size");this.baseColumn=a,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=a$(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const a=r.map(i=>i===null?null:Wt(this.baseColumn,ah)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?a:zP(a)}};O(ah,ab,"PgArray");let Pp=ah;const N0=Symbol.for("drizzle:isPgEnum");function i$(e){return!!e&&typeof e=="function"&&N0 in e&&e[N0]===!0}var ob;ob=Y;class Vx{constructor(t,r,s,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:s,isWith:a}}}O(Vx,ob,"Subquery");const o$={startActiveSpan(e,t){return t()}},go=Symbol.for("drizzle:ViewBaseConfig"),Kf=Symbol.for("drizzle:Schema"),S0=Symbol.for("drizzle:Columns"),k0=Symbol.for("drizzle:ExtraConfigColumns"),qf=Symbol.for("drizzle:OriginalName"),Qf=Symbol.for("drizzle:BaseName"),Ku=Symbol.for("drizzle:IsAlias"),C0=Symbol.for("drizzle:ExtraConfigBuilder"),HP=Symbol.for("drizzle:IsDrizzleTable");var lb,cb,db,ub,hb,fb,mb,pb,gb,xb;xb=Y,gb=po,pb=qf,mb=Kf,fb=S0,hb=k0,ub=Qf,db=Ku,cb=HP,lb=C0;class Ir{constructor(t,r,s){O(this,gb);O(this,pb);O(this,mb);O(this,fb);O(this,hb);O(this,ub);O(this,db,!1);O(this,cb,!0);O(this,lb);this[po]=this[qf]=t,this[Kf]=r,this[Qf]=s}}O(Ir,xb,"Table"),O(Ir,"Symbol",{Name:po,Schema:Kf,OriginalName:qf,Columns:S0,ExtraConfigColumns:k0,BaseName:Qf,IsAlias:Ku,ExtraConfigBuilder:C0});function BP(e){return typeof e=="object"&&e!==null&&HP in e}function l$(e){return e!=null&&typeof e.getSQL=="function"}function c$(e){var r;const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),(r=s.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}var vb;vb=Y;class fn{constructor(t){O(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Lt([this])}}O(fn,vb,"StringChunk");var yb;yb=Y;const Za=class Za{constructor(t){O(this,"decoder",UP);O(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return o$.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=s;return c$(t.map(u=>{var f;if(Wt(u,fn))return{sql:u.value.join(""),params:[]};if(Wt(u,qu))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const m=[new fn("(")];for(const[v,y]of u.entries())m.push(y),v<u.length-1&&m.push(new fn(", "));return m.push(new fn(")")),this.buildQueryFromSourceParams(m,s)}if(Wt(u,Za))return this.buildQueryFromSourceParams(u.queryChunks,{...s,inlineParams:c||u.shouldInlineParams});if(Wt(u,Ir)){const m=u[Ir.Symbol.Schema],v=u[Ir.Symbol.Name];return{sql:m===void 0||u[Ku]?i(v):i(m)+"."+i(v),params:[]}}if(Wt(u,Wo)){const m=a.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:i(m),params:[]};const v=u.table[Ir.Symbol.Schema];return{sql:u.table[Ku]||v===void 0?i(u.table[Ir.Symbol.Name])+"."+i(m):i(v)+"."+i(u.table[Ir.Symbol.Name])+"."+i(m),params:[]}}if(Wt(u,qP)){const m=u[go].schema,v=u[go].name;return{sql:m===void 0||u[go].isAlias?i(v):i(m)+"."+i(v),params:[]}}if(Wt(u,Hx)){if(Wt(u.value,Qu))return{sql:o(d.value++,u),params:[u],typings:["none"]};const m=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Wt(m,Za))return this.buildQueryFromSourceParams([m],s);if(c)return{sql:this.mapInlineParam(m,s),params:[]};let v=["none"];return l&&(v=[l(u.encoder)]),{sql:o(d.value++,m),params:[m],typings:v}}return Wt(u,Qu)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Wt(u,Za.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:Wt(u,Vx)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new fn("("),u._.sql,new fn(") "),new qu(u._.alias)],s):i$(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:l$(u)?(f=u.shouldOmitSQLParens)!=null&&f.call(u)?this.buildQueryFromSourceParams([u.getSQL()],s):this.buildQueryFromSourceParams([new fn("("),u.getSQL(),new fn(")")],s):c?{sql:this.mapInlineParam(u,s),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const s=t.toString();return r(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Za.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};O(Za,yb,"SQL");let Lt=Za;var bb;bb=Y;class qu{constructor(t){O(this,"brand");this.value=t}getSQL(){return new Lt([this])}}O(qu,bb,"Name");const UP={mapFromDriverValue:e=>e},WP={mapToDriverValue:e=>e};({...UP,...WP});var jb;jb=Y;class Hx{constructor(t,r=WP){O(this,"brand");this.value=t,this.encoder=r}getSQL(){return new Lt([this])}}O(Hx,jb,"Param");function xr(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new fn(e[0]));for(const[s,a]of t.entries())r.push(a,new fn(e[s+1]));return new Lt(r)}(e=>{function t(){return new Lt([])}e.empty=t;function r(c){return new Lt(c)}e.fromList=r;function s(c){return new Lt([new fn(c)])}e.raw=s;function a(c,d){const u=[];for(const[f,m]of c.entries())f>0&&d!==void 0&&u.push(d),u.push(m);return new Lt(u)}e.join=a;function i(c){return new qu(c)}e.identifier=i;function o(c){return new Qu(c)}e.placeholder=o;function l(c,d){return new Hx(c,d)}e.param=l})(xr||(xr={}));(e=>{var r;r=Y;const s=class s{constructor(i,o){O(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};O(s,r,"SQL.Aliased");let t=s;e.Aliased=t})(Lt||(Lt={}));var wb;wb=Y;class Qu{constructor(t){this.name=t}getSQL(){return new Lt([this])}}O(Qu,wb,"Placeholder");const KP=Symbol.for("drizzle:IsDrizzleView");var Nb,Sb,kb;kb=Y,Sb=go,Nb=KP;class qP{constructor({name:t,schema:r,selectedFields:s,query:a}){O(this,Sb);O(this,Nb,!0);this[go]={name:t,originalName:t,schema:r,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Lt([this])}}O(qP,kb,"View");function d$(e){return typeof e=="object"&&e!==null&&KP in e}Wo.prototype.getSQL=function(){return new Lt([this])};Ir.prototype.getSQL=function(){return new Lt([this])};Vx.prototype.getSQL=function(){return new Lt([this])};function u$(e){return e[Ir.Symbol.Columns]}function h$(e){return e[go].selectedFields}function cr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var Cb,_b;class qc extends(_b=lt,Cb=Y,_b){generatedAlwaysAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}O(qc,Cb,"PgIntColumnBaseBuilder");var Pb,Eb;class QP extends(Eb=qc,Pb=Y,Eb){constructor(t){super(t,"number","PgBigInt53")}build(t){return new GP(t,this.config)}}O(QP,Pb,"PgBigInt53Builder");var Tb,Ab;class GP extends(Ab=We,Tb=Y,Ab){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(GP,Tb,"PgBigInt53");var Ib,Rb;class ZP extends(Rb=qc,Ib=Y,Rb){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new YP(t,this.config)}}O(ZP,Ib,"PgBigInt64Builder");var Mb,Fb;class YP extends(Fb=We,Mb=Y,Fb){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}O(YP,Mb,"PgBigInt64");function f$(e,t){const{name:r,config:s}=cr(e,t);return s.mode==="number"?new QP(r):new ZP(r)}var Db,Ob;class XP extends(Ob=lt,Db=Y,Ob){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new JP(t,this.config)}}O(XP,Db,"PgBigSerial53Builder");var Lb,zb;class JP extends(zb=We,Lb=Y,zb){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(JP,Lb,"PgBigSerial53");var $b,Vb;class eE extends(Vb=lt,$b=Y,Vb){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new tE(t,this.config)}}O(eE,$b,"PgBigSerial64Builder");var Hb,Bb;class tE extends(Bb=We,Hb=Y,Bb){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}O(tE,Hb,"PgBigSerial64");function m$(e,t){const{name:r,config:s}=cr(e,t);return s.mode==="number"?new XP(r):new eE(r)}var Ub,Wb;class rE extends(Wb=lt,Ub=Y,Wb){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new nE(t,this.config)}}O(rE,Ub,"PgBooleanBuilder");var Kb,qb;class nE extends(qb=We,Kb=Y,qb){getSQLType(){return"boolean"}}O(nE,Kb,"PgBoolean");function il(e){return new rE(e??"")}var Qb,Gb;class sE extends(Gb=lt,Qb=Y,Gb){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new aE(t,this.config)}}O(sE,Qb,"PgCharBuilder");var Zb,Yb;class aE extends(Yb=We,Zb=Y,Yb){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}O(aE,Zb,"PgChar");function p$(e,t={}){const{name:r,config:s}=cr(e,t);return new sE(r,s)}var Xb,Jb;class iE extends(Jb=lt,Xb=Y,Jb){constructor(t){super(t,"string","PgCidr")}build(t){return new oE(t,this.config)}}O(iE,Xb,"PgCidrBuilder");var ej,tj;class oE extends(tj=We,ej=Y,tj){getSQLType(){return"cidr"}}O(oE,ej,"PgCidr");function g$(e){return new iE(e??"")}var rj,nj;class lE extends(nj=lt,rj=Y,nj){constructor(t,r,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(t){return new cE(t,this.config)}}O(lE,rj,"PgCustomColumnBuilder");var sj,aj;class cE extends(aj=We,sj=Y,aj){constructor(r,s){super(r,s);O(this,"sqlName");O(this,"mapTo");O(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}O(cE,sj,"PgCustomColumn");function x$(e){return(t,r)=>{const{name:s,config:a}=cr(t,r);return new lE(s,a,e)}}var ij,oj;class ol extends(oj=lt,ij=Y,oj){defaultNow(){return this.default(xr`now()`)}}O(ol,ij,"PgDateColumnBaseBuilder");var lj,cj;class dE extends(cj=ol,lj=Y,cj){constructor(t){super(t,"date","PgDate")}build(t){return new uE(t,this.config)}}O(dE,lj,"PgDateBuilder");var dj,uj;class uE extends(uj=We,dj=Y,uj){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}O(uE,dj,"PgDate");var hj,fj;class hE extends(fj=ol,hj=Y,fj){constructor(t){super(t,"string","PgDateString")}build(t){return new fE(t,this.config)}}O(hE,hj,"PgDateStringBuilder");var mj,pj;class fE extends(pj=We,mj=Y,pj){getSQLType(){return"date"}}O(fE,mj,"PgDateString");function Gu(e,t){const{name:r,config:s}=cr(e,t);return(s==null?void 0:s.mode)==="date"?new dE(r):new hE(r)}var gj,xj;class mE extends(xj=lt,gj=Y,xj){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new pE(t,this.config)}}O(mE,gj,"PgDoublePrecisionBuilder");var vj,yj;class pE extends(yj=We,vj=Y,yj){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}O(pE,vj,"PgDoublePrecision");function v$(e){return new mE(e??"")}var bj,jj;class gE extends(jj=lt,bj=Y,jj){constructor(t){super(t,"string","PgInet")}build(t){return new xE(t,this.config)}}O(gE,bj,"PgInetBuilder");var wj,Nj;class xE extends(Nj=We,wj=Y,Nj){getSQLType(){return"inet"}}O(xE,wj,"PgInet");function y$(e){return new gE(e??"")}var Sj,kj;class vE extends(kj=qc,Sj=Y,kj){constructor(t){super(t,"number","PgInteger")}build(t){return new yE(t,this.config)}}O(vE,Sj,"PgIntegerBuilder");var Cj,_j;class yE extends(_j=We,Cj=Y,_j){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}O(yE,Cj,"PgInteger");function Fs(e){return new vE(e??"")}var Pj,Ej;class bE extends(Ej=lt,Pj=Y,Ej){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new jE(t,this.config)}}O(bE,Pj,"PgIntervalBuilder");var Tj,Aj;class jE extends(Aj=We,Tj=Y,Aj){constructor(){super(...arguments);O(this,"fields",this.config.intervalConfig.fields);O(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${r}${s}`}}O(jE,Tj,"PgInterval");function b$(e,t={}){const{name:r,config:s}=cr(e,t);return new bE(r,s)}var Ij,Rj;class wE extends(Rj=lt,Ij=Y,Rj){constructor(t){super(t,"json","PgJson")}build(t){return new NE(t,this.config)}}O(wE,Ij,"PgJsonBuilder");var Mj,Fj;class NE extends(Fj=We,Mj=Y,Fj){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(NE,Mj,"PgJson");function Dn(e){return new wE(e??"")}var Dj,Oj;class SE extends(Oj=lt,Dj=Y,Oj){constructor(t){super(t,"json","PgJsonb")}build(t){return new kE(t,this.config)}}O(SE,Dj,"PgJsonbBuilder");var Lj,zj;class kE extends(zj=We,Lj=Y,zj){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(kE,Lj,"PgJsonb");function CE(e){return new SE(e??"")}var $j,Vj;class _E extends(Vj=lt,$j=Y,Vj){constructor(t){super(t,"array","PgLine")}build(t){return new PE(t,this.config)}}O(_E,$j,"PgLineBuilder");var Hj,Bj;class PE extends(Bj=We,Hj=Y,Bj){getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}O(PE,Hj,"PgLine");var Uj,Wj;class EE extends(Wj=lt,Uj=Y,Wj){constructor(t){super(t,"json","PgLineABC")}build(t){return new TE(t,this.config)}}O(EE,Uj,"PgLineABCBuilder");var Kj,qj;class TE extends(qj=We,Kj=Y,qj){getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}O(TE,Kj,"PgLineABC");function j$(e,t){const{name:r,config:s}=cr(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new _E(r):new EE(r)}var Qj,Gj;class AE extends(Gj=lt,Qj=Y,Gj){constructor(t){super(t,"string","PgMacaddr")}build(t){return new IE(t,this.config)}}O(AE,Qj,"PgMacaddrBuilder");var Zj,Yj;class IE extends(Yj=We,Zj=Y,Yj){getSQLType(){return"macaddr"}}O(IE,Zj,"PgMacaddr");function w$(e){return new AE(e??"")}var Xj,Jj;class RE extends(Jj=lt,Xj=Y,Jj){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new ME(t,this.config)}}O(RE,Xj,"PgMacaddr8Builder");var ew,tw;class ME extends(tw=We,ew=Y,tw){getSQLType(){return"macaddr8"}}O(ME,ew,"PgMacaddr8");function N$(e){return new RE(e??"")}var rw,nw;class FE extends(nw=lt,rw=Y,nw){constructor(t,r,s){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(t){return new DE(t,this.config)}}O(FE,rw,"PgNumericBuilder");var sw,aw;class DE extends(aw=We,sw=Y,aw){constructor(r,s){super(r,s);O(this,"precision");O(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}O(DE,sw,"PgNumeric");function OE(e,t){const{name:r,config:s}=cr(e,t);return new FE(r,s==null?void 0:s.precision,s==null?void 0:s.scale)}const is=OE;var iw,ow;class LE extends(ow=lt,iw=Y,ow){constructor(t){super(t,"array","PgPointTuple")}build(t){return new zE(t,this.config)}}O(LE,iw,"PgPointTupleBuilder");var lw,cw;class zE extends(cw=We,lw=Y,cw){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}O(zE,lw,"PgPointTuple");var dw,uw;class $E extends(uw=lt,dw=Y,uw){constructor(t){super(t,"json","PgPointObject")}build(t){return new VE(t,this.config)}}O($E,dw,"PgPointObjectBuilder");var hw,fw;class VE extends(fw=We,hw=Y,fw){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}O(VE,hw,"PgPointObject");function S$(e,t){const{name:r,config:s}=cr(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new LE(r):new $E(r)}function k$(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function _0(e,t){const r=new ArrayBuffer(8),s=new DataView(r);for(let a=0;a<8;a++)s.setUint8(a,e[t+a]);return s.getFloat64(0,!0)}function HE(e){const t=k$(e);let r=0;const s=t[r];r+=1;const a=new DataView(t.buffer),i=a.getUint32(r,s===1);if(r+=4,i&536870912&&(a.getUint32(r,s===1),r+=4),(i&65535)===1){const o=_0(t,r);r+=8;const l=_0(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var mw,pw;class BE extends(pw=lt,mw=Y,pw){constructor(t){super(t,"array","PgGeometry")}build(t){return new UE(t,this.config)}}O(BE,mw,"PgGeometryBuilder");var gw,xw;class UE extends(xw=We,gw=Y,xw){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return HE(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}O(UE,gw,"PgGeometry");var vw,yw;class WE extends(yw=lt,vw=Y,yw){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new KE(t,this.config)}}O(WE,vw,"PgGeometryObjectBuilder");var bw,jw;class KE extends(jw=We,bw=Y,jw){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=HE(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}O(KE,bw,"PgGeometryObject");function C$(e,t){const{name:r,config:s}=cr(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new BE(r):new WE(r)}var ww,Nw;class qE extends(Nw=lt,ww=Y,Nw){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new QE(t,this.config)}}O(qE,ww,"PgRealBuilder");var Sw,kw;class QE extends(kw=We,Sw=Y,kw){constructor(r,s){super(r,s);O(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}O(QE,Sw,"PgReal");function _$(e){return new qE(e??"")}var Cw,_w;class GE extends(_w=lt,Cw=Y,_w){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new ZE(t,this.config)}}O(GE,Cw,"PgSerialBuilder");var Pw,Ew;class ZE extends(Ew=We,Pw=Y,Ew){getSQLType(){return"serial"}}O(ZE,Pw,"PgSerial");function P$(e){return new GE(e??"")}var Tw,Aw;class YE extends(Aw=qc,Tw=Y,Aw){constructor(t){super(t,"number","PgSmallInt")}build(t){return new XE(t,this.config)}}O(YE,Tw,"PgSmallIntBuilder");var Iw,Rw;class XE extends(Rw=We,Iw=Y,Rw){constructor(){super(...arguments);O(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}O(XE,Iw,"PgSmallInt");function E$(e){return new YE(e??"")}var Mw,Fw;class JE extends(Fw=lt,Mw=Y,Fw){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new eT(t,this.config)}}O(JE,Mw,"PgSmallSerialBuilder");var Dw,Ow;class eT extends(Ow=We,Dw=Y,Ow){getSQLType(){return"smallserial"}}O(eT,Dw,"PgSmallSerial");function T$(e){return new JE(e??"")}var Lw,zw;class tT extends(zw=lt,Lw=Y,zw){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new rT(t,this.config)}}O(tT,Lw,"PgTextBuilder");var $w,Vw;class rT extends(Vw=We,$w=Y,Vw){constructor(){super(...arguments);O(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}O(rT,$w,"PgText");function qt(e,t={}){const{name:r,config:s}=cr(e,t);return new tT(r,s)}var Hw,Bw;class nT extends(Bw=ol,Hw=Y,Bw){constructor(t,r,s){super(t,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}build(t){return new sT(t,this.config)}}O(nT,Hw,"PgTimeBuilder");var Uw,Ww;class sT extends(Ww=We,Uw=Y,Ww){constructor(r,s){super(r,s);O(this,"withTimezone");O(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(sT,Uw,"PgTime");function A$(e,t={}){const{name:r,config:s}=cr(e,t);return new nT(r,s.withTimezone??!1,s.precision)}var Kw,qw;class aT extends(qw=ol,Kw=Y,qw){constructor(t,r,s){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(t){return new iT(t,this.config)}}O(aT,Kw,"PgTimestampBuilder");var Qw,Gw;class iT extends(Gw=We,Qw=Y,Gw){constructor(r,s){super(r,s);O(this,"withTimezone");O(this,"precision");O(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));O(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(iT,Qw,"PgTimestamp");var Zw,Yw;class oT extends(Yw=ol,Zw=Y,Yw){constructor(t,r,s){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(t){return new lT(t,this.config)}}O(oT,Zw,"PgTimestampStringBuilder");var Xw,Jw;class lT extends(Jw=We,Xw=Y,Jw){constructor(r,s){super(r,s);O(this,"withTimezone");O(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(lT,Xw,"PgTimestampString");function nr(e,t={}){const{name:r,config:s}=cr(e,t);return(s==null?void 0:s.mode)==="string"?new oT(r,s.withTimezone??!1,s.precision):new aT(r,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var eN,tN;class cT extends(tN=lt,eN=Y,tN){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(xr`gen_random_uuid()`)}build(t){return new dT(t,this.config)}}O(cT,eN,"PgUUIDBuilder");var rN,nN;class dT extends(nN=We,rN=Y,nN){getSQLType(){return"uuid"}}O(dT,rN,"PgUUID");function I$(e){return new cT(e??"")}var sN,aN;class uT extends(aN=lt,sN=Y,aN){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new hT(t,this.config)}}O(uT,sN,"PgVarcharBuilder");var iN,oN;class hT extends(oN=We,iN=Y,oN){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}O(hT,iN,"PgVarchar");function Le(e,t={}){const{name:r,config:s}=cr(e,t);return new uT(r,s)}var lN,cN;class fT extends(cN=lt,lN=Y,cN){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new mT(t,this.config)}}O(fT,lN,"PgBinaryVectorBuilder");var dN,uN;class mT extends(uN=We,dN=Y,uN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}O(mT,dN,"PgBinaryVector");function R$(e,t){const{name:r,config:s}=cr(e,t);return new fT(r,s)}var hN,fN;class pT extends(fN=lt,hN=Y,fN){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new gT(t,this.config)}}O(pT,hN,"PgHalfVectorBuilder");var mN,pN;class gT extends(pN=We,mN=Y,pN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}O(gT,mN,"PgHalfVector");function M$(e,t){const{name:r,config:s}=cr(e,t);return new pT(r,s)}var gN,xN;class xT extends(xN=lt,gN=Y,xN){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new vT(t,this.config)}}O(xT,gN,"PgSparseVectorBuilder");var vN,yN;class vT extends(yN=We,vN=Y,yN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}O(vT,vN,"PgSparseVector");function F$(e,t){const{name:r,config:s}=cr(e,t);return new xT(r,s)}var bN,jN;class yT extends(jN=lt,bN=Y,jN){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new bT(t,this.config)}}O(yT,bN,"PgVectorBuilder");var wN,NN;class bT extends(NN=We,wN=Y,NN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}O(bT,wN,"PgVector");function D$(e,t){const{name:r,config:s}=cr(e,t);return new yT(r,s)}function O$(){return{bigint:f$,bigserial:m$,boolean:il,char:p$,cidr:g$,customType:x$,date:Gu,doublePrecision:v$,inet:y$,integer:Fs,interval:b$,json:Dn,jsonb:CE,line:j$,macaddr:w$,macaddr8:N$,numeric:OE,point:S$,geometry:C$,real:_$,serial:P$,smallint:E$,smallserial:T$,text:qt,time:A$,timestamp:nr,uuid:I$,varchar:Le,bit:R$,halfvec:M$,sparsevec:F$,vector:D$}}const Ep=Symbol.for("drizzle:PgInlineForeignKeys"),P0=Symbol.for("drizzle:EnableRLS");var SN,kN,CN,_N,PN;class Vl extends(PN=Ir,_N=Y,CN=Ep,kN=P0,SN=Ir.Symbol.ExtraConfigBuilder,PN){constructor(){super(...arguments);O(this,CN,[]);O(this,kN,!1);O(this,SN)}}O(Vl,_N,"PgTable"),O(Vl,"Symbol",Object.assign({},Ir.Symbol,{InlineForeignKeys:Ep,EnableRLS:P0}));function L$(e,t,r,s,a=e){const i=new Vl(e,s,a),o=typeof t=="function"?t(O$()):t,l=Object.fromEntries(Object.entries(o).map(([u,f])=>{const m=f;m.setName(u);const v=m.build(i);return i[Ep].push(...m.buildForeignKeys(v,i)),[u,v]})),c=Object.fromEntries(Object.entries(o).map(([u,f])=>{const m=f;m.setName(u);const v=m.buildExtraConfigColumn(i);return[u,v]})),d=Object.assign(i,l);return d[Ir.Symbol.Columns]=l,d[Ir.Symbol.ExtraConfigColumns]=c,r&&(d[Vl.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:()=>(d[Vl.Symbol.EnableRLS]=!0,d)})}const Qr=(e,t,r)=>L$(e,t,r,void 0);var EN;EN=Y;class jT{constructor(t,r){this.unique=t,this.name=r}on(...t){return new qd(t.map(r=>{if(Wt(r,Lt))return r;r=r;const s=new Kd(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),s}),this.unique,!1,this.name)}onOnly(...t){return new qd(t.map(r=>{if(Wt(r,Lt))return r;r=r;const s=new Kd(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,s}),this.unique,!0,this.name)}using(t,...r){return new qd(r.map(s=>{if(Wt(s,Lt))return s;s=s;const a=new Kd(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=JSON.parse(JSON.stringify(s.defaultConfig)),a}),this.unique,!0,this.name,t)}}O(jT,EN,"PgIndexBuilderOn");var TN;TN=Y;class qd{constructor(t,r,s,a,i="btree"){O(this,"config");this.config={name:a,columns:t,unique:r,only:s,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new wT(this.config,t)}}O(qd,TN,"PgIndexBuilder");var AN;AN=Y;class wT{constructor(t,r){O(this,"config");this.config={...t,table:r}}}O(wT,AN,"PgIndex");function ti(e){return new jT(!1,e)}var ot;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ot||(ot={}));var Tp;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Tp||(Tp={}));const je=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ws=e=>{switch(typeof e){case"undefined":return je.undefined;case"string":return je.string;case"number":return isNaN(e)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(e)?je.array:e===null?je.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?je.promise:typeof Map<"u"&&e instanceof Map?je.map:typeof Set<"u"&&e instanceof Set?je.set:typeof Date<"u"&&e instanceof Date?je.date:je.object;default:return je.unknown}},ne=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),z$=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class sn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof sn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}sn.create=e=>new sn(e);const Ko=(e,t)=>{let r;switch(e.code){case ne.invalid_type:e.received===je.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ne.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ot.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:r=`Unrecognized key(s) in object: ${ot.joinValues(e.keys,", ")}`;break;case ne.invalid_union:r="Invalid input";break;case ne.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ot.joinValues(e.options)}`;break;case ne.invalid_enum_value:r=`Invalid enum value. Expected ${ot.joinValues(e.options)}, received '${e.received}'`;break;case ne.invalid_arguments:r="Invalid function arguments";break;case ne.invalid_return_type:r="Invalid function return type";break;case ne.invalid_date:r="Invalid date";break;case ne.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ot.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ne.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ne.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ne.custom:r="Invalid input";break;case ne.invalid_intersection_types:r="Intersection results could not be merged";break;case ne.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ne.not_finite:r="Number must be finite";break;default:r=t.defaultError,ot.assertNever(e)}return{message:r}};let NT=Ko;function $$(e){NT=e}function Zu(){return NT}const Yu=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},V$=[];function ge(e,t){const r=Zu(),s=Yu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ko?void 0:Ko].filter(a=>!!a)});e.common.issues.push(s)}class kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return Oe;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return kr.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Oe;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Oe=Object.freeze({status:"aborted"}),ro=e=>({status:"dirty",value:e}),Mr=e=>({status:"valid",value:e}),Ap=e=>e.status==="aborted",Ip=e=>e.status==="dirty",Ei=e=>e.status==="valid",pc=e=>typeof Promise<"u"&&e instanceof Promise;function Xu(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function ST(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ce||(Ce={}));var _l,Pl;class cs{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const E0=(e,t)=>{if(Ei(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new sn(e.common.issues);return this._error=r,this._error}}};function Ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class Ye{get description(){return this._def.description}_getType(t){return ws(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ws(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new kr,ctx:{common:t.parent.common,data:t.data,parsedType:ws(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(pc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ws(t)},i=this._parseSync({data:t,path:a.path,parent:a});return E0(a,i)}"~validate"(t){var r,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ws(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Ei(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((s=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Ei(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ws(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(pc(a)?a:Promise.resolve(a));return E0(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ne.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Vn({schema:this,typeName:De.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return os.create(this,this._def)}nullable(){return Da.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return On.create(this)}promise(){return Qo.create(this,this._def)}or(t){return yc.create([this,t],this._def)}and(t){return bc.create(this,t,this._def)}transform(t){return new Vn({...Ue(this._def),schema:this,typeName:De.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new kc({...Ue(this._def),innerType:this,defaultValue:r,typeName:De.ZodDefault})}brand(){return new Bx({typeName:De.ZodBranded,type:this,...Ue(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Cc({...Ue(this._def),innerType:this,catchValue:r,typeName:De.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Qc.create(this,t)}readonly(){return _c.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const H$=/^c[^\s-]{8,}$/i,B$=/^[0-9a-z]+$/,U$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,W$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,K$=/^[a-z0-9_-]{21}$/i,q$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Q$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,G$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Z$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gf;const Y$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,X$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,J$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rV=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nV=new RegExp(`^${kT}$`);function CT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function sV(e){return new RegExp(`^${CT(e)}$`)}function _T(e){let t=`${kT}T${CT(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function aV(e,t){return!!((t==="v4"||!t)&&Y$.test(e)||(t==="v6"||!t)&&J$.test(e))}function iV(e,t){if(!q$.test(e))return!1;try{const[r]=e.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function oV(e,t){return!!((t==="v4"||!t)&&X$.test(e)||(t==="v6"||!t)&&eV.test(e))}class In extends Ye{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==je.string){const i=this._getOrReturnCtx(t);return ge(i,{code:ne.invalid_type,expected:je.string,received:i.parsedType}),Oe}const s=new kr;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ge(a,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ge(a,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")G$.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"email",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Gf||(Gf=new RegExp(Z$,"u")),Gf.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"emoji",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")W$.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"uuid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")K$.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"nanoid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")H$.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"cuid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")B$.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"cuid2",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")U$.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"ulid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ge(a,{validation:"url",code:ne.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"regex",code:ne.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?_T(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?nV.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?sV(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Q$.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"duration",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?aV(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"ip",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?iV(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"jwt",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?oV(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"cidr",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?tV.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"base64",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?rV.test(t.data)||(a=this._getOrReturnCtx(t,a),ge(a,{validation:"base64url",code:ne.invalid_string,message:i.message}),s.dirty()):ot.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:ne.invalid_string,...Ce.errToObj(s)})}_addCheck(t){return new In({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ce.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ce.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ce.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ce.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ce.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ce.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ce.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ce.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ce.errToObj(r)})}nonempty(t){return this.min(1,Ce.errToObj(t))}trim(){return new In({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new In({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new In({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}In.create=e=>{var t;return new In({checks:[],typeName:De.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ue(e)})};function lV(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Ra extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==je.number){const i=this._getOrReturnCtx(t);return ge(i,{code:ne.invalid_type,expected:je.number,received:i.parsedType}),Oe}let s;const a=new kr;for(const i of this._def.checks)i.kind==="int"?ot.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?lV(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.not_finite,message:i.message}),a.dirty()):ot.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ce.toString(r))}setLimit(t,r,s,a){return new Ra({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ce.toString(a)}]})}_addCheck(t){return new Ra({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ot.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ra.create=e=>new Ra({checks:[],typeName:De.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class Ma extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==je.bigint)return this._getInvalidInput(t);let s;const a=new kr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ot.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ge(r,{code:ne.invalid_type,expected:je.bigint,received:r.parsedType}),Oe}gte(t,r){return this.setLimit("min",t,!0,Ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ce.toString(r))}setLimit(t,r,s,a){return new Ma({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ce.toString(a)}]})}_addCheck(t){return new Ma({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ma.create=e=>{var t;return new Ma({checks:[],typeName:De.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ue(e)})};class gc extends Ye{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==je.boolean){const s=this._getOrReturnCtx(t);return ge(s,{code:ne.invalid_type,expected:je.boolean,received:s.parsedType}),Oe}return Mr(t.data)}}gc.create=e=>new gc({typeName:De.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class Ti extends Ye{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==je.date){const i=this._getOrReturnCtx(t);return ge(i,{code:ne.invalid_type,expected:je.date,received:i.parsedType}),Oe}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ge(i,{code:ne.invalid_date}),Oe}const s=new kr;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ge(a,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):ot.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ti({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ce.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ce.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ti.create=e=>new Ti({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:De.ZodDate,...Ue(e)});class Ju extends Ye{_parse(t){if(this._getType(t)!==je.symbol){const s=this._getOrReturnCtx(t);return ge(s,{code:ne.invalid_type,expected:je.symbol,received:s.parsedType}),Oe}return Mr(t.data)}}Ju.create=e=>new Ju({typeName:De.ZodSymbol,...Ue(e)});class xc extends Ye{_parse(t){if(this._getType(t)!==je.undefined){const s=this._getOrReturnCtx(t);return ge(s,{code:ne.invalid_type,expected:je.undefined,received:s.parsedType}),Oe}return Mr(t.data)}}xc.create=e=>new xc({typeName:De.ZodUndefined,...Ue(e)});class vc extends Ye{_parse(t){if(this._getType(t)!==je.null){const s=this._getOrReturnCtx(t);return ge(s,{code:ne.invalid_type,expected:je.null,received:s.parsedType}),Oe}return Mr(t.data)}}vc.create=e=>new vc({typeName:De.ZodNull,...Ue(e)});class qo extends Ye{constructor(){super(...arguments),this._any=!0}_parse(t){return Mr(t.data)}}qo.create=e=>new qo({typeName:De.ZodAny,...Ue(e)});class fi extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Mr(t.data)}}fi.create=e=>new fi({typeName:De.ZodUnknown,...Ue(e)});class Ds extends Ye{_parse(t){const r=this._getOrReturnCtx(t);return ge(r,{code:ne.invalid_type,expected:je.never,received:r.parsedType}),Oe}}Ds.create=e=>new Ds({typeName:De.ZodNever,...Ue(e)});class eh extends Ye{_parse(t){if(this._getType(t)!==je.undefined){const s=this._getOrReturnCtx(t);return ge(s,{code:ne.invalid_type,expected:je.void,received:s.parsedType}),Oe}return Mr(t.data)}}eh.create=e=>new eh({typeName:De.ZodVoid,...Ue(e)});class On extends Ye{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==je.array)return ge(r,{code:ne.invalid_type,expected:je.array,received:r.parsedType}),Oe;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ge(r,{code:o?ne.too_big:ne.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ge(r,{code:ne.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ge(r,{code:ne.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new cs(r,o,r.path,l)))).then(o=>kr.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new cs(r,o,r.path,l)));return kr.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new On({...this._def,minLength:{value:t,message:Ce.toString(r)}})}max(t,r){return new On({...this._def,maxLength:{value:t,message:Ce.toString(r)}})}length(t,r){return new On({...this._def,exactLength:{value:t,message:Ce.toString(r)}})}nonempty(t){return this.min(1,t)}}On.create=(e,t)=>new On({type:e,minLength:null,maxLength:null,exactLength:null,typeName:De.ZodArray,...Ue(t)});function Bi(e){if(e instanceof It){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=os.create(Bi(s))}return new It({...e._def,shape:()=>t})}else return e instanceof On?new On({...e._def,type:Bi(e.element)}):e instanceof os?os.create(Bi(e.unwrap())):e instanceof Da?Da.create(Bi(e.unwrap())):e instanceof ds?ds.create(e.items.map(t=>Bi(t))):e}class It extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ot.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==je.object){const d=this._getOrReturnCtx(t);return ge(d,{code:ne.invalid_type,expected:je.object,received:d.parsedType}),Oe}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ds&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new cs(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Ds){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(ge(a,{code:ne.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new cs(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>kr.mergeObjectSync(s,d)):kr.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Ce.errToObj,new It({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=Ce.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new It({...this._def,unknownKeys:"strip"})}passthrough(){return new It({...this._def,unknownKeys:"passthrough"})}extend(t){return new It({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new It({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:De.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new It({...this._def,catchall:t})}pick(t){const r={};return ot.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new It({...this._def,shape:()=>r})}omit(t){const r={};return ot.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new It({...this._def,shape:()=>r})}deepPartial(){return Bi(this)}partial(t){const r={};return ot.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new It({...this._def,shape:()=>r})}required(t){const r={};return ot.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof os;)i=i._def.innerType;r[s]=i}}),new It({...this._def,shape:()=>r})}keyof(){return PT(ot.objectKeys(this.shape))}}It.create=(e,t)=>new It({shape:()=>e,unknownKeys:"strip",catchall:Ds.create(),typeName:De.ZodObject,...Ue(t)});It.strictCreate=(e,t)=>new It({shape:()=>e,unknownKeys:"strict",catchall:Ds.create(),typeName:De.ZodObject,...Ue(t)});It.lazycreate=(e,t)=>new It({shape:e,unknownKeys:"strip",catchall:Ds.create(),typeName:De.ZodObject,...Ue(t)});class yc extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new sn(l.ctx.common.issues));return ge(r,{code:ne.invalid_union,unionErrors:o}),Oe}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new sn(c));return ge(r,{code:ne.invalid_union,unionErrors:l}),Oe}}get options(){return this._def.options}}yc.create=(e,t)=>new yc({options:e,typeName:De.ZodUnion,...Ue(t)});const ys=e=>e instanceof wc?ys(e.schema):e instanceof Vn?ys(e.innerType()):e instanceof Nc?[e.value]:e instanceof Fa?e.options:e instanceof Sc?ot.objectValues(e.enum):e instanceof kc?ys(e._def.innerType):e instanceof xc?[void 0]:e instanceof vc?[null]:e instanceof os?[void 0,...ys(e.unwrap())]:e instanceof Da?[null,...ys(e.unwrap())]:e instanceof Bx||e instanceof _c?ys(e.unwrap()):e instanceof Cc?ys(e._def.innerType):[];class Zh extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==je.object)return ge(r,{code:ne.invalid_type,expected:je.object,received:r.parsedType}),Oe;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ge(r,{code:ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=ys(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Zh({typeName:De.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Ue(s)})}}function Rp(e,t){const r=ws(e),s=ws(t);if(e===t)return{valid:!0,data:e};if(r===je.object&&s===je.object){const a=ot.objectKeys(t),i=ot.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Rp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===je.array&&s===je.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Rp(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===je.date&&s===je.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class bc extends Ye{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(Ap(i)||Ap(o))return Oe;const l=Rp(i.value,o.value);return l.valid?((Ip(i)||Ip(o))&&r.dirty(),{status:r.value,value:l.data}):(ge(s,{code:ne.invalid_intersection_types}),Oe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}bc.create=(e,t,r)=>new bc({left:e,right:t,typeName:De.ZodIntersection,...Ue(r)});class ds extends Ye{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.array)return ge(s,{code:ne.invalid_type,expected:je.array,received:s.parsedType}),Oe;if(s.data.length<this._def.items.length)return ge(s,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&s.data.length>this._def.items.length&&(ge(s,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new cs(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>kr.mergeArray(r,o)):kr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ds({...this._def,rest:t})}}ds.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ds({items:e,typeName:De.ZodTuple,rest:null,...Ue(t)})};class jc extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.object)return ge(s,{code:ne.invalid_type,expected:je.object,received:s.parsedType}),Oe;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new cs(s,l,s.path,l)),value:o._parse(new cs(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?kr.mergeObjectAsync(r,a):kr.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof Ye?new jc({keyType:t,valueType:r,typeName:De.ZodRecord,...Ue(s)}):new jc({keyType:In.create(),valueType:t,typeName:De.ZodRecord,...Ue(r)})}}class th extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.map)return ge(s,{code:ne.invalid_type,expected:je.map,received:s.parsedType}),Oe;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new cs(s,l,s.path,[d,"key"])),value:i._parse(new cs(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Oe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Oe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}th.create=(e,t,r)=>new th({valueType:t,keyType:e,typeName:De.ZodMap,...Ue(r)});class Ai extends Ye{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.set)return ge(s,{code:ne.invalid_type,expected:je.set,received:s.parsedType}),Oe;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ge(s,{code:ne.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ge(s,{code:ne.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Oe;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new cs(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ai({...this._def,minSize:{value:t,message:Ce.toString(r)}})}max(t,r){return new Ai({...this._def,maxSize:{value:t,message:Ce.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ai.create=(e,t)=>new Ai({valueType:e,minSize:null,maxSize:null,typeName:De.ZodSet,...Ue(t)});class xo extends Ye{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==je.function)return ge(r,{code:ne.invalid_type,expected:je.function,received:r.parsedType}),Oe;function s(l,c){return Yu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zu(),Ko].filter(d=>!!d),issueData:{code:ne.invalid_arguments,argumentsError:c}})}function a(l,c){return Yu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zu(),Ko].filter(d=>!!d),issueData:{code:ne.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Qo){const l=this;return Mr(async function(...c){const d=new sn([]),u=await l._def.args.parseAsync(c,i).catch(v=>{throw d.addIssue(s(c,v)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(v=>{throw d.addIssue(a(f,v)),d})})}else{const l=this;return Mr(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new sn([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new sn([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new xo({...this._def,args:ds.create(t).rest(fi.create())})}returns(t){return new xo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new xo({args:t||ds.create([]).rest(fi.create()),returns:r||fi.create(),typeName:De.ZodFunction,...Ue(s)})}}class wc extends Ye{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wc.create=(e,t)=>new wc({getter:e,typeName:De.ZodLazy,...Ue(t)});class Nc extends Ye{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ge(r,{received:r.data,code:ne.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Nc.create=(e,t)=>new Nc({value:e,typeName:De.ZodLiteral,...Ue(t)});function PT(e,t){return new Fa({values:e,typeName:De.ZodEnum,...Ue(t)})}class Fa extends Ye{constructor(){super(...arguments),_l.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ge(r,{expected:ot.joinValues(s),received:r.parsedType,code:ne.invalid_type}),Oe}if(Xu(this,_l)||ST(this,_l,new Set(this._def.values)),!Xu(this,_l).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ge(r,{received:r.data,code:ne.invalid_enum_value,options:s}),Oe}return Mr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Fa.create(t,{...this._def,...r})}exclude(t,r=this._def){return Fa.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}_l=new WeakMap;Fa.create=PT;class Sc extends Ye{constructor(){super(...arguments),Pl.set(this,void 0)}_parse(t){const r=ot.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==je.string&&s.parsedType!==je.number){const a=ot.objectValues(r);return ge(s,{expected:ot.joinValues(a),received:s.parsedType,code:ne.invalid_type}),Oe}if(Xu(this,Pl)||ST(this,Pl,new Set(ot.getValidEnumValues(this._def.values))),!Xu(this,Pl).has(t.data)){const a=ot.objectValues(r);return ge(s,{received:s.data,code:ne.invalid_enum_value,options:a}),Oe}return Mr(t.data)}get enum(){return this._def.values}}Pl=new WeakMap;Sc.create=(e,t)=>new Sc({values:e,typeName:De.ZodNativeEnum,...Ue(t)});class Qo extends Ye{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==je.promise&&r.common.async===!1)return ge(r,{code:ne.invalid_type,expected:je.promise,received:r.parsedType}),Oe;const s=r.parsedType===je.promise?r.data:Promise.resolve(r.data);return Mr(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Qo.create=(e,t)=>new Qo({type:e,typeName:De.ZodPromise,...Ue(t)});class Vn extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===De.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ge(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Oe;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Oe:c.status==="dirty"||r.value==="dirty"?ro(c.value):c});{if(r.value==="aborted")return Oe;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Oe:l.status==="dirty"||r.value==="dirty"?ro(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Oe:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Oe:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ei(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ei(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);ot.assertNever(a)}}Vn.create=(e,t,r)=>new Vn({schema:e,typeName:De.ZodEffects,effect:t,...Ue(r)});Vn.createWithPreprocess=(e,t,r)=>new Vn({schema:t,effect:{type:"preprocess",transform:e},typeName:De.ZodEffects,...Ue(r)});class os extends Ye{_parse(t){return this._getType(t)===je.undefined?Mr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}os.create=(e,t)=>new os({innerType:e,typeName:De.ZodOptional,...Ue(t)});class Da extends Ye{_parse(t){return this._getType(t)===je.null?Mr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Da.create=(e,t)=>new Da({innerType:e,typeName:De.ZodNullable,...Ue(t)});class kc extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===je.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}kc.create=(e,t)=>new kc({innerType:e,typeName:De.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ue(t)});class Cc extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return pc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sn(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new sn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Cc.create=(e,t)=>new Cc({innerType:e,typeName:De.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ue(t)});class rh extends Ye{_parse(t){if(this._getType(t)!==je.nan){const s=this._getOrReturnCtx(t);return ge(s,{code:ne.invalid_type,expected:je.nan,received:s.parsedType}),Oe}return{status:"valid",value:t.data}}}rh.create=e=>new rh({typeName:De.ZodNaN,...Ue(e)});const cV=Symbol("zod_brand");class Bx extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Qc extends Ye{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Oe:i.status==="dirty"?(r.dirty(),ro(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Oe:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new Qc({in:t,out:r,typeName:De.ZodPipeline})}}class _c extends Ye{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Ei(a)&&(a.value=Object.freeze(a.value)),a);return pc(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}_c.create=(e,t)=>new _c({innerType:e,typeName:De.ZodReadonly,...Ue(t)});function T0(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function ET(e,t={},r){return e?qo.create().superRefine((s,a)=>{var i,o;const l=e(s);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=T0(t,s),m=(u=(d=f.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...f,fatal:m})}});if(!l){const c=T0(t,s),d=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):qo.create()}const dV={object:It.lazycreate};var De;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(De||(De={}));const uV=(e,t={message:`Input not instance of ${e.name}`})=>ET(r=>r instanceof e,t),TT=In.create,AT=Ra.create,hV=rh.create,fV=Ma.create,IT=gc.create,mV=Ti.create,pV=Ju.create,gV=xc.create,xV=vc.create,vV=qo.create,yV=fi.create,bV=Ds.create,jV=eh.create,wV=On.create,NV=It.create,SV=It.strictCreate,kV=yc.create,CV=Zh.create,_V=bc.create,PV=ds.create,EV=jc.create,TV=th.create,AV=Ai.create,IV=xo.create,RV=wc.create,MV=Nc.create,FV=Fa.create,DV=Sc.create,OV=Qo.create,A0=Vn.create,LV=os.create,zV=Da.create,$V=Vn.createWithPreprocess,VV=Qc.create,HV=()=>TT().optional(),BV=()=>AT().optional(),UV=()=>IT().optional(),WV={string:e=>In.create({...e,coerce:!0}),number:e=>Ra.create({...e,coerce:!0}),boolean:e=>gc.create({...e,coerce:!0}),bigint:e=>Ma.create({...e,coerce:!0}),date:e=>Ti.create({...e,coerce:!0})},KV=Oe;var W=Object.freeze({__proto__:null,defaultErrorMap:Ko,setErrorMap:$$,getErrorMap:Zu,makeIssue:Yu,EMPTY_PATH:V$,addIssueToContext:ge,ParseStatus:kr,INVALID:Oe,DIRTY:ro,OK:Mr,isAborted:Ap,isDirty:Ip,isValid:Ei,isAsync:pc,get util(){return ot},get objectUtil(){return Tp},ZodParsedType:je,getParsedType:ws,ZodType:Ye,datetimeRegex:_T,ZodString:In,ZodNumber:Ra,ZodBigInt:Ma,ZodBoolean:gc,ZodDate:Ti,ZodSymbol:Ju,ZodUndefined:xc,ZodNull:vc,ZodAny:qo,ZodUnknown:fi,ZodNever:Ds,ZodVoid:eh,ZodArray:On,ZodObject:It,ZodUnion:yc,ZodDiscriminatedUnion:Zh,ZodIntersection:bc,ZodTuple:ds,ZodRecord:jc,ZodMap:th,ZodSet:Ai,ZodFunction:xo,ZodLazy:wc,ZodLiteral:Nc,ZodEnum:Fa,ZodNativeEnum:Sc,ZodPromise:Qo,ZodEffects:Vn,ZodTransformer:Vn,ZodOptional:os,ZodNullable:Da,ZodDefault:kc,ZodCatch:Cc,ZodNaN:rh,BRAND:cV,ZodBranded:Bx,ZodPipeline:Qc,ZodReadonly:_c,custom:ET,Schema:Ye,ZodSchema:Ye,late:dV,get ZodFirstPartyTypeKind(){return De},coerce:WV,any:vV,array:wV,bigint:fV,boolean:IT,date:mV,discriminatedUnion:CV,effect:A0,enum:FV,function:IV,instanceof:uV,intersection:_V,lazy:RV,literal:MV,map:TV,nan:hV,nativeEnum:DV,never:bV,null:xV,nullable:zV,number:AT,object:NV,oboolean:UV,onumber:BV,optional:LV,ostring:HV,pipeline:VV,preprocess:$V,promise:OV,record:EV,set:AV,strictObject:SV,string:TT,symbol:pV,transformer:A0,tuple:PV,undefined:gV,union:kV,unknown:yV,void:jV,NEVER:KV,ZodIssueCode:ne,quotelessJson:z$,ZodError:sn});const Tt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function zt(e,t){return t.includes(e.columnType)}function qV(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const QV=W.union([W.string(),W.number(),W.boolean(),W.null()]),GV=W.union([QV,W.record(W.any()),W.array(W.any())]),ZV=W.custom(e=>e instanceof Buffer);function RT(e,t){const r=(t==null?void 0:t.zodInstance)??W,s=(t==null?void 0:t.coerce)??{};let a;return qV(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(zt(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):zt(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):zt(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):zt(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):zt(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):zt(e,["PgArray"])?(a=r.array(RT(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=YV(e,r,s):e.dataType==="bigint"?a=XV(e,r,s):e.dataType==="boolean"?a=s===!0||s.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=s===!0||s.date?r.coerce.date():r.date():e.dataType==="string"?a=JV(e,r,s):e.dataType==="json"?a=GV:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=ZV)),a||(a=r.any()),a}function YV(e,t,r){let s=e.getSQLType().includes("unsigned"),a,i,o=!1;zt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:Tt.INT8_MIN,i=s?Tt.INT8_UNSIGNED_MAX:Tt.INT8_MAX,o=!0):zt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:Tt.INT16_MIN,i=s?Tt.INT16_UNSIGNED_MAX:Tt.INT16_MAX,o=!0):zt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:Tt.INT24_MIN,i=s?Tt.INT24_UNSIGNED_MAX:Tt.INT24_MAX,o=zt(e,["MySqlMediumInt","SingleStoreMediumInt"])):zt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:Tt.INT32_MIN,i=s?Tt.INT32_UNSIGNED_MAX:Tt.INT32_MAX,o=!0):zt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:Tt.INT48_MIN,i=s?Tt.INT48_UNSIGNED_MAX:Tt.INT48_MAX):zt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||zt(e,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):zt(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function XV(e,t,r){const s=e.getSQLType().includes("unsigned"),a=s?0n:Tt.INT64_MIN,i=s?Tt.INT64_UNSIGNED_MAX:Tt.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function JV(e,t,r){if(zt(e,["PgUUID"]))return t.string().uuid();let s,a,i=!1;zt(e,["PgVarchar","SQLiteText"])?s=e.length:zt(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??Tt.INT16_UNSIGNED_MAX:zt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=Tt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=Tt.INT24_UNSIGNED_MAX:e.textType==="text"?s=Tt.INT16_UNSIGNED_MAX:s=Tt.INT8_UNSIGNED_MAX),zt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,i=!0),zt(e,["PgBinaryVector"])&&(a=/^[01]+$/,s=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function MT(e){return BP(e)?u$(e):h$(e)}function FT(e,t,r,s){const a={};for(const[i,o]of Object.entries(e)){if(!Wt(o,Wo)&&!Wt(o,Lt)&&!Wt(o,Lt.Aliased)&&typeof o=="object"){const f=BP(o)||d$(o)?MT(o):o;a[i]=FT(f,t[i]??{},r,s);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=Wt(o,Wo)?o:void 0,d=c?RT(c,s):W.any(),u=typeof l=="function"?l(d):d;r.never(c)||(a[i]=u,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return W.object(a)}const e8={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},cn=(e,t)=>{const r=MT(e);return FT(r,{},e8)},Yh=Qr("school_years",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),name:qt("name").notNull(),startDate:Gu("start_date").notNull(),endDate:Gu("end_date").notNull(),isCurrent:il("is_current").notNull().default(!1),createdAt:nr("created_at").defaultNow()}),nh=Qr("teachers",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),firstName:qt("first_name").notNull(),lastName:qt("last_name").notNull(),shortName:Le("short_name",{length:20}).notNull().unique(),personnelNumber:Le("personnel_number",{length:20}),email:qt("email"),dateOfBirth:Gu("date_of_birth"),subjects:Dn("subjects").$type().notNull().default([]),maxHours:is("max_hours",{precision:4,scale:1}).notNull().default("25.0"),currentHours:is("current_hours",{precision:4,scale:1}).notNull().default("0.0"),qualifications:Dn("qualifications").$type().notNull().default([]),reductionHours:Dn("reduction_hours").$type().notNull().default({}),notes:qt("notes").default(""),isActive:il("is_active").notNull().default(!0),createdAt:nr("created_at").defaultNow()}),t8=Qr("students",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),firstName:qt("first_name").notNull(),lastName:qt("last_name").notNull(),classId:Le("class_id").references(()=>Ux.id,{onDelete:"set null"}),grade:Fs("grade").notNull(),schoolYearId:Le("school_year_id").references(()=>Yh.id,{onDelete:"restrict"}),createdAt:nr("created_at").defaultNow()}),Ux=Qr("classes",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),name:Le("name",{length:50}).notNull(),grade:Fs("grade").notNull(),studentCount:Fs("student_count").notNull().default(0),subjectHours:Dn("subject_hours").$type().notNull().default({}),targetHoursTotal:is("target_hours_total",{precision:4,scale:1}),targetHoursSemester1:is("target_hours_semester1",{precision:4,scale:1}),targetHoursSemester2:is("target_hours_semester2",{precision:4,scale:1}),classTeacher1Id:Le("class_teacher_1_id").references(()=>nh.id,{onDelete:"set null"}),classTeacher2Id:Le("class_teacher_2_id").references(()=>nh.id,{onDelete:"set null"}),schoolYearId:Le("school_year_id").references(()=>Yh.id,{onDelete:"restrict"}),createdAt:nr("created_at").defaultNow()},e=>({uniqueClassPerYear:s$("unique_class_per_year").on(e.name,e.schoolYearId)})),Xh=Qr("subjects",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),name:qt("name").notNull(),shortName:Le("short_name",{length:50}).notNull().unique(),category:qt("category").notNull(),hoursPerWeek:Dn("hours_per_week").$type().notNull().default({}),parallelGroup:Le("parallel_group",{length:50}),createdAt:nr("created_at").defaultNow()}),r8=Qr("assignments",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),teacherId:Le("teacher_id").references(()=>nh.id,{onDelete:"cascade"}).notNull(),classId:Le("class_id").references(()=>Ux.id,{onDelete:"cascade"}).notNull(),subjectId:Le("subject_id").references(()=>Xh.id,{onDelete:"cascade"}).notNull(),hoursPerWeek:is("hours_per_week",{precision:3,scale:1}).notNull(),semester:Le("semester",{length:2}).notNull().default("1"),isOptimized:il("is_optimized").notNull().default(!1),teamTeachingId:Le("team_teaching_id"),schoolYearId:Le("school_year_id").references(()=>Yh.id,{onDelete:"restrict"}),createdAt:nr("created_at").defaultNow()},e=>({teamTeachingIndex:ti("team_teaching_idx").on(e.teamTeachingId),teacherYearIndex:ti("idx_assignments_teacher_year").on(e.teacherId,e.schoolYearId),classYearIndex:ti("idx_assignments_class_year").on(e.classId,e.schoolYearId),schoolYearIndex:ti("idx_assignments_year").on(e.schoolYearId)})),DT=Qr("planstellen_scenarios",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),name:qt("name").notNull(),schoolYear:qt("school_year").notNull(),parameters:Dn("parameters").$type().notNull().default({}),createdAt:nr("created_at").defaultNow()}),n8=Qr("planstellen",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),scenarioId:Le("scenario_id").references(()=>DT.id),subjectId:Le("subject_id").references(()=>Xh.id),grade:Fs("grade"),category:qt("category").notNull(),component:qt("component").notNull(),lineType:qt("line_type").notNull(),formula:Dn("formula").$type().notNull().default({}),color:qt("color"),requiredHours:is("required_hours",{precision:4,scale:1}).notNull(),availableHours:is("available_hours",{precision:4,scale:1}).notNull(),deficit:is("deficit",{precision:4,scale:1}).notNull().default("0"),calculatedAt:nr("calculated_at").defaultNow()}),s8=Qr("subject_mappings",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),pdfSubjectName:qt("pdf_subject_name").notNull(),normalizedName:qt("normalized_name").notNull(),systemSubjectId:Le("system_subject_id").references(()=>Xh.id,{onDelete:"cascade"}).notNull(),confidence:is("confidence",{precision:3,scale:2}).notNull().default("1.0"),usedCount:Fs("used_count").notNull().default(0),createdAt:nr("created_at").defaultNow(),lastUsedAt:nr("last_used_at")},e=>({normalizedNameIdx:ti("idx_subject_mappings_normalized").on(e.normalizedName)})),OT=Qr("pdf_imports",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),fileName:qt("file_name").notNull(),fileHash:Le("file_hash").unique(),uploadedBy:Le("uploaded_by").references(()=>sh.id),pageCount:Fs("page_count").notNull().default(0),metadata:Dn("metadata").$type().notNull().default({}),createdAt:nr("created_at").defaultNow()}),a8=Qr("pdf_tables",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),importId:Le("import_id").references(()=>OT.id,{onDelete:"cascade"}).notNull(),page:Fs("page").notNull(),tableIndex:Fs("table_index").notNull(),headers:Dn("headers").$type().notNull().default([]),rows:Dn("rows").$type().notNull().default([]),rawText:qt("raw_text"),extractedAt:nr("extracted_at").defaultNow()},e=>({importPageIdx:ti("idx_pdf_tables_import_page").on(e.importId,e.page)}));Qr("sessions",{sid:Le("sid").primaryKey(),sess:CE("sess").notNull(),expire:nr("expire").notNull()},e=>[ti("IDX_session_expire").on(e.expire)]);const sh=Qr("users",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),email:Le("email").unique(),firstName:Le("first_name"),lastName:Le("last_name"),profileImageUrl:Le("profile_image_url"),role:Le("role").notNull().default("user"),isActive:il("is_active").notNull().default(!0),createdAt:nr("created_at").defaultNow(),updatedAt:nr("updated_at").defaultNow()}),i8=Qr("invitations",{id:Le("id").primaryKey().default(xr`gen_random_uuid()`),email:Le("email").notNull().unique(),token:Le("token").notNull().unique(),role:Le("role").notNull().default("user"),createdBy:Le("created_by").references(()=>sh.id),used:il("used").default(!1),usedBy:Le("used_by").references(()=>sh.id),expiresAt:nr("expires_at").notNull(),createdAt:nr("created_at").defaultNow(),usedAt:nr("used_at")});cn(Yh).omit({id:!0,createdAt:!0}).extend({name:W.string().min(1,"Schuljahr-Name ist erforderlich").max(20,"Name zu lang"),startDate:W.string().refine(e=>{const t=new Date(e);return!isNaN(t.getTime())},{message:"Gültiges Startdatum erforderlich"}),endDate:W.string().refine(e=>{const t=new Date(e);return!isNaN(t.getTime())},{message:"Gültiges Enddatum erforderlich"}),isCurrent:W.boolean().optional()});const o8=cn(nh).omit({id:!0,createdAt:!0});cn(t8).omit({id:!0,createdAt:!0}).extend({schoolYearId:W.string().uuid().nullable().optional()});const l8=cn(Ux).omit({id:!0,createdAt:!0}).extend({classTeacher1Id:W.string().uuid().nullable().optional(),classTeacher2Id:W.string().uuid().nullable().optional(),schoolYearId:W.string().uuid().nullable().optional(),targetHoursSemester1:W.string().nullable().optional().refine(e=>{if(e==null||e==="")return!0;const t=parseFloat(e);return!isNaN(t)&&t>=0&&t<=50},{message:"Soll-Stunden 1.HJ müssen zwischen 0 und 50 liegen"}),targetHoursSemester2:W.string().nullable().optional().refine(e=>{if(e==null||e==="")return!0;const t=parseFloat(e);return!isNaN(t)&&t>=0&&t<=50},{message:"Soll-Stunden 2.HJ müssen zwischen 0 und 50 liegen"}),targetHoursTotal:W.string().nullable().optional().refine(e=>{if(e==null||e==="")return!0;const t=parseFloat(e);return!isNaN(t)&&t>=0&&t<=100},{message:"Gesamtstunden müssen zwischen 0 und 100 liegen"}),grade:W.number().int().min(5).max(10),studentCount:W.number().int().min(0).max(35)}),c8=cn(Xh).omit({id:!0,createdAt:!0}),d8=cn(r8).omit({id:!0,createdAt:!0}).extend({semester:W.enum(["1","2"],{invalid_type_error:"Semester muss '1' oder '2' sein"}),hoursPerWeek:W.number().min(.5,"Mindestens 0,5 Stunden pro Woche").max(10,"Maximal 10 Stunden pro Woche").transform(e=>e.toString()),schoolYearId:W.string().uuid().nullable().optional(),teamTeachingId:W.string().uuid().nullable().optional()});cn(DT).omit({id:!0,createdAt:!0});cn(n8).omit({id:!0,calculatedAt:!0});cn(sh).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({email:W.string().email("Gültige E-Mail-Adresse erforderlich").optional(),role:W.enum(["user","admin"],{invalid_type_error:"Rolle muss 'user' oder 'admin' sein"}).optional()});cn(i8).omit({id:!0,token:!0,used:!0,usedBy:!0,usedAt:!0,createdAt:!0}).extend({email:W.string().email("Gültige E-Mail-Adresse erforderlich"),role:W.enum(["user","admin"],{invalid_type_error:"Rolle muss 'user' oder 'admin' sein"}),createdBy:W.string().refine(e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)||/^[0-9]+$/.test(e),{message:"Ungültige Benutzer-ID (muss UUID oder numerische ID sein)"}),expiresAt:W.date().refine(e=>e>new Date,{message:"Ablaufdatum muss in der Zukunft liegen"})});cn(s8).omit({id:!0,createdAt:!0,lastUsedAt:!0}).extend({pdfSubjectName:W.string().min(1,"PDF-Fachname ist erforderlich"),normalizedName:W.string().min(1,"Normalisierter Name ist erforderlich"),systemSubjectId:W.string().uuid("Gültige System-Fach-ID erforderlich"),confidence:W.number().min(0).max(1).optional().transform(e=>e!==void 0?e.toString():void 0),usedCount:W.number().int().min(0).optional()});cn(OT).omit({id:!0,createdAt:!0});cn(a8).omit({id:!0,extractedAt:!0}).extend({headers:W.array(W.string()).optional(),rows:W.array(W.array(W.string())).optional()});W.object({schulname:W.string().min(1,"Schulname ist erforderlich").default("Realschule Musterstadt"),schuljahr:W.string().min(1,"Schuljahr ist erforderlich").default("2024/25"),schuelerzahlStand:W.number().min(0).default(710),schuelerLehrerrelation:W.number().min(.1).default(20.19),abzugLehramtsanwaerter:W.number().default(-.5),rundung:W.number().default(-.21),fachleiter:W.number().optional().default(.21),personalrat:W.number().optional().default(1.64),schulleitungsentlastungFortbildung:W.number().optional().default(.04),ausbauLeitungszeit:W.number().optional().default(.15),rueckgabeVorgriffstunde:W.number().optional().default(.04),digitalisierungsbeauftragter:W.number().optional().default(.04),fortbildungQualifMedienDS:W.number().optional().default(.07),fachberaterSchulaufsicht:W.number().optional().default(.07),wechselndeAusgleichsbedarfe:W.number().optional().default(.5),praxissemesterInSchule:W.number().optional().default(.29),zusaetzlicheAusfallvertretung:W.number().optional().default(.25),entlastungLehrertaetigkeit:W.number().optional().default(.04),entlastungLVOCO:W.number().optional().default(.04),ermaessigungenweitere:W.number().optional().default(.3),nullWert:W.number().optional().default(0),praktischePhilosophieIslamkunde:W.number().optional().default(0),paedagogischeUebermittagsbetreuung:W.number().optional().default(0),integrationDurchBildung:W.number().optional().default(0),freieZeile1Label:W.string().optional().default(""),freieZeile1Wert:W.number().optional().default(0),freieZeile2Label:W.string().optional().default(""),freieZeile2Wert:W.number().optional().default(0),gegenUAusfallIndFoerderung:W.number().optional().default(.77),teilzeitBlockmodellAnsparphase:W.number().optional().default(.36),kapitalisierungPaedUebermittag:W.number().optional().default(.56),abzugKapitalisierungUebermittag:W.number().optional().default(-.56),beurlaubungElternzeit:W.number().optional().default(0),ersatzeinstellungElternzeit:W.number().optional().default(0),aborungZugangAnderes:W.number().optional().default(0),grundstellenbedarfFaktor:W.number().optional().default(.5),vorhandenePlanstellen:W.number().optional().default(0),grundpauschal:W.number().optional().default(9),schulleiterentlastungFortbildung:W.number().optional().default(.04),ausbauLeitungszeitSchulleiter:W.number().optional().default(.12),schulleiterDreiViertel:W.number().optional().default(18),ausbauLeitungszeitStellvertreter:W.number().optional().default(.11),minusEntlastungStundenplanarbeit:W.number().optional().default(0),istklassenzahl:W.number().optional().default(17),verfuegbareUnterrichtsstunden:W.number().optional().default(0),unterrichtssollNachKuerzung:W.number().optional().default(0)});const u8=o8.extend({subjects:W.array(W.string()).min(1,"Mindestens ein Fach muss ausgewählt werden"),qualifications:W.array(W.string()).optional(),personnelNumber:W.string().optional(),dateOfBirth:W.string().optional(),maxHours:W.string().optional(),currentHours:W.string().optional(),notes:W.string().optional(),reductionHours:W.object({AE:W.number().optional(),BA:W.number().optional(),SL:W.number().optional(),SO:W.number().optional(),LK:W.number().optional(),SB:W.number().optional(),VG:W.number().optional()}).optional()}),h8=[{key:"AE",label:"AE",description:"Altersermäßigung"},{key:"BA",label:"BA",description:"Besondere Aufgaben"},{key:"SL",label:"SL",description:"Schulleitung"},{key:"SO",label:"SO",description:"Sonstiges"},{key:"LK",label:"LK",description:"Lehrerkonferenz"},{key:"SB",label:"SB",description:"Schwerbehinderung"},{key:"VG",label:"VG",description:"Vorgriffsstunden"}];function Hi(e,t="0",r="25"){if(!e)return 0;const s=new Date(e),a=new Date,i=a.getFullYear(),o=new Date(i,7,30),l=a>=o?i:i-1,c=new Date(l,7,30),d=c.getFullYear()-s.getFullYear(),u=c.getMonth()-s.getMonth(),f=c.getDate()-s.getDate(),m=d-(u<0||u===0&&f<0?1:0),v=typeof t=="string"?parseFloat(t)||0:t,y=typeof r=="string"?parseFloat(r)||25:r,g=y>0?v/y*100:0;if(m>=60){if(g>=75)return 2;if(g>=50)return 1.5}else if(m>=55&&g>=50)return .5;return 0}function f8(){const[e,t]=h.useState(""),[r,s]=h.useState("all"),[a,i]=h.useState(!1),[o,l]=h.useState(null),{toast:c}=qr(),d=Ls(),{data:u,isLoading:f}=Je({queryKey:["/api/teachers"]}),{data:m=[],isLoading:v}=Je({queryKey:["/api/subjects"]}),{data:y=[]}=Je({queryKey:["/api/assignments"]}),g=j=>y.filter(R=>R.teacherId===j).reduce((R,q)=>{const T=Number.parseFloat(q.hoursPerWeek);return R+(Number.isFinite(T)?T:0)},0),w=m.map(j=>j.name),x=hc({resolver:mc(u8),defaultValues:{firstName:"",lastName:"",shortName:"",email:"",dateOfBirth:"",subjects:[],maxHours:"25.0",currentHours:"0.0",notes:"",qualifications:[],reductionHours:{AE:0,BA:0,SL:0,SO:0,LK:0,SB:0,VG:0},isActive:!0}});h.useEffect(()=>{if(o&&a&&y.length>0){const j=g(o.id);x.setValue("currentHours",j.toString(),{shouldDirty:!1})}},[y,o,a,x]);const p=dt({mutationFn:async j=>(await ht("POST","/api/teachers",j)).json(),onSuccess:()=>{c({title:"Lehrkraft erstellt",description:"Die Lehrkraft wurde erfolgreich hinzugefügt."}),d.invalidateQueries({queryKey:["/api/teachers"]}),d.invalidateQueries({queryKey:["/api/stats"]}),i(!1),x.reset()},onError:j=>{c({title:"Fehler beim Erstellen",description:j.message,variant:"destructive"})}}),b=dt({mutationFn:async({id:j,data:L})=>(await ht("PUT",`/api/teachers/${j}`,L)).json(),onSuccess:()=>{c({title:"Lehrkraft aktualisiert",description:"Die Änderungen wurden gespeichert."}),d.invalidateQueries({queryKey:["/api/teachers"]}),i(!1),l(null),x.reset()},onError:j=>{c({title:"Fehler beim Aktualisieren",description:j.message,variant:"destructive"})}}),k=dt({mutationFn:async({id:j,data:L})=>(await ht("PUT",`/api/teachers/${j}`,L)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/teachers"]})},onError:j=>{console.error("Auto-save error:",j)}}),N=dt({mutationFn:async j=>{await ht("DELETE",`/api/teachers/${j}`)},onSuccess:()=>{c({title:"Lehrkraft gelöscht",description:"Die Lehrkraft wurde entfernt."}),d.invalidateQueries({queryKey:["/api/teachers"]}),d.invalidateQueries({queryKey:["/api/stats"]})},onError:j=>{c({title:"Fehler beim Löschen",description:j.message,variant:"destructive"})}}),F=j=>{var R;l(j);const L=g(j.id);x.reset({firstName:j.firstName,lastName:j.lastName,shortName:j.shortName,personnelNumber:j.personnelNumber||"",email:j.email||"",dateOfBirth:j.dateOfBirth||"",subjects:j.subjects,maxHours:((R=j.maxHours)==null?void 0:R.toString())||"25",currentHours:L.toString(),notes:j.notes||"",qualifications:j.qualifications,reductionHours:j.reductionHours||{sV:0,sL:0,SB:0,LK:0,VG:0,FB:0,aE:0,BA:0,SO:0},isActive:j.isActive}),i(!0)},E=j=>{const L={...j,reductionHours:{...j.reductionHours,aE:Hi(j.dateOfBirth||"",j.currentHours||0,j.maxHours||25)}};o?b.mutate({id:o.id,data:L}):p.mutate(L)},A=j=>{confirm("Sind Sie sicher, dass Sie diese Lehrkraft löschen möchten?")&&N.mutate(j)},I=async j=>{if(o&&x.formState.isValid)try{const L=x.getValues(),R={...L,reductionHours:{...L.reductionHours,aE:Hi(L.dateOfBirth||"",L.currentHours||0,L.maxHours||25)}};await k.mutateAsync({id:o.id,data:R})}catch(L){console.log("Auto-save failed:",L)}C(j)},C=j=>{var R,q,T,U,Z,B,te,fe;l(j);const L=g(j.id);x.reset({firstName:j.firstName,lastName:j.lastName,shortName:j.shortName,email:j.email,subjects:j.subjects,qualifications:j.qualifications||[],personnelNumber:j.personnelNumber||"",dateOfBirth:j.dateOfBirth||"",maxHours:((R=j.maxHours)==null?void 0:R.toString())||"25",currentHours:L.toString(),notes:j.notes||"",isActive:j.isActive,reductionHours:{AE:((q=j.reductionHours)==null?void 0:q.AE)||0,BA:((T=j.reductionHours)==null?void 0:T.BA)||0,SL:((U=j.reductionHours)==null?void 0:U.SL)||0,SO:((Z=j.reductionHours)==null?void 0:Z.SO)||0,LK:((B=j.reductionHours)==null?void 0:B.LK)||0,SB:((te=j.reductionHours)==null?void 0:te.SB)||0,VG:((fe=j.reductionHours)==null?void 0:fe.VG)||0}})},S=()=>!o||!K?-1:K.findIndex(j=>j.id===o.id),$=()=>{const j=S();return j!==-1&&j<K.length-1},X=()=>S()>0,Q=()=>{if($()){const j=S();I(K[j+1])}},de=()=>{if(X()){const j=S();I(K[j-1])}},K=(u==null?void 0:u.filter(j=>{const L=j.firstName.toLowerCase().includes(e.toLowerCase())||j.lastName.toLowerCase().includes(e.toLowerCase())||j.shortName.toLowerCase().includes(e.toLowerCase()),R=r==="all"||j.subjects.includes(r);return L&&R}))||[],le=(u==null?void 0:u.length)||0,H=(u==null?void 0:u.filter(j=>j.isActive).length)||0,_=u!=null&&u.length?u.reduce((j,L)=>{const R=g(L.id);return j+R/parseFloat(L.maxHours)},0)/u.length*100:0;return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Lehrerverwaltung"}),n.jsx("p",{className:"text-muted-foreground",children:"Verwaltung der Lehrkräfte und deren Qualifikationen"})]}),n.jsxs(Pi,{modal:!1,open:a,onOpenChange:j=>{i(j)},children:[n.jsx(uc,{asChild:!0,children:n.jsxs(ie,{"data-testid":"button-add-teacher",onClick:()=>{l(null),x.reset(),i(!0)},children:[n.jsx(Na,{className:"mr-2 h-4 w-4"}),"Lehrkraft hinzufügen"]})}),n.jsxs(Ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Aa,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ia,{className:"flex items-center gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Xk,{className:"h-5 w-5"}),n.jsx("span",{children:"Lehrkraft bearbeiten"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Na,{className:"h-5 w-5"}),n.jsx("span",{children:"Neue Lehrkraft"})]})}),o&&K.length>1&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[S()+1," von ",K.length]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:j=>{j.preventDefault(),j.stopPropagation(),de()},disabled:!X(),"data-testid":"button-previous-teacher",title:"Vorherige Lehrkraft",children:n.jsx(Gk,{className:"h-4 w-4"})}),n.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:j=>{j.preventDefault(),j.stopPropagation(),Q()},disabled:!$(),"data-testid":"button-next-teacher",title:"Nächste Lehrkraft",children:n.jsx(aF,{className:"h-4 w-4"})})]}),n.jsxs(He,{value:(o==null?void 0:o.id)||"",onValueChange:j=>{const L=K.find(R=>R.id===j);L&&I(L)},children:[n.jsx(ze,{className:"w-[200px]","data-testid":"select-teacher-navigation",children:n.jsx(Be,{placeholder:"Lehrkraft wählen..."})}),n.jsx($e,{children:K.map(j=>n.jsxs(me,{value:j.id,children:[j.lastName,", ",j.firstName," (",j.shortName,")"]},j.id))})]})]})]})}),n.jsx(fc,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(E),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(xt,{control:x.control,name:"firstName",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Vorname"}),n.jsx(pt,{children:n.jsx(ae,{...j,"data-testid":"input-first-name"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:x.control,name:"lastName",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Nachname"}),n.jsx(pt,{children:n.jsx(ae,{...j,"data-testid":"input-last-name"})}),n.jsx(vt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(xt,{control:x.control,name:"shortName",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Kürzel"}),n.jsx(pt,{children:n.jsx(ae,{...j,placeholder:"z.B. MS","data-testid":"input-short-name"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:x.control,name:"personnelNumber",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Personalnummer"}),n.jsx(pt,{children:n.jsx(ae,{...j,placeholder:"z.B. C9405000","data-testid":"input-personnel-number"})}),n.jsx(vt,{})]})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsx(xt,{control:x.control,name:"email",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"E-Mail"}),n.jsx(pt,{children:n.jsx(ae,{...j,type:"email",value:j.value||"","data-testid":"input-email"})}),n.jsx(vt,{})]})})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(xt,{control:x.control,name:"dateOfBirth",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Geburtsdatum"}),n.jsx(pt,{children:n.jsx(ae,{...j,type:"date",value:j.value||"","data-testid":"input-date-of-birth"})}),n.jsx(vt,{})]})}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:"Altersermäßigung (automatisch):"}),n.jsxs(Me,{variant:"light",className:"mt-1",children:[Hi(x.watch("dateOfBirth")||"",x.watch("currentHours")||0,x.watch("maxHours")||25)," Stunden"]}),n.jsx("p",{className:"text-xs mt-1",children:(()=>{const j=parseFloat(x.watch("currentHours")||"0"),L=parseFloat(x.watch("maxHours")||"25");return`Beschäftigungsumfang: ${L>0?(j/L*100).toFixed(1):0}%`})()})]})})]}),n.jsx(xt,{control:x.control,name:"subjects",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Fächer"}),j.value.length>0&&n.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 bg-muted/30 rounded text-xs mb-2",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Gewählt (",j.value.length,"):"]}),j.value.map((L,R)=>{const q=m.find(T=>T.name===L||T.shortName===L);return n.jsx(Me,{variant:"light",className:"text-xs",children:L},`${(q==null?void 0:q.id)||L}-${R}`)})]}),n.jsx(pt,{children:n.jsxs(X6,{children:[n.jsx(J6,{asChild:!0,children:n.jsx(ie,{variant:"outline",className:"w-full justify-start text-left font-normal","data-testid":"select-subjects",children:j.value.length===0?"Fächer auswählen...":`${j.value.length} Fächer ausgewählt`})}),n.jsx(EP,{className:"w-[400px] p-3",align:"start",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium",children:"Fächer auswählen:"}),n.jsx("div",{className:"max-h-[300px] overflow-y-scroll overscroll-contain space-y-1 border rounded-md p-2",children:m.sort((L,R)=>{const q=L.name.startsWith("AG ")||L.name.endsWith(" AG")||L.name.endsWith("-AG")||L.name.includes("AG"),T=R.name.startsWith("AG ")||R.name.endsWith(" AG")||R.name.endsWith("-AG")||R.name.includes("AG");return q&&!T?1:!q&&T?-1:L.name.localeCompare(R.name)}).map(L=>{const R=L.shortName||L.name,q=j.value.includes(L.name)||j.value.includes(L.shortName||"")||j.value.includes(R);return n.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-muted rounded cursor-pointer",onClick:()=>{q?j.onChange(j.value.filter(T=>T!==L.name&&T!==L.shortName&&T!==R)):j.onChange([...j.value,R])},"data-testid":`select-option-${L.id}`,children:[n.jsx(Nr,{checked:q,className:"pointer-events-none"}),n.jsx("span",{className:"text-sm",children:L.name})]},L.id)})})]})})]})}),n.jsx(vt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(xt,{control:x.control,name:"maxHours",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Max. Stunden/Woche"}),n.jsx(pt,{children:n.jsx(ae,{...j,type:"number",step:"0.5",onChange:L=>j.onChange(L.target.value),"data-testid":"input-max-hours"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:x.control,name:"currentHours",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Aktuelle Stunden/Woche"}),n.jsx(pt,{children:n.jsx(ae,{...j,type:"number",step:"0.5",onChange:L=>j.onChange(L.target.value),"data-testid":"input-current-hours"})}),n.jsx(vt,{})]})})]}),n.jsx(xt,{control:x.control,name:"qualifications",render:({field:j})=>{var L;return n.jsxs(ft,{children:[n.jsx(mt,{children:"Qualifikationen (eine pro Zeile)"}),n.jsx(pt,{children:n.jsx(Lu,{value:((L=j.value)==null?void 0:L.join(`
`))||"",onChange:R=>j.onChange(R.target.value.split(`
`).filter(q=>q.trim())),placeholder:`z.B. Lehramt Sekundarstufe I
Fachleitung Mathematik`,"data-testid":"textarea-qualifications"})}),n.jsx(vt,{})]})}}),n.jsx(xt,{control:x.control,name:"notes",render:({field:j})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Notizen"}),n.jsx(pt,{children:n.jsx(Lu,{...j,placeholder:"Freie Anmerkungen zur Lehrkraft...",rows:3,"data-testid":"textarea-notes"})}),n.jsx(vt,{})]})}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ermäßigungsstunden"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h8.map(j=>{var L;return n.jsxs("div",{children:[n.jsxs(J,{className:"text-sm font-medium",children:[j.label,n.jsx("span",{className:"text-xs text-muted-foreground block",children:j.description})]}),n.jsx(ae,{type:"number",min:"0",step:"0.5",value:((L=x.watch("reductionHours"))==null?void 0:L[j.key])||0,onChange:R=>{const q=x.getValues("reductionHours")||{};x.setValue("reductionHours",{...q,[j.key]:parseFloat(R.target.value)||0})},"data-testid":`input-reduction-${j.key}`,disabled:j.key==="aE"})]},j.key)}),n.jsxs("div",{children:[n.jsxs(J,{className:"text-sm font-medium",children:["aE",n.jsx("span",{className:"text-xs text-muted-foreground block",children:"Altersermäßigung (automatisch)"})]}),n.jsx(ae,{type:"number",value:Hi(x.watch("dateOfBirth")||"",x.watch("currentHours")||0,x.watch("maxHours")||25),disabled:!0,"data-testid":"input-reduction-aE",className:"bg-muted"})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Gesamte Ermäßigung:"}),n.jsxs("div",{className:"text-lg font-bold",children:[(()=>{const j=x.watch("reductionHours")||{},L=x.watch("currentHours")||0,R=x.watch("maxHours")||25,q=Hi(x.watch("dateOfBirth")||"",L,R);return Object.entries(j).reduce((U,[Z,B])=>U+(Z==="aE"?q:B||0),0).toFixed(1)})()," Stunden"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Grundstunden:"}),n.jsxs("div",{className:"text-lg font-bold",children:[x.watch("maxHours")||25," Stunden"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Endgültige Stundenzahl:"}),n.jsxs("div",{className:"text-lg font-bold text-primary",children:[(()=>{const j=parseFloat(x.watch("maxHours")||"25"),L=parseFloat(x.watch("currentHours")||"0"),R=x.watch("reductionHours")||{},q=Hi(x.watch("dateOfBirth")||"",L,j),T=Object.entries(R).reduce((U,[Z,B])=>U+(Z==="aE"?q:B||0),0);return Math.max(0,j-T).toFixed(1)})()," Stunden"]})]})]})})]})}),n.jsx(xt,{control:x.control,name:"isActive",render:({field:j})=>n.jsxs(ft,{className:"flex items-center space-x-2",children:[n.jsx(pt,{children:n.jsx(hP,{checked:j.value,onCheckedChange:j.onChange,"data-testid":"switch-active"})}),n.jsx(mt,{className:"!mt-0",children:"Aktiv"})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(ie,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Abbrechen"}),n.jsx(ie,{type:"submit",disabled:p.isPending||b.isPending,"data-testid":"button-save-teacher",children:p.isPending||b.isPending?"Speichert...":"Speichern"})]})]})})]})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(ee,{"data-testid":"card-total-teachers",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Lehrkräfte gesamt"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:le})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx($o,{className:"text-blue-600 text-xl"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx("span",{className:"text-green-600 font-medium",children:H}),n.jsx("span",{className:"text-muted-foreground ml-1",children:"aktiv"})]})]})}),n.jsx(ee,{"data-testid":"card-average-workload",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Durchschn. Auslastung"}),n.jsxs("p",{className:"text-3xl font-bold text-foreground",children:[_.toFixed(0),"%"]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Ms,{value:_,className:"w-8 h-8"})})]})})}),n.jsx(ee,{"data-testid":"card-filtered-count",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Gefilterte Ergebnisse"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:K.length})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(_h,{className:"text-purple-600 text-xl"})})]})})})]}),n.jsx(ee,{"data-testid":"card-filters",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(J,{htmlFor:"search",children:"Suche"}),n.jsxs("div",{className:"relative",children:[n.jsx(Bg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ae,{id:"search",placeholder:"Name oder Kürzel suchen...",value:e,onChange:j=>t(j.target.value),className:"pl-10","data-testid":"input-search"})]})]}),n.jsxs("div",{className:"w-48",children:[n.jsx(J,{htmlFor:"filter-subject",children:"Nach Fach filtern"}),n.jsxs(He,{value:r,onValueChange:s,children:[n.jsx(ze,{"data-testid":"select-filter-subject",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Fächer"}),w.map(j=>n.jsx(me,{value:j,children:j},j))]})]})]})]})})}),n.jsxs(ee,{"data-testid":"card-teachers-list",children:[n.jsx(Ee,{children:n.jsxs(Ae,{children:["Lehrkräfte (",K.length,")"]})}),n.jsx(re,{children:f||v?n.jsx("div",{className:"text-center py-8",children:"Lädt Daten..."}):K.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e||r!=="all"?"Keine Lehrkräfte gefunden, die den Filterkriterien entsprechen.":"Keine Lehrerdaten vorhanden. Bitte fügen Sie Lehrkräfte hinzu oder importieren Sie CSV-Daten."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Lehrkraft"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Fächer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Stunden"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Auslastung"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Aktionen"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Personalnummer"})]})}),n.jsx("tbody",{className:"bg-card divide-y divide-border",children:K.map(j=>{const L=g(j.id),R=L/parseFloat(j.maxHours)*100;return n.jsxs("tr",{"data-testid":`row-teacher-${j.id}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-100 border border-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-black text-sm font-medium",children:j.shortName})}),n.jsx("div",{className:"ml-3",children:n.jsxs("div",{className:"text-sm font-medium text-foreground",children:[j.firstName," ",j.lastName]})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex flex-wrap gap-1",children:j.subjects.map((q,T)=>n.jsx(Me,{variant:"light",children:q},T))})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:[L.toFixed(1)," / ",j.maxHours]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ms,{value:R,className:"w-16 mr-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(R),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Me,{variant:j.isActive?"light":"destructive",children:j.isActive?"Aktiv":"Inaktiv"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(da,{href:`/stundenplaene?tab=teacher&id=${j.id}`,children:n.jsx(ie,{variant:"outline",size:"sm","data-testid":`button-plan-${j.id}`,title:"Stundenplan anzeigen",children:n.jsx(tr,{className:"h-4 w-4"})})}),n.jsx(ie,{variant:"outline",size:"sm",onClick:()=>F(j),"data-testid":`button-edit-${j.id}`,children:n.jsx(Ni,{className:"h-4 w-4"})}),n.jsx(ie,{variant:"outline",size:"sm",onClick:()=>A(j.id),"data-testid":`button-delete-${j.id}`,children:n.jsx(En,{className:"h-4 w-4"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-foreground font-mono",children:j.personnelNumber||"-"})})]},j.id)})})]})})})]})]})]})]})}const m8=l8.extend({name:W.string().min(1,"Klassenname ist erforderlich"),grade:W.number().min(5).max(10),studentCount:W.number().min(0),targetHoursSemester1:W.string().nullable().optional(),targetHoursSemester2:W.string().nullable().optional()}),p8=W.object({grade:W.number().min(5).max(10),targetHoursTotal:W.string().min(1,"Gesamtstunden sind erforderlich"),targetHoursSemester1:W.string().nullable().optional(),targetHoursSemester2:W.string().nullable().optional()});function g8(){const[e,t]=h.useState(""),[r,s]=h.useState("all"),[a,i]=h.useState("all"),[o,l]=h.useState("1"),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,v]=h.useState(null);h.useState(null);const{toast:y}=qr(),g=Ls(),{data:w,isLoading:x}=Je({queryKey:["/api/classes"]}),{data:p,isLoading:b}=Je({queryKey:["/api/teachers"]}),{data:k,isLoading:N}=Je({queryKey:["/api/assignments"]}),F=T=>{if(T)return Number.parseFloat(String(T).replace(",","."))},E=T=>/^\d{2}[A-Z]$/.test(T),A=(T,U="all")=>k?k.filter(B=>B.classId===T&&(U==="all"||B.semester===U)).reduce((B,te)=>{const fe=F(te.hoursPerWeek);return B+(Number.isFinite(fe)&&fe||0)},0):0,I=T=>({5:28,6:30,7:32,8:33,9:32,10:34})[T]||30,C=(T,U="all")=>{const Z=F(T.targetHoursSemester1),B=F(T.targetHoursSemester2);return U==="1"?Z??(E(T.name)?I(T.grade):0):U==="2"?B??(E(T.name)?I(T.grade):0):Z!=null&&B!=null?Z+B:E(T.name)?I(T.grade):0},S=hc({resolver:mc(m8),defaultValues:{name:"",grade:5,studentCount:0,subjectHours:{},targetHoursTotal:null,targetHoursSemester1:null,targetHoursSemester2:null,classTeacher1Id:void 0,classTeacher2Id:void 0}}),$=hc({resolver:mc(p8),defaultValues:{grade:5,targetHoursTotal:"",targetHoursSemester1:null,targetHoursSemester2:null}}),X=dt({mutationFn:async T=>(await ht("POST","/api/classes",T)).json(),onSuccess:()=>{y({title:"Klasse hinzugefügt",description:"Die Klasse wurde erfolgreich hinzugefügt."}),g.invalidateQueries({queryKey:["/api/classes"]}),g.invalidateQueries({queryKey:["/api/stats"]}),d(!1),S.reset()},onError:T=>{y({title:"Fehler beim Hinzufügen",description:T.message,variant:"destructive"})}}),Q=dt({mutationFn:async({id:T,data:U})=>(await ht("PUT",`/api/classes/${T}`,U)).json(),onSuccess:()=>{y({title:"Klasse aktualisiert",description:"Die Klasse wurde erfolgreich aktualisiert."}),g.invalidateQueries({queryKey:["/api/classes"]}),d(!1),v(null),S.reset()},onError:T=>{y({title:"Fehler beim Aktualisieren",description:T.message,variant:"destructive"})}}),de=dt({mutationFn:async T=>{await ht("DELETE",`/api/classes/${T}`)},onSuccess:()=>{y({title:"Klasse gelöscht",description:"Die Klasse wurde erfolgreich gelöscht."}),g.invalidateQueries({queryKey:["/api/classes"]}),g.invalidateQueries({queryKey:["/api/stats"]})},onError:T=>{y({title:"Fehler beim Löschen",description:T.message,variant:"destructive"})}}),K=dt({mutationFn:async T=>(await ht("POST","/api/classes/bulk-edit",T)).json(),onSuccess:()=>{y({title:"Klassen aktualisiert",description:"Die Klassen wurden erfolgreich aktualisiert."}),g.invalidateQueries({queryKey:["/api/classes"]}),f(!1),$.reset()},onError:T=>{y({title:"Fehler beim Aktualisieren",description:T.message,variant:"destructive"})}}),le=dt({mutationFn:async()=>{const T=[{name:"05ER1",grade:5},{name:"05ER2",grade:5},{name:"05KR1",grade:5},{name:"05KR2",grade:5},{name:"05KR3",grade:5},{name:"05PP1",grade:5},{name:"06ER1",grade:6},{name:"06ER2",grade:6},{name:"06FÖRS1",grade:6},{name:"06FÖRS2",grade:6},{name:"06KR1",grade:6},{name:"06KR2",grade:6},{name:"06KR3",grade:6},{name:"06PP1",grade:6},{name:"06PP2",grade:6},{name:"07DF",grade:7},{name:"07EF",grade:7},{name:"07ER1",grade:7},{name:"07ER2",grade:7},{name:"07FS",grade:7},{name:"07INF_IF",grade:7},{name:"07KR1",grade:7},{name:"07KR2",grade:7},{name:"07KR3",grade:7},{name:"07MF",grade:7},{name:"07MUS",grade:7},{name:"07NW_BI",grade:7},{name:"07PP1",grade:7},{name:"07PP2",grade:7},{name:"07SW",grade:7},{name:"07TC1",grade:7},{name:"07TC2",grade:7},{name:"08DF",grade:8},{name:"08EF",grade:8},{name:"08ER1",grade:8},{name:"08ER2",grade:8},{name:"08FS",grade:8},{name:"08INF_IF",grade:8},{name:"08KR1",grade:8},{name:"08KR2",grade:8},{name:"08MF",grade:8},{name:"08MUS",grade:8},{name:"08NW_BI",grade:8},{name:"08PP1",grade:8},{name:"08SW",grade:8},{name:"08TC",grade:8},{name:"09DF",grade:9},{name:"09EF",grade:9},{name:"09ER1",grade:9},{name:"09ER2",grade:9},{name:"09FS",grade:9},{name:"09INF_IF",grade:9},{name:"09KR1",grade:9},{name:"09KR2",grade:9},{name:"09KR3",grade:9},{name:"09MF",grade:9},{name:"09MUS",grade:9},{name:"09NW_BI",grade:9},{name:"09PP1",grade:9},{name:"09SW",grade:9},{name:"09TC",grade:9},{name:"10DF",grade:10},{name:"10EF",grade:10},{name:"10ER1",grade:10},{name:"10ER2",grade:10},{name:"10FS",grade:10},{name:"10INF_IF",grade:10},{name:"10KR1",grade:10},{name:"10KR2",grade:10},{name:"10KR3",grade:10},{name:"10MF",grade:10},{name:"10NW_BI",grade:10},{name:"10PP1",grade:10},{name:"10SW",grade:10},{name:"10TC",grade:10}];let U=0,Z=0;for(const B of T)try{if(w==null?void 0:w.find(Ne=>Ne.name===B.name)){Z++;continue}const fe={name:B.name,grade:B.grade,studentCount:15,subjectHours:{},targetHoursTotal:null,targetHoursSemester1:null,targetHoursSemester2:null,classTeacher1Id:void 0,classTeacher2Id:void 0};await(await ht("POST","/api/classes",fe)).json(),U++}catch(te){console.error(`Failed to create course ${B.name}:`,te)}return{createdCount:U,skippedCount:Z}},onSuccess:T=>{y({title:"Differenzierungskurse erstellt",description:`${T.createdCount} Kurse erstellt, ${T.skippedCount} bereits vorhanden.`}),g.invalidateQueries({queryKey:["/api/classes"]}),g.invalidateQueries({queryKey:["/api/stats"]})},onError:T=>{y({title:"Fehler beim Erstellen der Kurse",description:T.message,variant:"destructive"})}}),H=async T=>{m?Q.mutate({id:m.id,data:T}):X.mutate(T)},_=T=>{v(T),S.reset({name:T.name,grade:T.grade,studentCount:T.studentCount,subjectHours:T.subjectHours,targetHoursTotal:T.targetHoursTotal,targetHoursSemester1:T.targetHoursSemester1,targetHoursSemester2:T.targetHoursSemester2,classTeacher1Id:T.classTeacher1Id,classTeacher2Id:T.classTeacher2Id}),d(!0)},j=async T=>{window.confirm("Sind Sie sicher, dass Sie diese Klasse löschen möchten?")&&de.mutate(T)},L=async T=>{K.mutate(T)},R=(w==null?void 0:w.filter(T=>{const U=T.name.toLowerCase().includes(e.toLowerCase()),Z=r==="all"||T.grade.toString()===r;let B=!0;return a==="klassen"?B=E(T.name):a==="kurse"&&(B=!E(T.name)),U&&Z&&B}))||[],q=(w==null?void 0:w.length)||0;return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Klassenverwaltung"}),n.jsx("p",{className:"text-muted-foreground",children:"Verwaltung der Klassen und Stundenpläne"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Pi,{open:c,onOpenChange:d,children:[n.jsx(uc,{asChild:!0,children:n.jsxs(ie,{"data-testid":"button-add-class",onClick:()=>{v(null),S.reset()},children:[n.jsx(Na,{className:"mr-2 h-4 w-4"}),"Klasse hinzufügen"]})}),n.jsxs(Ta,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Aa,{children:n.jsx(Ia,{children:m?"Klasse bearbeiten":"Neue Klasse"})}),n.jsx(fc,{...S,children:n.jsxs("form",{onSubmit:S.handleSubmit(H),className:"space-y-4",children:[n.jsx(xt,{control:S.control,name:"name",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Klassenname"}),n.jsx(pt,{children:n.jsx(ae,{...T,placeholder:"z.B. 05A","data-testid":"input-class-name"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:S.control,name:"grade",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Jahrgangsstufe"}),n.jsxs(He,{onValueChange:U=>T.onChange(parseInt(U)),value:T.value.toString(),children:[n.jsx(pt,{children:n.jsx(ze,{"data-testid":"select-class-grade",children:n.jsx(Be,{})})}),n.jsx($e,{children:[5,6,7,8,9,10].map(U=>n.jsxs(me,{value:U.toString(),children:["Klasse ",U]},U))})]}),n.jsx(vt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(xt,{control:S.control,name:"classTeacher1Id",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Klassenlehrer 1"}),n.jsxs(He,{onValueChange:T.onChange,value:T.value||void 0,children:[n.jsx(pt,{children:n.jsx(ze,{"data-testid":"select-class-teacher-1",children:n.jsx(Be,{placeholder:"Auswählen..."})})}),n.jsx($e,{children:p==null?void 0:p.map(U=>n.jsxs(me,{value:U.id,children:[U.shortName," - ",U.firstName," ",U.lastName]},U.id))})]}),n.jsx(vt,{})]})}),n.jsx(xt,{control:S.control,name:"classTeacher2Id",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Klassenlehrer 2"}),n.jsxs(He,{onValueChange:T.onChange,value:T.value||void 0,children:[n.jsx(pt,{children:n.jsx(ze,{"data-testid":"select-class-teacher-2",children:n.jsx(Be,{placeholder:"Auswählen..."})})}),n.jsx($e,{children:p==null?void 0:p.filter(U=>U.id!==S.watch("classTeacher1Id")).map(U=>n.jsxs(me,{value:U.id,children:[U.shortName," - ",U.firstName," ",U.lastName]},U.id))})]}),n.jsx(vt,{})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-medium",children:"Zielstunden pro Halbjahr"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(xt,{control:S.control,name:"targetHoursSemester1",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"1. Halbjahr"}),n.jsx(pt,{children:n.jsx(ae,{...T,value:T.value||"",type:"number",step:"0.5",placeholder:"z.B. 15","data-testid":"input-semester1-hours"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:S.control,name:"targetHoursSemester2",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"2. Halbjahr"}),n.jsx(pt,{children:n.jsx(ae,{...T,value:T.value||"",type:"number",step:"0.5",placeholder:"z.B. 15","data-testid":"input-semester2-hours"})}),n.jsx(vt,{})]})})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(ie,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Abbrechen"}),n.jsx(ie,{type:"submit",disabled:X.isPending||Q.isPending,"data-testid":"button-save-class",children:X.isPending||Q.isPending?"Speichert...":m?"Aktualisieren":"Hinzufügen"})]})]})})]})]}),n.jsxs(Pi,{open:u,onOpenChange:f,children:[n.jsx(uc,{asChild:!0,children:n.jsxs(ie,{variant:"outline","data-testid":"button-grade-bulk-edit",children:[n.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Jahrgangsstufe bearbeiten"]})}),n.jsxs(Ta,{children:[n.jsx(Aa,{children:n.jsx(Ia,{children:"Jahrgangsstufe Massenbearbeitung"})}),n.jsx(fc,{...$,children:n.jsxs("form",{onSubmit:$.handleSubmit(L),className:"space-y-4",children:[n.jsx(xt,{control:$.control,name:"grade",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Jahrgangsstufe"}),n.jsxs(He,{onValueChange:U=>T.onChange(parseInt(U)),value:T.value.toString(),children:[n.jsx(pt,{children:n.jsx(ze,{children:n.jsx(Be,{})})}),n.jsx($e,{children:[5,6,7,8,9,10].map(U=>n.jsxs(me,{value:U.toString(),children:["Klasse ",U]},U))})]}),n.jsx(vt,{})]})}),n.jsx(xt,{control:$.control,name:"targetHoursTotal",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Zielstunden Gesamt"}),n.jsx(pt,{children:n.jsx(ae,{...T,type:"number",step:"0.5",placeholder:"z.B. 30"})}),n.jsx(vt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(xt,{control:$.control,name:"targetHoursSemester1",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"1. Halbjahr"}),n.jsx(pt,{children:n.jsx(ae,{...T,value:T.value||"",type:"number",step:"0.5",placeholder:"z.B. 15"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:$.control,name:"targetHoursSemester2",render:({field:T})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"2. Halbjahr"}),n.jsx(pt,{children:n.jsx(ae,{...T,value:T.value||"",type:"number",step:"0.5",placeholder:"z.B. 15"})}),n.jsx(vt,{})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(ie,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Abbrechen"}),n.jsx(ie,{type:"submit",disabled:K.isPending,children:K.isPending?"Speichert...":"Aktualisieren"})]})]})})]})]}),n.jsxs(ie,{variant:"secondary",onClick:()=>le.mutate(),disabled:le.isPending,"data-testid":"button-create-differentiation-courses",children:[n.jsx(ya,{className:"mr-2 h-4 w-4"}),le.isPending?"Erstelle Kurse...":"Alle Kurse hinzufügen (CSV-basiert)"]})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.jsxs(ee,{children:[n.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ae,{className:"text-sm font-medium",children:"Gesamte Klassen"}),n.jsx(ya,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold",children:q}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aktive Klassen im System"})]})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 border-b border-border",children:[n.jsx(ie,{variant:a==="all"?"default":"ghost",size:"sm",onClick:()=>i("all"),"data-testid":"filter-all",children:"Alle"}),n.jsx(ie,{variant:a==="klassen"?"default":"ghost",size:"sm",onClick:()=>i("klassen"),"data-testid":"filter-klassen",children:"Klassen"}),n.jsx(ie,{variant:a==="kurse"?"default":"ghost",size:"sm",onClick:()=>i("kurse"),"data-testid":"filter-kurse",children:"Kurse"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Halbjahr:"}),n.jsx(ie,{variant:o==="1"?"default":"outline",size:"sm",onClick:()=>l("1"),"data-testid":"semester-1",children:"1. HJ"}),n.jsx(ie,{variant:o==="2"?"default":"outline",size:"sm",onClick:()=>l("2"),"data-testid":"semester-2",children:"2. HJ"}),n.jsx(ie,{variant:o==="all"?"default":"outline",size:"sm",onClick:()=>l("all"),"data-testid":"semester-all",children:"Ganz"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative flex-1 max-w-sm",children:[n.jsx(Bg,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(ae,{placeholder:a==="klassen"?"Klassen suchen...":a==="kurse"?"Kurse suchen...":"Klassen/Kurse suchen...",value:e,onChange:T=>t(T.target.value),className:"pl-8","data-testid":"input-search-classes"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_h,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs(He,{value:r,onValueChange:s,children:[n.jsx(ze,{className:"w-[180px]","data-testid":"select-filter-grade",children:n.jsx(Be,{placeholder:"Jahrgangsstufe"})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Jahrgangsstufen"}),[5,6,7,8,9,10].map(T=>n.jsxs(me,{value:T.toString(),children:["Klasse ",T]},T))]})]})]})]}),x?n.jsx("div",{className:"animate-pulse",children:n.jsxs("div",{className:"rounded-md border",children:[n.jsx("div",{className:"border-b p-4",children:n.jsx("div",{className:"h-4 bg-muted rounded w-full"})}),[...Array(6)].map((T,U)=>n.jsx("div",{className:"border-b p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),n.jsx("div",{className:"h-4 bg-muted rounded w-1/6"}),n.jsx("div",{className:"h-4 bg-muted rounded w-1/3"})]})},U))]})}):R.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ya,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Keine Klassen gefunden"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:e||r!=="all"?"Passen Sie Ihre Suchkriterien an oder fügen Sie eine neue Klasse hinzu.":"Fügen Sie Ihre erste Klasse hinzu, um zu beginnen."})]}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(_a,{children:[n.jsx(Pa,{children:n.jsxs(or,{children:[n.jsx(Qe,{children:"Klasse"}),n.jsx(Qe,{children:"Jahrgangsstufe"}),n.jsx(Qe,{children:"Wochenstunden"}),n.jsx(Qe,{children:"Klassenlehrer"}),n.jsx(Qe,{className:"text-right",children:"Aktionen"})]})}),n.jsx(Ea,{children:R.map(T=>{for(const[ve,Ne]of Object.entries(T.subjectHours||{}))typeof Ne=="object"&&Ne!==null&&(Number(Ne[1])||0)+(Number(Ne[2])||0);const U=A(T.id,o),Z=C(T,o),B=p==null?void 0:p.find(ve=>ve.id===T.classTeacher1Id),te=p==null?void 0:p.find(ve=>ve.id===T.classTeacher2Id);let fe="Nicht zugewiesen";return B&&te?fe=`${B.shortName}, ${te.shortName}`:B&&(fe=B.shortName),n.jsxs(or,{"data-testid":`row-class-${T.id}`,children:[n.jsx(Fe,{className:"font-medium py-2",children:n.jsx("span",{children:T.name})}),n.jsx(Fe,{className:"py-1",children:T.grade}),n.jsx(Fe,{className:"py-1",children:n.jsxs("span",{className:`font-medium ${U!==Z?"text-orange-600":"text-green-600"}`,children:[U," / ",Z]})}),n.jsx(Fe,{className:"py-1",children:fe}),n.jsx(Fe,{className:"text-right py-1",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(da,{href:`/stundenplaene?tab=class&classId=${T.id}`,children:n.jsx(ie,{variant:"ghost",size:"sm","data-testid":`button-view-schedule-${T.id}`,children:n.jsx(tr,{className:"h-4 w-4"})})}),n.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>_(T),"data-testid":`button-edit-class-${T.id}`,children:n.jsx(Ni,{className:"h-4 w-4"})}),n.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>j(T.id),"data-testid":`button-delete-class-${T.id}`,children:n.jsx(En,{className:"h-4 w-4"})})]})})]},T.id)})})]})})]})]})]})}const x8=c8.extend({name:W.string().min(1,"Fachname ist erforderlich"),shortName:W.string().min(1,"Kürzel ist erforderlich").max(10,"Kürzel zu lang"),category:W.string().min(1,"Kategorie ist erforderlich")}),Cd={Hauptfach:{label:"Hauptfach",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Nebenfach:{label:"Nebenfach",color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"},AG:{label:"AG",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Sonderbereich:{label:"Sonderbereich",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},Differenzierungsfach:{label:"Differenzierungsfach",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}};function v8(){var k;const{toast:e}=qr(),[t,r]=h.useState(!1),[s,a]=h.useState(null),[i,o]=h.useState("all"),{data:l=[],isLoading:c}=Je({queryKey:["/api/subjects"]}),d=hc({resolver:mc(x8),defaultValues:{name:"",shortName:"",category:"",hoursPerWeek:{}}}),u=dt({mutationFn:async N=>(await ht("POST","/api/subjects",N)).json(),onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/subjects"]}),e({title:"Erfolg",description:"Fach erfolgreich erstellt"}),r(!1),d.reset()},onError:()=>{e({title:"Fehler",description:"Fach konnte nicht erstellt werden",variant:"destructive"})}}),f=dt({mutationFn:async({id:N,...F})=>(await ht("PUT",`/api/subjects/${N}`,F)).json(),onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/subjects"]}),e({title:"Erfolg",description:"Fach erfolgreich aktualisiert"}),r(!1),a(null),d.reset()},onError:()=>{e({title:"Fehler",description:"Fach konnte nicht aktualisiert werden",variant:"destructive"})}}),m=dt({mutationFn:async N=>{await ht("DELETE",`/api/subjects/${N}`)},onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/subjects"]}),e({title:"Erfolg",description:"Fach erfolgreich gelöscht"})},onError:()=>{e({title:"Fehler",description:"Fach konnte nicht gelöscht werden",variant:"destructive"})}}),v=N=>{s?f.mutate({...N,id:s.id}):u.mutate(N)},y=N=>{a(N),d.reset({name:N.name,shortName:N.shortName,category:N.category,hoursPerWeek:N.hoursPerWeek}),r(!0)},g=N=>{confirm("Sind Sie sicher, dass Sie dieses Fach löschen möchten?")&&m.mutate(N)},w=()=>{a(null),d.reset({name:"",shortName:"",category:"",hoursPerWeek:{}}),r(!0)};if(c)return n.jsx("div",{className:"flex justify-center items-center h-64",children:"Lädt..."});const x=Array.from(new Set(l.map(N=>N.category))),p=i==="all"?l:l.filter(N=>N.category===i),b=N=>{const F=Cd[N];return F?n.jsx(Me,{className:F.color,"data-testid":`badge-category-${N.toLowerCase()}`,children:F.label}):n.jsx(Me,{variant:"light","data-testid":`badge-category-${N.toLowerCase()}`,children:N})};return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Fächerverwaltung"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Verwalten Sie die Unterrichtsfächer"})]}),n.jsxs(Pi,{open:t,onOpenChange:r,children:[n.jsx(uc,{asChild:!0,children:n.jsxs(ie,{onClick:w,"data-testid":"button-create-subject",children:[n.jsx(Na,{className:"mr-2 h-4 w-4"}),"Neues Fach"]})}),n.jsxs(Ta,{"data-testid":"dialog-subject-form",children:[n.jsxs(Aa,{children:[n.jsx(Ia,{children:s?"Fach bearbeiten":"Neues Fach erstellen"}),n.jsx(Uh,{children:s?"Bearbeiten Sie die Fachdaten":"Erstellen Sie ein neues Unterrichtsfach"})]}),n.jsx(fc,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(v),className:"space-y-4",children:[n.jsx(xt,{control:d.control,name:"name",render:({field:N})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Fachname"}),n.jsx(pt,{children:n.jsx(ae,{placeholder:"z.B. Mathematik",...N,"data-testid":"input-subject-name"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:d.control,name:"shortName",render:({field:N})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Kürzel"}),n.jsx(pt,{children:n.jsx(ae,{placeholder:"z.B. MA",...N,"data-testid":"input-subject-shortname"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:d.control,name:"category",render:({field:N})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Kategorie"}),n.jsxs(He,{onValueChange:N.onChange,value:N.value,"data-testid":"select-subject-category",children:[n.jsx(pt,{children:n.jsx(ze,{children:n.jsx(Be,{placeholder:"Kategorie auswählen"})})}),n.jsxs($e,{children:[n.jsx(me,{value:"Hauptfach",children:"Hauptfach"}),n.jsx(me,{value:"Nebenfach",children:"Nebenfach"}),n.jsx(me,{value:"AG",children:"AG"}),n.jsx(me,{value:"Sonderbereich",children:"Sonderbereich"})]})]}),n.jsx(vt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(ie,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel",children:"Abbrechen"}),n.jsx(ie,{type:"submit",disabled:u.isPending||f.isPending,"data-testid":"button-save-subject",children:u.isPending||f.isPending?"Speichert...":"Speichern"})]})]})})]})]})]}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(ts,{className:"h-5 w-5"}),"Fächer (",p.length," von ",l.length,")"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_h,{className:"h-4 w-4"}),n.jsxs(He,{value:i,onValueChange:o,"data-testid":"select-category-filter",children:[n.jsx(ze,{className:"w-48",children:n.jsx(Be,{placeholder:"Filter nach Kategorie"})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Kategorien"}),x.map(N=>{var F;return n.jsx(me,{value:N,children:((F=Cd[N])==null?void 0:F.label)||N},N)})]})]})]})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(_a,{"data-testid":"table-subjects",children:[n.jsx(Pa,{children:n.jsxs(or,{children:[n.jsx(Qe,{className:"w-1/3",children:"Fachname"}),n.jsx(Qe,{className:"w-16",children:"Kürzel"}),n.jsx(Qe,{className:"w-32",children:"Kategorie"}),n.jsx(Qe,{className:"w-20",children:"Aktionen"})]})}),n.jsxs(Ea,{children:[p.map(N=>n.jsxs(or,{"data-testid":`row-subject-${N.id}`,children:[n.jsx(Fe,{className:"font-medium py-2","data-testid":`text-subject-name-${N.id}`,children:N.name}),n.jsx(Fe,{className:"py-1","data-testid":`text-subject-shortname-${N.id}`,children:N.shortName}),n.jsx(Fe,{className:"py-1","data-testid":`text-subject-category-${N.id}`,children:b(N.category)}),n.jsx(Fe,{className:"py-1  ",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(ie,{variant:"outline",size:"sm",onClick:()=>y(N),"data-testid":`button-edit-subject-${N.id}`,children:n.jsx(Ni,{className:"h-4 w-4"})}),n.jsx(ie,{variant:"outline",size:"sm",onClick:()=>g(N.id),className:"text-red-600 hover:text-red-700","data-testid":`button-delete-subject-${N.id}`,children:n.jsx(En,{className:"h-4 w-4"})})]})})]},N.id)),p.length===0&&n.jsx(or,{children:n.jsx(Fe,{colSpan:4,className:"text-center py-8 text-gray-500",children:i==="all"?"Keine Fächer gefunden. Erstellen Sie Ihr erstes Fach.":`Keine Fächer in der Kategorie "${((k=Cd[i])==null?void 0:k.label)||i}" gefunden.`})})]})]})})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsx(Ae,{children:"Übersicht nach Kategorien"})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:Object.entries(Cd).map(([N,F])=>{const E=l.filter(A=>A.category===N);return n.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-sm transition-shadow cursor-pointer bg-card",onClick:()=>o(N),children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Me,{className:F.color,children:F.label}),n.jsxs("span",{className:"text-lg font-semibold text-foreground",children:[E.length," Fächer"]})]})}),n.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:E.map(A=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-accent/30 hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"font-medium text-sm text-foreground",children:A.shortName}),n.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:A.name})]}),Object.keys(A.hoursPerWeek).length>0&&n.jsx("div",{className:"text-xs text-muted-foreground",children:Object.entries(A.hoursPerWeek).map(([I,C])=>`${I}:${C}h`).join(", ")})]},A.id))})]},N)})})})]})]})]})})]})}const y8=d8.extend({teacherId:W.string().min(1,"Lehrkraft muss ausgewählt werden"),classId:W.string().min(1,"Klasse muss ausgewählt werden"),subjectId:W.string().min(1,"Fach muss ausgewählt werden"),hoursPerWeek:W.number().min(1).max(10)});function b8(){const[e,t]=h.useState("all"),[r,s]=h.useState("all"),[a,i]=h.useState("all"),[o,l]=h.useState(!1),[c,d]=h.useState(null),{toast:u}=qr(),f=Ls(),{data:m}=Je({queryKey:["/api/teachers"]}),{data:v}=Je({queryKey:["/api/classes"]}),{data:y}=Je({queryKey:["/api/subjects"]}),{data:g,isLoading:w}=Je({queryKey:["/api/assignments"]}),x=hc({resolver:mc(y8),defaultValues:{teacherId:"",classId:"",subjectId:"",hoursPerWeek:1,semester:"1",isOptimized:!1}}),p=dt({mutationFn:async _=>(await ht("POST","/api/assignments",_)).json(),onSuccess:()=>{u({title:"Zuweisung erstellt",description:"Die Unterrichtszuweisung wurde erfolgreich erstellt."}),f.invalidateQueries({queryKey:["/api/assignments"]}),f.invalidateQueries({queryKey:["/api/teachers"]}),l(!1),x.reset()},onError:_=>{u({title:"Fehler beim Erstellen",description:_.message,variant:"destructive"})}}),b=dt({mutationFn:async({id:_,data:j})=>(await ht("PUT",`/api/assignments/${_}`,j)).json(),onSuccess:()=>{u({title:"Zuweisung aktualisiert",description:"Die Änderungen wurden gespeichert."}),f.invalidateQueries({queryKey:["/api/assignments"]}),f.invalidateQueries({queryKey:["/api/teachers"]}),l(!1),d(null),x.reset()},onError:_=>{u({title:"Fehler beim Aktualisieren",description:_.message,variant:"destructive"})}}),k=dt({mutationFn:async _=>{await ht("DELETE",`/api/assignments/${_}`)},onSuccess:()=>{u({title:"Zuweisung gelöscht",description:"Die Unterrichtszuweisung wurde entfernt."}),f.invalidateQueries({queryKey:["/api/assignments"]}),f.invalidateQueries({queryKey:["/api/teachers"]})},onError:_=>{u({title:"Fehler beim Löschen",description:_.message,variant:"destructive"})}}),N=_=>{const j=m==null?void 0:m.find(fe=>fe.id===_.teacherId),L=y==null?void 0:y.find(fe=>fe.id===_.subjectId);if(!j||!L)return{hasConflict:!1,message:"",type:"warning"};const R=j.subjects.flatMap(fe=>fe.split(",").map(ve=>ve.trim().toUpperCase())),q=L.shortName.trim().toUpperCase();if(!R.includes(q))return{hasConflict:!0,message:`${j.firstName} ${j.lastName} hat keine Qualifikation für ${L.name} (${L.shortName})`,type:"error"};const T=(g==null?void 0:g.filter(fe=>fe.teacherId===_.teacherId&&fe.semester===_.semester))||[],B=(c?T.filter(fe=>fe.id!==c.id):T).reduce((fe,ve)=>fe+parseFloat(ve.hoursPerWeek),0)+_.hoursPerWeek,te=parseFloat(j.maxHours);return B>te?{hasConflict:!0,message:`${j.firstName} ${j.lastName} würde im ${_.semester}. HJ mit ${B}h überbelastet (Max: ${te}h)`,type:"error"}:B>te*.9?{hasConflict:!0,message:`${j.firstName} ${j.lastName} würde im ${_.semester}. HJ stark ausgelastet (${B}/${te}h)`,type:"warning"}:{hasConflict:!1,message:"",type:"warning"}},F=_=>{d(_),x.reset({teacherId:_.teacherId,classId:_.classId,subjectId:_.subjectId,hoursPerWeek:parseFloat(_.hoursPerWeek),semester:_.semester,isOptimized:_.isOptimized}),l(!0)},E=_=>{const j=N(_);if(j.hasConflict&&j.type==="error"){u({title:"Konflikt erkannt",description:j.message,variant:"destructive"});return}c?b.mutate({id:c.id,data:_}):p.mutate(_),j.hasConflict&&j.type==="warning"&&u({title:"Warnung",description:j.message,variant:"default"})},A=_=>{confirm("Sind Sie sicher, dass Sie diese Zuweisung löschen möchten?")&&k.mutate(_)},C=((g==null?void 0:g.map(_=>({..._,teacher:m==null?void 0:m.find(j=>j.id===_.teacherId),class:v==null?void 0:v.find(j=>j.id===_.classId),subject:y==null?void 0:y.find(j=>j.id===_.subjectId)})))||[]).filter(_=>{const j=e==="all"||_.teacherId===e,L=r==="all"||_.classId===r,R=a==="all"||_.semester===a;return j&&L&&R}),S=(g==null?void 0:g.length)||0,$=(g==null?void 0:g.reduce((_,j)=>_+parseFloat(j.hoursPerWeek),0))||0,X=(g==null?void 0:g.filter(_=>_.isOptimized).length)||0,Q=(g==null?void 0:g.filter(_=>_.semester==="1").length)||0,de=(g==null?void 0:g.filter(_=>_.semester==="2").length)||0,K=(g==null?void 0:g.filter(_=>_.semester==="1").reduce((_,j)=>_+parseFloat(j.hoursPerWeek),0))||0,le=(g==null?void 0:g.filter(_=>_.semester==="2").reduce((_,j)=>_+parseFloat(j.hoursPerWeek),0))||0,H=_=>{if(!_.teacher||!_.subject)return null;const j=_.teacher.subjects.flatMap(U=>U.split(",").map(Z=>Z.trim().toUpperCase())),L=_.subject.shortName.trim().toUpperCase();if(!j.includes(L))return{type:"error",message:"Keine Qualifikation"};const q=((g==null?void 0:g.filter(U=>U.teacherId===_.teacherId&&U.semester===_.semester))||[]).reduce((U,Z)=>U+parseFloat(Z.hoursPerWeek),0),T=parseFloat(_.teacher.maxHours);return q>T?{type:"error",message:`Überbelastung ${_.semester}.HJ`}:q>T*.9?{type:"warning",message:`Hohe Belastung ${_.semester}.HJ`}:{type:"success",message:"OK"}};return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"StdV-Le (Stundenverteilung Lehrer)"}),n.jsx("p",{className:"text-muted-foreground",children:"Manuelle Zuordnung der Unterrichtsstunden an Lehrkräfte"})]}),n.jsxs(Pi,{open:o,onOpenChange:l,children:[n.jsx(uc,{asChild:!0,children:n.jsxs(ie,{"data-testid":"button-add-assignment",onClick:()=>{d(null),x.reset()},children:[n.jsx(Na,{className:"mr-2 h-4 w-4"}),"Zuweisung erstellen"]})}),n.jsxs(Ta,{children:[n.jsx(Aa,{children:n.jsx(Ia,{children:c?"Zuweisung bearbeiten":"Neue Zuweisung"})}),n.jsx(fc,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(E),className:"space-y-4",children:[n.jsx(xt,{control:x.control,name:"teacherId",render:({field:_})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Lehrkraft"}),n.jsxs(He,{onValueChange:_.onChange,value:_.value,children:[n.jsx(pt,{children:n.jsx(ze,{"data-testid":"select-teacher",children:n.jsx(Be,{placeholder:"Lehrkraft auswählen"})})}),n.jsx($e,{children:m==null?void 0:m.map(j=>n.jsxs(me,{value:j.id,children:[j.firstName," ",j.lastName," (",j.shortName,")"]},j.id))})]}),n.jsx(vt,{})]})}),n.jsx(xt,{control:x.control,name:"classId",render:({field:_})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Klasse"}),n.jsxs(He,{onValueChange:_.onChange,value:_.value,children:[n.jsx(pt,{children:n.jsx(ze,{"data-testid":"select-class",children:n.jsx(Be,{placeholder:"Klasse auswählen"})})}),n.jsx($e,{children:v==null?void 0:v.map(j=>n.jsx(me,{value:j.id,children:j.name},j.id))})]}),n.jsx(vt,{})]})}),n.jsx(xt,{control:x.control,name:"subjectId",render:({field:_})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Fach"}),n.jsxs(He,{onValueChange:_.onChange,value:_.value,children:[n.jsx(pt,{children:n.jsx(ze,{"data-testid":"select-subject",children:n.jsx(Be,{placeholder:"Fach auswählen"})})}),n.jsx($e,{children:y==null?void 0:y.map(j=>n.jsx(me,{value:j.id,children:j.name},j.id))})]}),n.jsx(vt,{})]})}),n.jsx(xt,{control:x.control,name:"hoursPerWeek",render:({field:_})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Wochenstunden"}),n.jsx(pt,{children:n.jsx(ae,{..._,type:"number",min:"1",max:"10",onChange:j=>_.onChange(parseInt(j.target.value)||1),"data-testid":"input-hours"})}),n.jsx(vt,{})]})}),n.jsx(xt,{control:x.control,name:"semester",render:({field:_})=>n.jsxs(ft,{children:[n.jsx(mt,{children:"Halbjahr"}),n.jsxs(He,{onValueChange:_.onChange,value:_.value,children:[n.jsx(pt,{children:n.jsx(ze,{"data-testid":"select-semester",children:n.jsx(Be,{placeholder:"Halbjahr auswählen"})})}),n.jsxs($e,{children:[n.jsx(me,{value:"1",children:"1. Halbjahr"}),n.jsx(me,{value:"2",children:"2. Halbjahr"})]})]}),n.jsx(vt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(ie,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Abbrechen"}),n.jsx(ie,{type:"submit",disabled:p.isPending||b.isPending,"data-testid":"button-save-assignment",children:p.isPending||b.isPending?"Speichert...":"Speichern"})]})]})})]})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx(ee,{"data-testid":"card-total-assignments",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"Zuweisungen gesamt"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:S})]}),n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(hr,{className:"text-blue-600 text-sm"})})]})})}),n.jsx(ee,{"data-testid":"card-semester1",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"1. HJ"}),n.jsxs("p",{className:"text-lg font-bold text-foreground",children:[Q," (",K,"h)"]})]}),n.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-orange-600 text-xs font-bold",children:"1"})})]})})}),n.jsx(ee,{"data-testid":"card-semester2",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"2. HJ"}),n.jsxs("p",{className:"text-lg font-bold text-foreground",children:[de," (",le,"h)"]})]}),n.jsx("div",{className:"w-8 h-8 bg-cyan-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-cyan-600 text-xs font-bold",children:"2"})})]})})}),n.jsx(ee,{"data-testid":"card-total-hours",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"Stunden gesamt"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:$})]}),n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(hr,{className:"text-green-600 text-sm"})})]})})}),n.jsx(ee,{"data-testid":"card-optimized",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"Optimiert"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:X})]}),n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(wr,{className:"text-purple-600 text-sm"})})]})})})]}),n.jsx(ee,{"data-testid":"card-filters",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"w-64",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nach Lehrkraft filtern"}),n.jsxs(He,{value:e,onValueChange:t,children:[n.jsx(ze,{"data-testid":"select-filter-teacher",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Lehrkräfte"}),m==null?void 0:m.map(_=>n.jsxs(me,{value:_.id,children:[_.firstName," ",_.lastName]},_.id))]})]})]}),n.jsxs("div",{className:"w-64",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nach Klasse filtern"}),n.jsxs(He,{value:r,onValueChange:s,children:[n.jsx(ze,{"data-testid":"select-filter-class",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Klassen"}),v==null?void 0:v.map(_=>n.jsx(me,{value:_.id,children:_.name},_.id))]})]})]}),n.jsxs("div",{className:"w-48",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nach Halbjahr filtern"}),n.jsxs(He,{value:a,onValueChange:i,children:[n.jsx(ze,{"data-testid":"select-filter-semester",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Halbjahre"}),n.jsx(me,{value:"1",children:"1. Halbjahr"}),n.jsx(me,{value:"2",children:"2. Halbjahr"})]})]})]})]})})}),n.jsxs(ee,{"data-testid":"card-assignments-list",children:[n.jsx(Ee,{children:n.jsxs(Ae,{children:["Unterrichtszuweisungen (",C.length,")"]})}),n.jsx(re,{children:w?n.jsx("div",{className:"text-center py-8",children:"Lade Zuweisungen..."}):C.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e!=="all"||r!=="all"||a!=="all"?"Keine Zuweisungen gefunden, die den Filterkriterien entsprechen.":"Keine Unterrichtszuweisungen vorhanden. Bitte erstellen Sie Zuweisungen oder verwenden Sie die Optimierung."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Lehrkraft"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Klasse"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Fach"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Halbjahr"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Stunden/Woche"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Typ"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Aktionen"})]})}),n.jsx("tbody",{className:"bg-card divide-y divide-border",children:C.map(_=>{var L,R,q;const j=H(_);return n.jsxs("tr",{"data-testid":`row-assignment-${_.id}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-secondary-foreground text-sm font-medium",children:((L=_.teacher)==null?void 0:L.shortName)||"?"})}),n.jsx("div",{className:"ml-3",children:n.jsx("div",{className:"text-sm font-medium text-foreground",children:_.teacher?`${_.teacher.firstName} ${_.teacher.lastName}`:"Unbekannt"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Me,{variant:"light",children:((R=_.class)==null?void 0:R.name)||"Unbekannt"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:((q=_.subject)==null?void 0:q.name)||"Unbekannt"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Me,{variant:"light",children:_.semester==="1"?"1. HJ":"2. HJ"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:_.hoursPerWeek}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j&&n.jsxs("div",{className:"flex items-center",children:[j.type==="error"&&n.jsx(At,{className:"w-4 h-4 text-red-500 mr-1"}),j.type==="warning"&&n.jsx(At,{className:"w-4 h-4 text-orange-500 mr-1"}),j.type==="success"&&n.jsx(wr,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx(Me,{variant:j.type==="error"?"destructive":(j.type==="warning","light"),children:j.message})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Me,{variant:"light",children:_.isOptimized?"Automatisch":"Manuell"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ie,{variant:"outline",size:"sm",onClick:()=>F(_),"data-testid":`button-edit-${_.id}`,children:n.jsx(Ni,{className:"h-4 w-4"})}),n.jsx(ie,{variant:"outline",size:"sm",onClick:()=>A(_.id),"data-testid":`button-delete-${_.id}`,children:n.jsx(En,{className:"h-4 w-4"})})]})})]},_.id)})})]})})})]})]})]})]})}const j8={Differenzierung:{id:"Differenzierung",name:"Differenzierungsfächer",description:"Wahlpflichtfächer die parallel unterrichtet werden (7.-10. Klasse)",subjects:["FS","SW","NW","IF","TC","MUS"],hoursPerGrade:{7:3,8:4,9:3,10:4}},Religion:{id:"Religion",name:"Religionsfächer",description:"Religions- und Philosophieunterricht die parallel unterrichtet werden",subjects:["KR","ER","PP"],hoursPerGrade:{5:2,6:2,7:2,8:2,9:2,10:2}}};function w8(e){for(const t of Object.values(j8))if(t.subjects.includes(e))return t;return null}function N8(e,t,r){const s={},a={},i=new Set;for(const[d,u]of Object.entries(e)){const f=w8(d);if(f&&!i.has(f.id)){let m=f.hoursPerGrade[t]||0;s[f.id]=m,i.add(f.id)}else if(!f){let m=u;a[d]=m}}const o=Object.values(s).reduce((d,u)=>d+u,0),l=Object.values(a).reduce((d,u)=>d+u,0);return{totalHours:o+l,parallelGroupHours:s,regularHours:a}}function S8(){return{5:{Deutsch:5,Mathematik:4,Englisch:4,Biologie:2,Erdkunde:2,Geschichte:2,Sport:3,Kunst:2,Musik:2,Religion:2},6:{Deutsch:4,Mathematik:4,Englisch:4,Biologie:2,Physik:2,Erdkunde:1,Geschichte:2,Politik:1,Sport:3,Kunst:2,Musik:1,Religion:2},7:{Deutsch:4,Mathematik:4,Englisch:4,Differenzierung:3,Biologie:2,Physik:2,Chemie:2,Geschichte:2,Politik:2,Erdkunde:1,Sport:3,Kunst:1,Musik:1,Religion:2},8:{Deutsch:4,Mathematik:4,Englisch:3,Differenzierung:4,Biologie:1,Physik:2,Chemie:2,Geschichte:2,Politik:2,Erdkunde:2,Sport:3,Kunst:2,Musik:1,Religion:2},9:{Deutsch:4,Mathematik:4,Englisch:3,Differenzierung:3,Biologie:2,Physik:2,Chemie:2,Geschichte:2,Politik:2,Erdkunde:1,Sport:3,Kunst:1,Musik:1,Religion:2},10:{Deutsch:4,Mathematik:4,Englisch:4,Differenzierung:4,Biologie:2,Physik:2,Chemie:2,Geschichte:2,Politik:2,Erdkunde:2,Sport:3,Kunst:1,Musik:1,Religion:2}}}const LT=S8();function k8(e){const{teachers:t,classes:r,subjects:s,currentAssignments:a,settings:i}=e,o=C8(t,a),l=_8(r,s,a),c=P8(r,a),d=T8(t,r,s,a),u=A8(o,l,c,d,i),f=M8(o,l,c,u),{overallScore:m,warnings:v}=z8(f,u),y=$8(a,u),g=Object.keys(d).length-V8(u,d);return{newAssignments:u.length,resolvedConflicts:Math.max(0,g),efficiencyGain:y,overallScore:m,metrics:f,warnings:v,recommendedAssignments:u}}function C8(e,t){return e.map(r=>{const a=t.filter(i=>i.teacherId===r.id).reduce((i,o)=>i+o.hoursPerWeek,0);return{teacherId:r.id,currentHours:a,maxHours:parseFloat(r.maxHours),utilization:a/parseFloat(r.maxHours)*100,subjects:r.subjects,qualifications:r.qualifications}})}function _8(e,t,r){const s=[];return e.forEach(a=>{const i=LT[a.grade]||{},l=r.filter(f=>f.classId===a.id).reduce((f,m)=>f+m.hoursPerWeek,0),c=a.targetHoursTotal?parseFloat(a.targetHoursTotal):null,d=c?c-l:null,u=[];if(t.forEach(f=>{const m=i[f.name]||0;if(m===0)return;const v=r.find(g=>g.classId===a.id&&g.subjectId===f.id),y=(v==null?void 0:v.hoursPerWeek)||0;if(y<m){const g=m-y;u.push({subjectId:f.id,subjectName:f.name,currentHours:y,requiredHours:m,deficit:g,priority:E8(f.name,g)})}}),c!==null&&d!==null&&u.length>0){u.sort((m,v)=>v.priority-m.priority);let f=d;u.forEach(m=>{if(f<=0)return;const v=Math.min(m.deficit,f);if(v>0){const y=m.currentHours+v;s.push({classId:a.id,subjectId:m.subjectId,requiredHours:y,currentHours:m.currentHours,priority:m.priority}),f-=v}})}else u.forEach(f=>{s.push({classId:a.id,subjectId:f.subjectId,requiredHours:f.requiredHours,currentHours:f.currentHours,priority:f.priority})})}),s.sort((a,i)=>i.priority-a.priority)}function P8(e,t){const r=[];return e.forEach(s=>{const a=s.targetHoursTotal?parseFloat(s.targetHoursTotal):null;if(a!==null){const o=t.filter(l=>l.classId===s.id).reduce((l,c)=>l+c.hoursPerWeek,0);r.push({classId:s.id,targetTotalHours:a,currentTotalHours:o,isHardConstraint:!0,remainingHours:a-o})}}),r}function E8(e,t){const s=["Deutsch","Mathematik","Englisch"].includes(e)?100:50,a=t*10;return s+a}function T8(e,t,r,s){const a={};return s.forEach(i=>{const o=e.find(f=>f.id===i.teacherId),l=r.find(f=>f.id===i.subjectId);if(!o||!l)return;o.subjects.includes(l.name)||(a[`${i.id}-qualification`]={type:"qualification",severity:"critical",description:`${o.firstName} ${o.lastName} hat keine Qualifikation für ${l.name}`});const d=s.filter(f=>f.teacherId===o.id).reduce((f,m)=>f+m.hoursPerWeek,0),u=parseFloat(o.maxHours);d>u?a[`${i.teacherId}-overload`]={type:"workload",severity:"high",description:`${o.firstName} ${o.lastName} ist mit ${d}h überbelastet (Max: ${u}h)`}:d>u*.95&&(a[`${i.teacherId}-nearoverload`]={type:"workload",severity:"medium",description:`${o.firstName} ${o.lastName} ist fast vollständig ausgelastet`})}),t.forEach(i=>{const o=i.targetHoursTotal?parseFloat(i.targetHoursTotal):null;if(o===null)return;const c=s.filter(m=>m.classId===i.id).reduce((m,v)=>m+v.hoursPerWeek,0),d=o-c;c>o&&(a[`${i.id}-total-hours-exceeded`]={type:"total_hours",severity:"critical",description:`HARTE CONSTRAINT VERLETZT: Klasse ${i.name} überschreitet Gesamtstunden-Limit: ${c}h > ${o}h (Überschreitung: ${c-o}h)`}),d>0&&d<2&&(a[`${i.id}-total-hours-almost-full`]={type:"total_hours",severity:"high",description:`Klasse ${i.name} hat nur noch ${d}h Spielraum (${c}h/${o}h) - Weitere Zuweisungen stark eingeschränkt`}),c<o*.8&&(a[`${i.id}-total-hours-underutilized`]={type:"total_hours",severity:"medium",description:`Klasse ${i.name} hat deutlich zu wenige Stunden: ${c}h < ${o}h (Bedarf: ${o-c}h)`});const u=LT[i.grade]||{},f=Object.values(u).reduce((m,v)=>m+v,0);f>o&&(a[`${i.id}-impossible-curriculum`]={type:"total_hours",severity:"critical",description:`UNMÖGLICHE KONFIGURATION: Klasse ${i.name} (Stufe ${i.grade}): Curriculum benötigt ${f}h, aber Limit ist ${o}h (Defizit: ${f-o}h)`})}),e.forEach(i=>{const l=s.filter(u=>u.teacherId===i.id).reduce((u,f)=>u+f.hoursPerWeek,0),c=parseFloat(i.maxHours),d=c-l;d<=0?a[`${i.id}-no-capacity`]={type:"workload",severity:"high",description:`Lehrkraft ${i.firstName} ${i.lastName} hat keine Kapazität für weitere Zuweisungen (${l}h/${c}h)`}:d<2&&(a[`${i.id}-minimal-capacity`]={type:"workload",severity:"medium",description:`Lehrkraft ${i.firstName} ${i.lastName} hat nur noch minimale Kapazität: ${d}h verfügbar`})}),a}function A8(e,t,r,s,a){const i=[],o=new Map;r.forEach(l=>{o.set(l.classId,l.remainingHours)});for(const l of t){const c=r.find(f=>f.classId===l.classId);if(c&&c.isHardConstraint&&(o.get(l.classId)||0)<=0)continue;const d=I8(l,e,a);if(d.length===0)continue;const u=R8(d,l);if(u){let f=Math.min(l.requiredHours-l.currentHours,u.availableHours);if(c&&c.isHardConstraint){const m=o.get(l.classId)||0;f=Math.min(f,m)}if(f>0){const m={teacherId:u.teacherId,classId:l.classId,subjectId:l.subjectId,hoursPerWeek:f,confidence:u.score,reasoning:[...u.reasoning,c?`Harte Constraint: ${f}h von ${o.get(l.classId)}h verfügbar`:""].filter(Boolean)};i.push(m);const v=e.find(y=>y.teacherId===u.teacherId);if(v&&(v.currentHours+=f,v.utilization=v.currentHours/v.maxHours*100),c){const g=(o.get(l.classId)||0)-f;o.set(l.classId,Math.max(0,g)),g<0&&console.error(`CRITICAL ERROR: Class ${l.classId} remaining hours went negative: ${g}`)}}}}return i}function I8(e,t,r){const s=[];return t.forEach(a=>{const i=[];let o=0;const l=a.maxHours-a.currentHours;if(l<=0&&r.respectMaxHours)return;const c=a.subjects.length>0;if(c||!r.prioritizeQualifications)o+=c?100:20,i.push(c?"Hat Qualifikation für das Fach":"Keine direkte Qualifikation");else return;if(r.balanceWorkload){const f=100-Math.abs(a.utilization-85);o+=f*.5,i.push(`Aktuelle Auslastung: ${a.utilization.toFixed(1)}%`)}const d=Math.min(l*10,50);o+=d,i.push(`Verfügbare Stunden: ${l}`),s.push({teacherId:a.teacherId,score:o,availableHours:l,reasoning:i})}),s.sort((a,i)=>i.score-a.score)}function R8(e,t,r){return e.length===0?null:e.map(a=>{let i=a.score;const o=t.requiredHours-t.currentHours;return a.availableHours>=o&&(i+=20,a.reasoning.push("Kann alle benötigten Stunden übernehmen")),{...a,score:i}}).sort((a,i)=>i.score-a.score)[0]}function M8(e,t,r,s,a){const i=[],o=F8(s,e);i.push({name:"Qualifikationsabgleich",score:o,description:"Prozentsatz der Zuweisungen mit passender Lehrerqualifikation"});const l=D8(e);i.push({name:"Arbeitsbelastungsverteilung",score:l,description:"Gleichmäßigkeit der Arbeitsbelastung zwischen Lehrkräften"});const c=O8(t,s);i.push({name:"Stundenabdeckung",score:c,description:"Prozentsatz der erforderlichen Stunden, die zugewiesen wurden"});const d=L8(e,s);i.push({name:"Ressourceneffizienz",score:d,description:"Optimale Nutzung der verfügbaren Lehrerstunden"});const u=H8(r,s);return i.push({name:"Gesamtstunden-Einhaltung",score:u,description:"Einhaltung der Gesamtstunden-Limits pro Klasse"}),i}function F8(e,t){return e.length===0?100:e.filter(s=>{const a=t.find(i=>i.teacherId===s.teacherId);return a&&a.subjects.length>0}).length/e.length*100}function D8(e){if(e.length===0)return 100;const t=e.map(l=>l.utilization),r=t.reduce((l,c)=>l+c,0)/t.length,s=t.reduce((l,c)=>l+Math.pow(c-r,2),0)/t.length,a=Math.sqrt(s);return Math.max(0,100-a/30*100)}function O8(e,t){if(e.length===0)return 100;let r=0,s=0;return e.forEach(a=>{const i=a.requiredHours-a.currentHours;r+=i;const o=t.find(l=>l.classId===a.classId&&l.subjectId===a.subjectId);s+=(o==null?void 0:o.hoursPerWeek)||0}),r>0?s/r*100:100}function L8(e,t){const r=e.reduce((a,i)=>a+(i.maxHours-i.currentHours),0),s=t.reduce((a,i)=>a+i.hoursPerWeek,0);return r===0?100:Math.min(100,s/r*100)}function z8(e,t){const r=[],s=e.reduce((d,u)=>d+u.score,0)/e.length,a=e.find(d=>d.name==="Qualifikationsabgleich");a&&a.score<80&&r.push("Einige Zuweisungen erfolgen an Lehrkräfte ohne passende Qualifikation");const i=e.find(d=>d.name==="Arbeitsbelastungsverteilung");i&&i.score<70&&r.push("Ungleichmäßige Verteilung der Arbeitsbelastung erkannt");const o=e.find(d=>d.name==="Stundenabdeckung");o&&o.score<90&&r.push("Nicht alle erforderlichen Stunden konnten zugewiesen werden");const l=e.find(d=>d.name==="Gesamtstunden-Einhaltung");l&&l.score<100&&r.push("Gesamtstunden-Limits wurden verletzt oder nicht vollständig ausgeschöpft"),t.length===0&&r.push("Keine neuen Zuweisungen möglich mit den aktuellen Einstellungen");let c;return s>=95?c="optimal":s>=85?c="good":s>=70?c="warning":c="poor",{overallScore:c,warnings:r}}function $8(e,t){const r=t.reduce((i,o)=>i+o.hoursPerWeek,0),s=e.reduce((i,o)=>i+o.hoursPerWeek,0);if(s===0)return r>0?100:0;const a=r/(s+r)*100;return Math.min(a,100)}function V8(e,t){return Math.max(0,Object.keys(t).length-e.length)}function H8(e,t){if(e.length===0)return 100;let r=0;return e.forEach(s=>{const i=t.filter(c=>c.classId===s.classId).reduce((c,d)=>c+d.hoursPerWeek,0),o=s.currentTotalHours+i;Math.abs(o-s.targetTotalHours)<=.5&&r++}),r/e.length*100}function B8(){const[e,t]=h.useState(!1),[r,s]=h.useState(null),[a,i]=h.useState(null),[o,l]=h.useState({prioritizeQualifications:!0,balanceWorkload:!0,minimizeConflicts:!0,respectMaxHours:!0,allowPartialAssignments:!1}),{toast:c}=qr(),d=Ls(),{data:u}=Je({queryKey:["/api/teachers"]}),{data:f}=Je({queryKey:["/api/classes"]}),{data:m}=Je({queryKey:["/api/subjects"]}),{data:v}=Je({queryKey:["/api/assignments"]}),y=dt({mutationFn:async()=>(await ht("POST","/api/optimize",{})).json(),onSuccess:()=>{c({title:"Optimierung abgeschlossen",description:"Die Unterrichtsverteilung wurde erfolgreich optimiert."}),d.invalidateQueries({queryKey:["/api/assignments"]}),d.invalidateQueries({queryKey:["/api/teachers"]}),t(!1),s(null)},onError:E=>{c({title:"Optimierung fehlgeschlagen",description:E.message,variant:"destructive"}),t(!1),s(null)}}),g=async()=>{if(!u||!f||!m){c({title:"Unvollständige Daten",description:"Bitte stellen Sie sicher, dass Lehrer, Klassen und Fächer vorhanden sind.",variant:"destructive"});return}t(!0),s({stage:"Vorbereitung",progress:0,message:"Optimierung wird gestartet..."});try{const E=[{stage:"Datenvalidierung",progress:10,message:"Überprüfe Eingabedaten..."},{stage:"Constraint-Analyse",progress:25,message:"Analysiere Beschränkungen..."},{stage:"Lehrerqualifikationen",progress:40,message:"Überprüfe Lehrerqualifikationen..."},{stage:"Arbeitsbelastung",progress:55,message:"Berechne optimale Arbeitsverteilung..."},{stage:"Konfliktauflösung",progress:70,message:"Löse Zeitkonflikte..."},{stage:"Finalisierung",progress:85,message:"Erstelle finale Zuweisungen..."},{stage:"Validierung",progress:95,message:"Validiere Ergebnisse..."}];for(const C of E)s(C),await new Promise(S=>setTimeout(S,1e3));const I=k8({teachers:u||[],classes:f||[],subjects:m||[],currentAssignments:v||[],settings:o});i(I),s({stage:"Abgeschlossen",progress:100,message:"Optimierung erfolgreich abgeschlossen!"}),y.mutate()}catch{t(!1),s(null),c({title:"Optimierung fehlgeschlagen",description:"Ein Fehler ist während der Optimierung aufgetreten.",variant:"destructive"})}},w=()=>{t(!1),s(null),i(null)},x=(u==null?void 0:u.length)||0,p=(f==null?void 0:f.length)||0,b=(m==null?void 0:m.length)||0,k=(v==null?void 0:v.length)||0,N=E=>{switch(E){case"optimal":return"text-green-600";case"good":return"text-blue-600";case"warning":return"text-orange-600";case"poor":return"text-red-600";default:return"text-muted-foreground"}},F=E=>{switch(E){case"optimal":return n.jsx(wr,{className:"w-4 h-4 text-green-600"});case"good":return n.jsx(wr,{className:"w-4 h-4 text-blue-600"});case"warning":return n.jsx(At,{className:"w-4 h-4 text-orange-600"});case"poor":return n.jsx(At,{className:"w-4 h-4 text-red-600"});default:return n.jsx(hr,{className:"w-4 h-4 text-muted-foreground"})}};return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"StdV-Kl-Optimum"}),n.jsx("p",{className:"text-muted-foreground",children:"Automatische Optimierung der Unterrichtsverteilung"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(ie,{variant:"outline",onClick:w,disabled:e,"data-testid":"button-reset",children:[n.jsx(gF,{className:"mr-2 h-4 w-4"}),"Zurücksetzen"]}),n.jsx(ie,{onClick:g,disabled:e||x===0||p===0,"data-testid":"button-start-optimization",children:e?n.jsxs(n.Fragment,{children:[n.jsx(fF,{className:"mr-2 h-4 w-4"}),"Optimiert..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hp,{className:"mr-2 h-4 w-4"}),"Optimierung starten"]})})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(ee,{"data-testid":"card-teachers",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Lehrkräfte"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:x})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(vd,{className:"text-blue-600 text-xl"})})]})})}),n.jsx(ee,{"data-testid":"card-classes",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Klassen"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:p})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(vd,{className:"text-green-600 text-xl"})})]})})}),n.jsx(ee,{"data-testid":"card-subjects",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Fächer"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:b})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(vd,{className:"text-purple-600 text-xl"})})]})})}),n.jsx(ee,{"data-testid":"card-assignments",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Zuweisungen"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:k})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(hr,{className:"text-orange-600 text-xl"})})]})})})]}),r&&n.jsxs(ee,{"data-testid":"card-progress",children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(hp,{className:"mr-2"}),"Optimierungsfortschritt"]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",children:r.stage}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.progress,"%"]})]}),n.jsx(Ms,{value:r.progress,className:"w-full"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.message})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ee,{"data-testid":"card-settings",children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(vd,{className:"mr-2"}),"Optimierungseinstellungen"]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"prioritize-qualifications",checked:o.prioritizeQualifications,onCheckedChange:E=>l(A=>({...A,prioritizeQualifications:!!E})),"data-testid":"checkbox-qualifications"}),n.jsx("label",{htmlFor:"prioritize-qualifications",className:"text-sm font-medium",children:"Qualifikationen priorisieren"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"balance-workload",checked:o.balanceWorkload,onCheckedChange:E=>l(A=>({...A,balanceWorkload:!!E})),"data-testid":"checkbox-workload"}),n.jsx("label",{htmlFor:"balance-workload",className:"text-sm font-medium",children:"Arbeitsbelastung ausgleichen"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"minimize-conflicts",checked:o.minimizeConflicts,onCheckedChange:E=>l(A=>({...A,minimizeConflicts:!!E})),"data-testid":"checkbox-conflicts"}),n.jsx("label",{htmlFor:"minimize-conflicts",className:"text-sm font-medium",children:"Konflikte minimieren"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"respect-max-hours",checked:o.respectMaxHours,onCheckedChange:E=>l(A=>({...A,respectMaxHours:!!E})),"data-testid":"checkbox-max-hours"}),n.jsx("label",{htmlFor:"respect-max-hours",className:"text-sm font-medium",children:"Maximale Stunden beachten"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"allow-partial",checked:o.allowPartialAssignments,onCheckedChange:E=>l(A=>({...A,allowPartialAssignments:!!E})),"data-testid":"checkbox-partial"}),n.jsx("label",{htmlFor:"allow-partial",className:"text-sm font-medium",children:"Teilzuweisungen erlauben"})]})]})})]}),n.jsxs(ee,{className:"lg:col-span-2","data-testid":"card-results",children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(wr,{className:"mr-2"}),"Optimierungsergebnisse"]})}),n.jsx(re,{children:a?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Neue Zuweisungen"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.newAssignments})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Gelöste Konflikte"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.resolvedConflicts})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Effizienzsteigerung"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a.efficiencyGain,"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Gesamtbewertung"}),n.jsxs("div",{className:"flex items-center",children:[F(a.overallScore),n.jsx("span",{className:`ml-1 text-sm font-medium ${N(a.overallScore)}`,children:a.overallScore.charAt(0).toUpperCase()+a.overallScore.slice(1)})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Detaillierte Metriken"}),n.jsx("div",{className:"space-y-2",children:a.metrics.map((E,A)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:E.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ms,{value:E.score,className:"w-20"}),n.jsxs("span",{className:"text-sm font-medium",children:[E.score,"%"]})]})]},A))})]}),a.warnings.length>0&&n.jsxs("div",{className:"space-y-2",children:[a.warnings.filter(E=>E.includes("Gesamtstunden")).length>0&&n.jsxs(Xt,{variant:"destructive","data-testid":"alert-total-hours",children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Gesamtstunden-Constraints verletzt:"}),n.jsx("ul",{className:"mt-2 list-disc list-inside text-sm",children:a.warnings.filter(E=>E.includes("Gesamtstunden")).map((E,A)=>n.jsx("li",{children:E},A))})]})]}),a.warnings.filter(E=>!E.includes("Gesamtstunden")).length>0&&n.jsxs(Xt,{"data-testid":"alert-general",children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Allgemeine Warnungen:"}),n.jsx("ul",{className:"mt-2 list-disc list-inside text-sm",children:a.warnings.filter(E=>!E.includes("Gesamtstunden")).map((E,A)=>n.jsx("li",{children:E},A))})]})]})]})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Starten Sie eine Optimierung, um Ergebnisse zu sehen."})})]})]}),n.jsxs(ee,{"data-testid":"card-algorithm-info",children:[n.jsx(Ee,{children:n.jsx(Ae,{children:"Optimierungsalgorithmus"})}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Verwendete Methoden"}),n.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[n.jsx("li",{children:"• Constraint Satisfaction Problem (CSP)"}),n.jsx("li",{children:"• Genetische Algorithmen für Optimierung"}),n.jsx("li",{children:"• Simulated Annealing für lokale Verbesserungen"}),n.jsx("li",{children:"• Multi-Kriterien-Entscheidungsanalyse"}),n.jsx("li",{children:"• Workload-Balancing-Algorithmen"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Bewertungskriterien"}),n.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[n.jsx("li",{children:"• Qualifikationsmatching (40%)"}),n.jsx("li",{children:"• Arbeitsbelastung-Gleichmäßigkeit (25%)"}),n.jsx("li",{children:"• Konfliktminimierung (20%)"}),n.jsx("li",{children:"• Präferenzen und Verfügbarkeit (10%)"}),n.jsx("li",{children:"• Raumoptimierung und Wegzeiten (5%)"})]})]})]})})]})]})]})]})}var Zf="rovingFocusGroup.onEntryFocus",U8={bubbles:!1,cancelable:!0},Jh="RovingFocusGroup",[Mp,zT,W8]=Nh(Jh),[K8,$T]=Cr(Jh,[W8]),[q8,Q8]=K8(Jh),VT=h.forwardRef((e,t)=>n.jsx(Mp.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Mp.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(G8,{...e,ref:t})})}));VT.displayName=Jh;var G8=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),v=Ge(t,m),y=Bc(i),[g=null,w]=bn({prop:o,defaultProp:l,onChange:c}),[x,p]=h.useState(!1),b=Ht(d),k=zT(r),N=h.useRef(!1),[F,E]=h.useState(0);return h.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(Zf,b),()=>A.removeEventListener(Zf,b)},[b]),n.jsx(q8,{scope:r,orientation:s,dir:y,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(A=>w(A),[w]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:h.useCallback(()=>E(A=>A-1),[]),children:n.jsx(Ie.div,{tabIndex:x||F===0?-1:0,"data-orientation":s,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{N.current=!0}),onFocus:ke(e.onFocus,A=>{const I=!N.current;if(A.target===A.currentTarget&&I&&!x){const C=new CustomEvent(Zf,U8);if(A.currentTarget.dispatchEvent(C),!C.defaultPrevented){const S=k().filter(K=>K.focusable),$=S.find(K=>K.active),X=S.find(K=>K.id===g),de=[$,X,...S].filter(Boolean).map(K=>K.ref.current);UT(de,u)}}N.current=!1}),onBlur:ke(e.onBlur,()=>p(!1))})})}),HT="RovingFocusGroupItem",BT=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=Fn(),c=i||l,d=Q8(HT,r),u=d.currentTabStopId===c,f=zT(r),{onFocusableItemAdd:m,onFocusableItemRemove:v}=d;return h.useEffect(()=>{if(s)return m(),()=>v()},[s,m,v]),n.jsx(Mp.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(Ie.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:ke(e.onMouseDown,y=>{s?d.onItemFocus(c):y.preventDefault()}),onFocus:ke(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ke(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=X8(y,d.orientation,d.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(p=>p.focusable).map(p=>p.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const p=x.indexOf(y.currentTarget);x=d.loop?J8(x,p+1):x.slice(p+1)}setTimeout(()=>UT(x))}})})})});BT.displayName=HT;var Z8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function X8(e,t,r){const s=Y8(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Z8[s]}function UT(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function J8(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var eH=VT,tH=BT,Wx="Tabs",[rH,$H]=Cr(Wx,[$T]),WT=$T(),[nH,Kx]=rH(Wx),KT=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Bc(l),[f,m]=bn({prop:s,onChange:a,defaultProp:i});return n.jsx(nH,{scope:r,baseId:Fn(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(Ie.div,{dir:u,"data-orientation":o,...d,ref:t})})});KT.displayName=Wx;var qT="TabsList",QT=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=Kx(qT,r),o=WT(r);return n.jsx(eH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});QT.displayName=qT;var GT="TabsTrigger",ZT=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=Kx(GT,r),l=WT(r),c=JT(o.baseId,s),d=eA(o.baseId,s),u=s===o.value;return n.jsx(tH,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Ie.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ke(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:ke(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:ke(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});ZT.displayName=GT;var YT="TabsContent",XT=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=Kx(YT,r),c=JT(l.baseId,s),d=eA(l.baseId,s),u=s===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(Hn,{present:a||u,children:({present:m})=>n.jsx(Ie.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});XT.displayName=YT;function JT(e,t){return`${e}-trigger-${t}`}function eA(e,t){return`${e}-content-${t}`}var sH=KT,tA=QT,rA=ZT,nA=XT;const aH=sH,sA=h.forwardRef(({className:e,...t},r)=>n.jsx(tA,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));sA.displayName=tA.displayName;const Fp=h.forwardRef(({className:e,...t},r)=>n.jsx(rA,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Fp.displayName=rA.displayName;const Dp=h.forwardRef(({className:e,...t},r)=>n.jsx(nA,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Dp.displayName=nA.displayName;var aA="AlertDialog",[iH,VH]=Cr(aA,[J2]),$s=J2(),iA=e=>{const{__scopeAlertDialog:t,...r}=e,s=$s(t);return n.jsx(p_,{...s,...r,modal:!0})};iA.displayName=aA;var oH="AlertDialogTrigger",oA=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=$s(r);return n.jsx(g_,{...a,...s,ref:t})});oA.displayName=oH;var lH="AlertDialogPortal",lA=e=>{const{__scopeAlertDialog:t,...r}=e,s=$s(t);return n.jsx(x_,{...s,...r})};lA.displayName=lH;var cH="AlertDialogOverlay",cA=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=$s(r);return n.jsx(vx,{...a,...s,ref:t})});cA.displayName=cH;var vo="AlertDialogContent",[dH,uH]=iH(vo),hH=wk("AlertDialogContent"),dA=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=$s(r),o=h.useRef(null),l=Ge(t,o),c=h.useRef(null);return n.jsx(j5,{contentName:vo,titleName:uA,docsSlug:"alert-dialog",children:n.jsx(dH,{scope:r,cancelRef:c,children:n.jsxs(yx,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ke(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(hH,{children:s}),n.jsx(mH,{contentRef:o})]})})})});dA.displayName=vo;var uA="AlertDialogTitle",hA=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=$s(r);return n.jsx(bx,{...a,...s,ref:t})});hA.displayName=uA;var fA="AlertDialogDescription",mA=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=$s(r);return n.jsx(jx,{...a,...s,ref:t})});mA.displayName=fA;var fH="AlertDialogAction",pA=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=$s(r);return n.jsx(wx,{...a,...s,ref:t})});pA.displayName=fH;var gA="AlertDialogCancel",xA=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=uH(gA,r),i=$s(r),o=Ge(t,a);return n.jsx(wx,{...i,...s,ref:o})});xA.displayName=gA;var mH=({contentRef:e})=>{const t=`\`${vo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vo}\` by passing a \`${fA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},pH=iA,gH=oA,xH=lA,vA=cA,yA=dA,bA=pA,jA=xA,wA=hA,NA=mA;const Yf=pH,I0=gH,vH=xH,SA=h.forwardRef(({className:e,...t},r)=>n.jsx(vA,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));SA.displayName=vA.displayName;const Qd=h.forwardRef(({className:e,...t},r)=>n.jsxs(vH,{children:[n.jsx(SA,{}),n.jsx(yA,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Qd.displayName=yA.displayName;const Gd=({className:e,...t})=>n.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gd.displayName="AlertDialogHeader";const Zd=({className:e,...t})=>n.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zd.displayName="AlertDialogFooter";const Yd=h.forwardRef(({className:e,...t},r)=>n.jsx(wA,{ref:r,className:he("text-lg font-semibold",e),...t}));Yd.displayName=wA.displayName;const Xd=h.forwardRef(({className:e,...t},r)=>n.jsx(NA,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));Xd.displayName=NA.displayName;const Jd=h.forwardRef(({className:e,...t},r)=>n.jsx(bA,{ref:r,className:he(ax(),e),...t}));Jd.displayName=bA.displayName;const eu=h.forwardRef(({className:e,...t},r)=>n.jsx(jA,{ref:r,className:he(ax({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));eu.displayName=jA.displayName;function yH(){nk();const e=new URLSearchParams(PR()),[t,r]=h.useState("teacher"),[s,a]=h.useState(""),[i,o]=h.useState(""),[l,c]=h.useState(!1),[d,u]=h.useState("all"),[f,m]=h.useState({}),[v,y]=h.useState(null),[g,w]=h.useState(new Set),[x,p]=h.useState(new Set),[b,k]=h.useState({isOpen:!1,context:"teacher",selectedIds:[]}),{toast:N}=qr(),{data:F,isLoading:E}=Je({queryKey:["/api/teachers"]}),{data:A,isLoading:I}=Je({queryKey:["/api/classes"]}),{data:C,isLoading:S}=Je({queryKey:["/api/subjects"]}),{data:$,isLoading:X}=Je({queryKey:["/api/assignments"]}),Q=dt({mutationFn:async({id:P,data:V})=>(await ht("PUT",`/api/assignments/${P}`,V)).json(),onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/assignments"]}),N({title:"Erfolg",description:"Zuweisung wurde erfolgreich aktualisiert."})},onError:()=>{N({title:"Fehler",description:"Zuweisung konnte nicht aktualisiert werden.",variant:"destructive"})}}),de=dt({mutationFn:async P=>{await ht("DELETE",`/api/assignments/${P}`)},onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/assignments"]}),N({title:"Erfolg",description:"Zuweisung wurde erfolgreich gelöscht."})},onError:()=>{N({title:"Fehler",description:"Zuweisung konnte nicht gelöscht werden.",variant:"destructive"})}}),K=dt({mutationFn:async P=>(await ht("POST","/api/assignments",P)).json(),onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/assignments"]}),y(null),N({title:"Erfolg",description:"Neue Zuweisung wurde erstellt."})},onError:()=>{N({title:"Fehler",description:"Zuweisung konnte nicht erstellt werden.",variant:"destructive"})}}),le=dt({mutationFn:async({assignmentId:P,teacherIds:V})=>(await ht("POST",`/api/assignments/${P}/team`,{teacherIds:V})).json(),onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/assignments"]}),B({isOpen:!1,assignmentId:null,availableTeachers:[],selectedTeacherIds:new Set}),N({title:"Erfolg",description:"Teamteaching wurde erfolgreich erstellt."})},onError:()=>{N({title:"Fehler",description:"Teamteaching konnte nicht erstellt werden.",variant:"destructive"})}}),H=dt({mutationFn:async P=>(await ht("DELETE",`/api/assignments/${P}/team`)).json(),onSuccess:()=>{Vr.invalidateQueries({queryKey:["/api/assignments"]}),N({title:"Erfolg",description:"Lehrkraft wurde aus dem Team entfernt."})},onError:()=>{N({title:"Fehler",description:"Lehrkraft konnte nicht aus dem Team entfernt werden.",variant:"destructive"})}}),_=dt({mutationFn:async P=>{await ht("DELETE","/api/assignments/bulk",{assignmentIds:P})},onSuccess:(P,V)=>{Vr.invalidateQueries({queryKey:["/api/assignments"]}),w(ue=>{const ye=new Set(ue);return V.forEach(Ke=>ye.delete(Ke)),ye}),p(ue=>{const ye=new Set(ue);return V.forEach(Ke=>ye.delete(Ke)),ye}),N({title:"Erfolg",description:`${V.length} Zuweisung${V.length!==1?"en":""} wurde${V.length!==1?"n":""} erfolgreich gelöscht.`})},onError:()=>{N({title:"Fehler",description:"Zuweisungen konnten nicht gelöscht werden.",variant:"destructive"})}}),j=P=>{w(V=>{const ue=new Set(V);return ue.has(P)?ue.delete(P):ue.add(P),ue})},L=P=>{p(V=>{const ue=new Set(V);return ue.has(P)?ue.delete(P):ue.add(P),ue})},R=P=>{w(P?new Set(_e.map(V=>V.id)):new Set)},q=P=>{p(P?new Set(et.map(V=>V.id)):new Set)},T=P=>{const V=P==="teacher"?Array.from(g):Array.from(x);k({isOpen:!0,context:P,selectedIds:V})},U=async()=>{if(b.selectedIds.length!==0)try{await _.mutateAsync(b.selectedIds),k({isOpen:!1,context:"teacher",selectedIds:[]})}catch{}},[Z,B]=h.useState({isOpen:!1,assignmentId:null,availableTeachers:[],selectedTeacherIds:new Set});h.useEffect(()=>{const P=e.get("tab"),V=e.get("id");P&&(P==="teacher"||P==="class")&&r(P),V&&(P==="teacher"&&F?F.find(ye=>ye.id===V)&&a(V):P==="class"&&A&&A.find(ye=>ye.id===V)&&o(V))},[e,F,A]),h.useEffect(()=>{w(new Set),p(new Set)},[t]),h.useEffect(()=>{w(new Set)},[s]),h.useEffect(()=>{p(new Set)},[i]),h.useEffect(()=>{w(new Set),p(new Set)},[d]);const te=h.useMemo(()=>F?new Map(F.map(P=>[P.id,P])):new Map,[F]),fe=h.useMemo(()=>A?new Map(A.map(P=>[P.id,P])):new Map,[A]),ve=h.useMemo(()=>C?new Map(C.map(P=>[P.id,P])):new Map,[C]),Ne=h.useMemo(()=>$?$.map(P=>({...P,teacher:te.get(P.teacherId),class:fe.get(P.classId),subject:ve.get(P.subjectId)})):[],[$,te,fe,ve]),_e=h.useMemo(()=>{if(!s)return[];let P=Ne.filter(V=>V.teacherId===s);return d!=="all"&&(P=P.filter(V=>V.semester===d)),P},[Ne,s,d]),et=h.useMemo(()=>{if(!i)return[];let P=Ne.filter(V=>V.classId===i);return d!=="all"&&(P=P.filter(V=>V.semester===d)),P},[Ne,i,d]),_t=h.useMemo(()=>{const P=_e.reduce((ye,Ke)=>ye+parseFloat(Ke.hoursPerWeek),0),V=_e.filter(ye=>ye.semester==="1").reduce((ye,Ke)=>ye+parseFloat(Ke.hoursPerWeek),0),ue=_e.filter(ye=>ye.semester==="2").reduce((ye,Ke)=>ye+parseFloat(Ke.hoursPerWeek),0);return{totalHours:P,s1Hours:V,s2Hours:ue}},[_e]),sr=h.useMemo(()=>{const P=new Map;et.forEach(Ve=>{const ct=parseFloat(Ve.hoursPerWeek);if(ct<=0)return;const nt=Ve.teamTeachingId?`team-${Ve.teamTeachingId}-${Ve.subjectId}-${Ve.semester}`:`individual-${Ve.subjectId}-${Ve.teacherId}-${Ve.semester}`,Xe=P.get(nt);(!Xe||ct>Xe.hours)&&P.set(nt,{subject:Ve.subjectId,teacher:Ve.teacherId,hours:ct,semester:Ve.semester})});const V=Array.from(P.values()).filter(Ve=>Ve.semester==="1").reduce((Ve,ct)=>Ve+ct.hours,0),ue=Array.from(P.values()).filter(Ve=>Ve.semester==="2").reduce((Ve,ct)=>Ve+ct.hours,0),ye=Math.max(V,ue),it=new Set(Array.from(P.values()).map(Ve=>Ve.teacher)).size;return{totalHours:ye,s1Hours:V,s2Hours:ue,teacherCount:it}},[et]),rt=s?te.get(s):null,wt=i?fe.get(i):null,fs=h.useMemo(()=>{if(!wt||!wt.subjectHours||!C)return[];const P=[],V=wt.subjectHours;for(const[ue,ye]of Object.entries(V)){const Ke=C.find(nt=>nt.shortName===ue);if(!Ke)continue;const it=et.filter(nt=>nt.subjectId===Ke.id),Ve=new Map;it.forEach(nt=>{const Xe=parseFloat(nt.hoursPerWeek);if(Xe<=0)return;const Gr=nt.teamTeachingId?`team-${nt.teamTeachingId}-${nt.subjectId}-${nt.semester}`:`individual-${nt.subjectId}-${nt.teacherId}-${nt.semester}`,Zr=Ve.get(Gr);(!Zr||Xe>Zr.hours)&&Ve.set(Gr,{hours:Xe,semester:nt.semester})});const ct={1:Array.from(Ve.values()).filter(nt=>nt.semester==="1").reduce((nt,Xe)=>nt+Xe.hours,0),2:Array.from(Ve.values()).filter(nt=>nt.semester==="2").reduce((nt,Xe)=>nt+Xe.hours,0)};P.push({subject:Ke,required:ye,assigned:ct,deficit:{1:Math.max(0,ye[1]-ct[1]),2:Math.max(0,ye[2]-ct[2])}})}return P.sort((ue,ye)=>ue.subject.shortName.localeCompare(ye.subject.shortName))},[wt,et,C]),Or=h.useMemo(()=>{if(!Ne)return new Map;const P=new Map;return Ne.forEach(V=>{const ue=V.teacherId,ye=P.get(ue)||{1:0,2:0,total:0};V.semester==="1"?ye[1]+=parseFloat(V.hoursPerWeek):V.semester==="2"&&(ye[2]+=parseFloat(V.hoursPerWeek)),ye.total=ye[1]+ye[2],P.set(ue,ye)}),P},[Ne]);h.useMemo(()=>{const P=new Map;return Or.forEach((V,ue)=>{P.set(ue,V.total)}),P},[Or]);const Ba=h.useCallback(P=>{if(!F||!C)return[];const V=ve.get(P);return V?F.filter(ue=>!ue.subjects||ue.subjects.length===0?!1:ue.subjects.some(ye=>typeof ye=="string"?ye.split(",").map(it=>it.trim()).includes(V.shortName):ye===V.shortName)):F},[F,C,ve]),ms=h.useCallback((P,V,ue)=>{const ye=te.get(P);if(!ye)return 0;const Ke=parseFloat(ye.maxHours),it=Or.get(P)||{1:0,2:0,total:0};let Ve;return ue?Ve=it[ue]:Ve=Math.max(it[1],it[2]),V!==void 0&&(Ve=Math.max(0,Ve-V)),Math.max(0,Ke-Ve)},[te,Or]),M=h.useMemo(()=>{if(!$)return new Map;const P=new Map;return $.filter(V=>V.teamTeachingId).forEach(V=>{const ue=V.teamTeachingId;P.has(ue)||P.set(ue,[]),P.get(ue).push(V)}),P},[$]),z=h.useCallback(P=>!!P.teamTeachingId,[]);h.useCallback(P=>{if(!P.teamTeachingId)return[];const V=M.get(P.teamTeachingId);return V?V.filter(ue=>ue.id!==P.id):[]},[M]);const G=h.useCallback(P=>{if(!P.teamTeachingId)return"";const V=M.get(P.teamTeachingId);return!V||V.length<=1?"":V.map(ye=>{var Ke;return(Ke=te.get(ye.teacherId))==null?void 0:Ke.shortName}).filter(Boolean).sort().join(" & ")},[M,te]),xe=(P,V,ue)=>{m(ye=>{var Ve;const Ke=Ne==null?void 0:Ne.find(ct=>ct.id===P);if(!Ke)return ye;const it={...ye[P],[V]:ue};if(V==="teacherId"){const ct=te.get(ue),nt=ce(Ke,"subjectId"),Xe=ve.get(nt);ct&&Xe&&((Ve=ct.subjects)!=null&&Ve.some(Zr=>typeof Zr=="string"?Zr.split(",").map(dn=>dn.trim()).some(dn=>{const Fi=dn.toLowerCase().trim(),ll=Xe.shortName.toLowerCase(),Gc=Xe.name.toLowerCase();if(Fi===ll||Fi===Gc)return!0;const ef={mathe:["m","mathematik"],physik:["ph","p h"],informatik:["if","i f","ikg","inf"],deutsch:["d"],englisch:["e"],biologie:["bi","b i","nw"],chemie:["ch","c h"],geschichte:["ge","g e"],erdkunde:["ek","e k"],kunst:["ku","k u"],musik:["mu","m u"],sport:["sp","s p"],technik:["tc","t c"],politik:["pk","p k"],sozialwissenschaften:["sw","s w"]};for(const[Zc,Qx]of Object.entries(ef))if(Fi.includes(Zc)&&(Qx.includes(ll)||Qx.includes(Gc)))return!0;return!1}):Zr===Xe.shortName||Zr===Xe.name)||(it.subjectId=""))}return{...ye,[P]:it}})},ce=(P,V)=>{var ue;return((ue=f[P.id])==null?void 0:ue[V])??P[V]},oe=P=>f[P]&&Object.keys(f[P]).length>0,Se=async P=>{const V=f[P.id];if(!(!V||Object.keys(V).length===0))try{await Q.mutateAsync({id:P.id,data:V}),m(ue=>{const ye={...ue};return delete ye[P.id],ye})}catch{}},at=P=>{m(V=>{const ue={...V};return delete ue[P],ue})},Et=async P=>{try{await de.mutateAsync(P),m(V=>{const ue={...V};return delete ue[P],ue})}catch{}},ar=async()=>{if(!(!v||!i))try{await K.mutateAsync({...v,classId:i})}catch{}};return E||I||S||X?n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Stundenpläne"}),n.jsx("p",{className:"text-muted-foreground",children:"Übersicht über Lehrer- und Klassenstundenpläne"})]})})}),n.jsx("div",{className:"p-6 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(hr,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"Lade Stundenplandaten..."})]})})]})]}):n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Stundenpläne"}),n.jsx("p",{className:"text-muted-foreground",children:"Übersicht über Lehrer- und Klassenstundenpläne"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tr,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Schuljahr 2024/25"})]})]})}),n.jsx("div",{className:"p-4",children:n.jsxs(aH,{value:t,onValueChange:r,className:"w-full","data-testid":"tabs-stundenplaene",children:[n.jsxs(sA,{className:"grid w-full grid-cols-2",children:[n.jsxs(Fp,{value:"teacher","data-testid":"tab-lehrer",children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),"Lehrer"]}),n.jsxs(Fp,{value:"class","data-testid":"tab-klasse",children:[n.jsx(ya,{className:"h-4 w-4 mr-2"}),"Klasse"]})]}),n.jsxs(Dp,{value:"teacher",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx($o,{className:"mr-2 text-primary"}),"Lehrer auswählen"]})}),n.jsx(re,{children:n.jsxs(He,{value:s,onValueChange:a,"data-testid":"select-teacher",children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{placeholder:"Wählen Sie eine Lehrkraft aus..."})}),n.jsx($e,{children:F==null?void 0:F.map(P=>n.jsxs(me,{value:P.id,children:[P.firstName," ",P.lastName," (",P.shortName,")"]},P.id))})]})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(tr,{className:"mr-2 text-primary"}),"Halbjahr filtern"]})}),n.jsx(re,{children:n.jsxs(He,{value:d,onValueChange:P=>u(P),"data-testid":"select-semester-filter",children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Beide Halbjahre"}),n.jsx(me,{value:"1",children:"1. Halbjahr"}),n.jsx(me,{value:"2",children:"2. Halbjahr"})]})]})})]})]}),rt&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[n.jsx(ee,{"data-testid":"card-teacher-max-hours",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Max pro Halbjahr"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-teacher-max-hours",children:(rt==null?void 0:rt.maxHours)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Wochenstunden"})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(hr,{className:"text-blue-600 text-xl"})})]})})}),n.jsx(ee,{"data-testid":"card-teacher-s1-hours",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"1. Halbjahr"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-teacher-s1-hours",children:_t.s1Hours}),rt&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.max(0,parseFloat(rt.maxHours)-_t.s1Hours)," verfügbar"]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(ts,{className:"text-green-600 text-xl"})})]})})}),n.jsx(ee,{"data-testid":"card-teacher-s2-hours",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"2. Halbjahr"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-teacher-s2-hours",children:_t.s2Hours}),rt&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.max(0,parseFloat(rt.maxHours)-_t.s2Hours)," verfügbar"]})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(ts,{className:"text-orange-600 text-xl"})})]})})}),n.jsx(ee,{"data-testid":"card-teacher-reduction-hours",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Ermäßigungsstunden"}),rt!=null&&rt.reductionHours?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-teacher-reduction-total",children:Object.values(rt.reductionHours).reduce((P,V)=>P+V,0)}),n.jsx("div",{className:"space-y-0.5",children:Object.entries(rt.reductionHours).filter(([P,V])=>V>0).map(([P,V])=>n.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":`text-reduction-${P.toLowerCase()}`,children:[P,": ",V,"h"]},P))})]}):n.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-teacher-reduction-total",children:"0"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Reduzierung"})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(wi,{className:"text-purple-600 text-xl"})})]})})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Stundenplan für ",rt.firstName," ",rt.lastName]}),g.size>0&&n.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>T("teacher"),"data-testid":"button-bulk-delete-teacher",children:[n.jsx(En,{className:"h-4 w-4 mr-2"}),g.size," ausgewählte löschen"]})]})}),n.jsx(re,{children:_e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground","data-testid":"empty-teacher-assignments",children:[n.jsx(tr,{className:"h-8 w-8 mx-auto mb-2"}),n.jsx("p",{children:"Keine Zuweisungen für diese Lehrkraft vorhanden."})]}):n.jsxs(_a,{"data-testid":"table-teacher-assignments",children:[n.jsx(Pa,{children:n.jsxs(or,{children:[n.jsx(Qe,{className:"w-12",children:n.jsx(Nr,{checked:_e.length>0&&g.size===_e.length,onCheckedChange:P=>R(P),"data-testid":"checkbox-select-all-teacher"})}),n.jsx(Qe,{children:"Klasse"}),n.jsx(Qe,{children:"Fach"}),n.jsx(Qe,{children:"Stunden"}),n.jsx(Qe,{children:"Semester"}),n.jsx(Qe,{className:"text-center",children:"Aktionen"})]})}),n.jsx(Ea,{children:_e.map(P=>{var V,ue,ye,Ke,it;return n.jsxs(or,{"data-testid":`row-teacher-assignment-${P.id}`,children:[n.jsx(Fe,{children:n.jsx(Nr,{checked:g.has(P.id),onCheckedChange:()=>j(P.id),"data-testid":`checkbox-teacher-assignment-${P.id}`})}),n.jsx(Fe,{className:"font-medium",children:((V=P.class)==null?void 0:V.name)||"Unbekannt"}),n.jsx(Fe,{children:n.jsx(Me,{variant:"light",children:((ue=P.subject)==null?void 0:ue.shortName)||((ye=P.subject)==null?void 0:ye.name)||"Unbekannt"})}),n.jsx(Fe,{children:P.hoursPerWeek}),n.jsx(Fe,{children:n.jsx(Me,{variant:"light",children:P.semester==="1"?"1. HJ":"2. HJ"})}),n.jsx(Fe,{className:"text-center",children:n.jsxs(Yf,{children:[n.jsx(I0,{asChild:!0,children:n.jsx(ie,{variant:"destructive",size:"sm",className:"h-8 w-8 p-0","data-testid":`button-delete-assignment-${P.id}`,children:n.jsx(En,{className:"h-4 w-4"})})}),n.jsxs(Qd,{children:[n.jsxs(Gd,{children:[n.jsx(Yd,{children:"Zuweisung löschen?"}),n.jsxs(Xd,{children:["Möchten Sie die Zuweisung ",n.jsx("strong",{children:(Ke=P.subject)==null?void 0:Ke.shortName}),"in Klasse ",n.jsx("strong",{children:(it=P.class)==null?void 0:it.name}),"(",P.hoursPerWeek,"h, ",P.semester==="1"?"1. HJ":"2. HJ",") wirklich löschen?",n.jsx("br",{}),n.jsx("br",{}),"Diese Stunden werden wieder für andere Kollegen verfügbar."]})]}),n.jsxs(Zd,{children:[n.jsx(eu,{children:"Abbrechen"}),n.jsx(Jd,{onClick:()=>Et(P.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`confirm-delete-assignment-${P.id}`,children:"Löschen"})]})]})]})})]},P.id)})})]})})]})]})]}),n.jsxs(Dp,{value:"class",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(ya,{className:"mr-2 text-primary"}),"Klasse auswählen"]})}),n.jsx(re,{children:n.jsxs(He,{value:i,onValueChange:o,"data-testid":"select-class",children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{placeholder:"Wählen Sie eine Klasse aus..."})}),n.jsx($e,{children:A==null?void 0:A.map(P=>n.jsxs(me,{value:P.id,children:[P.name," (Stufe ",P.grade,")"]},P.id))})]})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(tr,{className:"mr-2 text-primary"}),"Halbjahr filtern"]})}),n.jsx(re,{children:n.jsxs(He,{value:d,onValueChange:P=>u(P),"data-testid":"select-semester-filter-class",children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Beide Halbjahre"}),n.jsx(me,{value:"1",children:"1. Halbjahr"}),n.jsx(me,{value:"2",children:"2. Halbjahr"})]})]})})]})]}),wt&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(ee,{"data-testid":"card-class-total-hours",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-foreground/70 text-sm font-semibold mb-2",children:"Gesamtstunden"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("span",{className:"text-lg font-bold text-foreground","data-testid":"text-class-total-hours",children:["Gesamt: ",sr.totalHours]})}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-foreground/70",children:"1. HJ:"}),n.jsxs("span",{className:"font-medium text-foreground","data-testid":"text-class-s1-hours",children:[sr.s1Hours,"h"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-foreground/70",children:"2. HJ:"}),n.jsxs("span",{className:"font-medium text-foreground","data-testid":"text-class-s2-hours",children:[sr.s2Hours,"h"]})]})]})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(hr,{className:"text-purple-600 text-xl"})})]})})}),n.jsx(ee,{"data-testid":"card-class-teachers",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-foreground/70 text-sm font-semibold",children:"Lehrkräfte"}),n.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"text-class-teachers",children:sr.teacherCount})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Hr,{className:"text-green-600 text-xl"})})]})})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(wi,{className:"mr-2 text-primary"}),"Klasseninformationen"]})}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-foreground/70 font-medium",children:"Klassenname:"}),n.jsx("p",{className:"font-medium",children:wt.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-foreground/70 font-medium",children:"Jahrgangsstufe:"}),n.jsx("p",{className:"font-medium",children:wt.grade})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-foreground/70 font-medium",children:"Schüleranzahl:"}),n.jsx("p",{className:"font-medium",children:wt.studentCount})]})]})})]}),fs.length>0&&n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(ts,{className:"mr-2 text-primary"}),"Stundenvorgaben nach Fächern"]})}),n.jsx(re,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:fs.map(P=>n.jsxs("div",{className:"border rounded-lg p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(Me,{variant:"light",children:P.subject.shortName}),n.jsx("span",{className:"text-xs text-muted-foreground",children:P.subject.name})]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"1. HJ:"}),n.jsxs("span",{className:P.deficit[1]>0?"text-red-600 font-medium":"text-green-600",children:[P.assigned[1],"/",P.required[1],"h",P.deficit[1]>0&&n.jsxs("span",{className:"ml-1 text-red-600",children:["(-",P.deficit[1],")"]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"2. HJ:"}),n.jsxs("span",{className:P.deficit[2]>0?"text-red-600 font-medium":"text-green-600",children:[P.assigned[2],"/",P.required[2],"h",P.deficit[2]>0&&n.jsxs("span",{className:"ml-1 text-red-600",children:["(-",P.deficit[2],")"]})]})]})]})]},P.subject.id))})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(ts,{className:"mr-2 text-primary"}),"Stundenübersicht nach Fächern"]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[(()=>{const P={};return et.forEach(V=>{var Gr,Zr,ps,dn;const ue=((Gr=V.subject)==null?void 0:Gr.id)||"unknown",ye=((Zr=V.subject)==null?void 0:Zr.name)||"Unbekannt",Ke=((ps=V.subject)==null?void 0:ps.shortName)||"??",it=V.semester||"1",Ve=parseFloat(V.hoursPerWeek)||0,ct=V.teacher?`${V.teacher.firstName} ${V.teacher.lastName}`:"Unbekannt",nt=((dn=V.teacher)==null?void 0:dn.shortName)||"??",Xe=!!V.teamTeachingId;P[ue]||(P[ue]={subjectName:ye,subjectShortName:Ke,semesters:{}}),P[ue].semesters[it]||(P[ue].semesters[it]={totalHours:0,teachers:[],assignments:[]}),P[ue].semesters[it].totalHours+=Ve,P[ue].semesters[it].teachers.push({name:ct,shortName:nt,hours:Ve,isTeamTeaching:Xe}),P[ue].semesters[it].assignments.push(V)}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:Object.entries(P).map(([V,ue])=>n.jsxs("div",{className:"border rounded px-1 py-0.5 bg-muted/20",children:[n.jsxs("div",{className:"flex flex-col items-center mb-0.5 space-y-0.5",children:[n.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded px-1 py-0.5 text-[10px] font-medium border",children:ue.subjectShortName}),n.jsx("div",{className:"text-xs text-muted-foreground text-center",children:ue.subjectName})]}),n.jsx("div",{className:"space-y-0.5",children:["1","2"].map(ye=>{const Ke=ue.semesters[ye];return Ke?n.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs",children:[n.jsxs("span",{className:"text-muted-foreground text-[10px]",children:[ye,".HJ"]}),n.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900 rounded px-1 py-0.5 text-[10px] font-medium border",children:[Ke.totalHours,"h"]}),Ke.teachers.slice(0,2).map((it,Ve)=>n.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded px-1 py-0.5 text-[10px] font-medium border",title:`${it.name} (${it.hours}h)${it.isTeamTeaching?" - Team":""}`,children:it.shortName},Ve)),Ke.teachers.length>2&&n.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded px-1 py-0.5 text-[10px] font-medium border",title:`+${Ke.teachers.length-2} weitere: ${Ke.teachers.slice(2).map(it=>it.shortName).join(", ")}`,children:["+",Ke.teachers.length-2]})]},ye):null})})]},V))})})(),et.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(hr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Noch keine Stundenverteilung vorhanden"}),n.jsx("p",{className:"text-sm",children:"Verwenden Sie die Tabelle unten, um Zuweisungen zu erstellen"})]})]})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Stundenplan für Klasse ",wt.name]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ie,{variant:l?"default":"outline",size:"sm",onClick:()=>c(!l),"data-testid":"button-toggle-edit-mode",children:l?n.jsxs(n.Fragment,{children:[n.jsx(Yk,{className:"h-4 w-4 mr-2"}),"Ansicht"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Bearbeiten"]})}),x.size>0&&n.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>T("class"),"data-testid":"button-bulk-delete-class",children:[n.jsx(En,{className:"h-4 w-4 mr-2"}),x.size," ausgewählte löschen"]})]})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[et.length," Zuweisung",et.length!==1?"en":"",!l&&n.jsx("span",{className:"ml-2 text-blue-600 dark:text-blue-400",children:"• Ansichtsmodus"}),l&&n.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400",children:"• Bearbeitungsmodus"})]}),l&&n.jsxs(ie,{onClick:()=>y({teacherId:"",subjectId:"",hoursPerWeek:1,semester:"1"}),disabled:!!v,size:"sm","data-testid":"button-add-assignment",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Neue Zuordnung"]})]}),n.jsxs(_a,{"data-testid":"table-class-assignments",children:[n.jsx(Pa,{children:n.jsxs(or,{children:[n.jsx(Qe,{className:"w-12",children:n.jsx(Nr,{checked:et.length>0&&x.size===et.length,onCheckedChange:P=>q(P),"data-testid":"checkbox-select-all-class"})}),n.jsx(Qe,{children:"Lehrkraft"}),n.jsx(Qe,{children:"Fach"}),n.jsx(Qe,{children:"Stunden"}),n.jsx(Qe,{children:"Semester"}),n.jsx(Qe,{className:"w-32",children:"Aktionen"})]})}),n.jsxs(Ea,{children:[v&&l&&n.jsxs(or,{"data-testid":"row-new-assignment",children:[n.jsx(Fe,{}),n.jsx(Fe,{children:n.jsxs(He,{value:v.teacherId,onValueChange:P=>y(V=>V?{...V,teacherId:P}:null),"data-testid":"select-new-teacher",children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{placeholder:"Lehrkraft wählen..."})}),n.jsx($e,{children:(v!=null&&v.subjectId?Ba(v.subjectId):F||[]).map(V=>{const ue=ms(V.id);return n.jsx(me,{value:V.id,children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("span",{children:[V.firstName," ",V.lastName," (",V.shortName,")"]}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[ue,"h verfügbar"]})]})},V.id)})})]})}),n.jsx(Fe,{children:n.jsxs(He,{value:v.subjectId,onValueChange:P=>y(V=>V?{...V,subjectId:P}:null),"data-testid":"select-new-subject",children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{placeholder:"Fach wählen..."})}),n.jsx($e,{children:C==null?void 0:C.map(P=>n.jsxs(me,{value:P.id,children:[P.shortName," - ",P.name]},P.id))})]})}),n.jsx(Fe,{children:n.jsx(ae,{type:"number",min:"1",max:"40",value:v.hoursPerWeek,onChange:P=>y(V=>V?{...V,hoursPerWeek:parseInt(P.target.value)||1}:null),"data-testid":"input-new-hours",className:"w-20"})}),n.jsx(Fe,{children:n.jsxs(He,{value:v.semester,onValueChange:P=>y(V=>V?{...V,semester:P}:null),"data-testid":"select-new-semester",children:[n.jsx(ze,{className:"w-24",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"1",children:"1. HJ"}),n.jsx(me,{value:"2",children:"2. HJ"})]})]})}),n.jsx(Fe,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(ie,{onClick:ar,disabled:!v.teacherId||!v.subjectId||K.isPending,size:"sm","data-testid":"button-save-new",children:n.jsx(Py,{className:"h-3 w-3"})}),n.jsx(ie,{onClick:()=>y(null),variant:"outline",size:"sm","data-testid":"button-cancel-new",children:"✕"})]})})]}),et.map(P=>{var V,ue,ye,Ke,it,Ve;return n.jsxs(or,{"data-testid":`row-class-assignment-${P.id}`,children:[n.jsx(Fe,{children:l?n.jsx(Nr,{checked:x.has(P.id),onCheckedChange:()=>L(P.id),"data-testid":`checkbox-class-assignment-${P.id}`}):n.jsx("div",{className:"w-4"})}),n.jsx(Fe,{children:l?n.jsxs(He,{value:ce(P,"teacherId"),onValueChange:ct=>xe(P.id,"teacherId",ct),"data-testid":`select-teacher-${P.id}`,children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-black dark:text-white text-xs font-medium",children:((V=P.teacher)==null?void 0:V.shortName)||"??"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm",children:P.teacher?`${P.teacher.firstName} ${P.teacher.lastName}`:"Unbekannt"}),z(P)&&n.jsxs(Me,{variant:"light",className:"text-xs mt-1 w-fit",children:[n.jsx(Hr,{className:"h-3 w-3 mr-1"}),"Team: ",G(P)]})]})]})})}),n.jsx($e,{children:(()=>{const ct=ce(P,"subjectId");return(ct?Ba(ct):F||[]).map(Xe=>{const Gr=Xe.id===P.teacherId,Zr=P.hoursPerWeek,ps=ce(P,"semester"),dn=ms(Xe.id,Gr?parseFloat(Zr):void 0,ps);return n.jsx(me,{value:Xe.id,children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("span",{children:[Xe.firstName," ",Xe.lastName," (",Xe.shortName,")"]}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[dn,"h verfügbar"]})]})},Xe.id)})})()})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-black dark:text-white text-xs font-medium",children:((ue=P.teacher)==null?void 0:ue.shortName)||"??"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm",children:P.teacher?`${P.teacher.firstName} ${P.teacher.lastName}`:"Unbekannt"}),z(P)&&n.jsxs(Me,{variant:"light",className:"text-xs mt-1 w-fit",children:[n.jsx(Hr,{className:"h-3 w-3 mr-1"}),"Team: ",G(P)]})]})]})}),n.jsx(Fe,{children:l?n.jsxs(He,{value:ce(P,"subjectId"),onValueChange:ct=>xe(P.id,"subjectId",ct),"data-testid":`select-subject-${P.id}`,children:[n.jsx(ze,{className:"w-full",children:n.jsx(Be,{children:n.jsx(Me,{variant:"light",children:((ye=P.subject)==null?void 0:ye.shortName)||((Ke=P.subject)==null?void 0:Ke.name)||"Unbekannt"})})}),n.jsx($e,{children:(()=>{const ct=ce(P,"teacherId"),nt=te.get(ct);return!nt||!C?[]:C.filter(Xe=>!nt.subjects||nt.subjects.length===0?!1:nt.subjects.some(Gr=>typeof Gr=="string"?Gr.split(",").map(ps=>ps.trim()).some(ps=>{const dn=ps.toLowerCase().trim(),Fi=Xe.shortName.toLowerCase(),ll=Xe.name.toLowerCase();if(dn===Fi||dn===ll)return!0;const Gc={mathe:["m","mathematik"],physik:["ph","p h"],informatik:["if","i f","ikg","inf"],deutsch:["d"],englisch:["e"],biologie:["bi","b i","nw"],chemie:["ch","c h"],geschichte:["ge","g e"],erdkunde:["ek","e k"],kunst:["ku","k u"],musik:["mu","m u"],sport:["sp","s p"],technik:["tc","t c"],politik:["pk","p k"],sozialwissenschaften:["sw","s w"]};for(const[ef,Zc]of Object.entries(Gc))if(dn.includes(ef)&&(Zc.includes(Fi)||Zc.includes(ll)))return!0;return!1}):Gr===Xe.shortName||Gr===Xe.name)).map(Xe=>n.jsxs(me,{value:Xe.id,children:[Xe.shortName," - ",Xe.name]},Xe.id))})()})]}):n.jsx(Me,{variant:"light",children:((it=P.subject)==null?void 0:it.shortName)||((Ve=P.subject)==null?void 0:Ve.name)||"Unbekannt"})}),n.jsx(Fe,{children:l?n.jsx(ae,{type:"number",min:"1",max:"40",value:parseFloat(ce(P,"hoursPerWeek")),onChange:ct=>xe(P.id,"hoursPerWeek",parseInt(ct.target.value)||1),"data-testid":`input-hours-${P.id}`,className:"w-20"}):n.jsxs("span",{className:"font-medium",children:[P.hoursPerWeek,"h"]})}),n.jsx(Fe,{children:l?n.jsxs(He,{value:ce(P,"semester"),onValueChange:ct=>xe(P.id,"semester",ct),"data-testid":`select-semester-${P.id}`,children:[n.jsx(ze,{className:"w-24",children:n.jsx(Be,{children:n.jsx(Me,{variant:"light",children:P.semester==="1"?"1. HJ":"2. HJ"})})}),n.jsxs($e,{children:[n.jsx(me,{value:"1",children:"1. HJ"}),n.jsx(me,{value:"2",children:"2. HJ"})]})]}):n.jsx(Me,{variant:"light",children:P.semester==="1"?"1. HJ":"2. HJ"})}),n.jsx(Fe,{children:l&&n.jsxs("div",{className:"flex space-x-2",children:[oe(P.id)&&n.jsxs(n.Fragment,{children:[n.jsx(ie,{onClick:()=>Se(P),disabled:Q.isPending,size:"sm","data-testid":`button-save-${P.id}`,children:n.jsx(Py,{className:"h-3 w-3"})}),n.jsx(ie,{onClick:()=>at(P.id),variant:"outline",size:"sm","data-testid":`button-cancel-${P.id}`,children:"✕"})]}),z(P)?n.jsxs(ie,{onClick:()=>H.mutate(P.id),variant:"outline",size:"sm",title:"Aus Team entfernen","data-testid":`button-remove-team-${P.id}`,children:[n.jsx(Hr,{className:"h-3 w-3"}),"✕"]}):n.jsx(ie,{onClick:()=>{const ct=ce(P,"subjectId"),nt=Ba(ct).filter(Xe=>Xe.id!==P.teacherId);B({isOpen:!0,assignmentId:P.id,availableTeachers:nt,selectedTeacherIds:new Set})},variant:"outline",size:"sm",title:"Co-Teacher hinzufügen","data-testid":`button-add-team-${P.id}`,children:n.jsx(Hr,{className:"h-3 w-3"})}),n.jsxs(Yf,{children:[n.jsx(I0,{asChild:!0,children:n.jsx(ie,{variant:"destructive",size:"sm","data-testid":`button-delete-${P.id}`,children:n.jsx(En,{className:"h-3 w-3"})})}),n.jsxs(Qd,{children:[n.jsxs(Gd,{children:[n.jsx(Yd,{children:"Zuweisung löschen"}),n.jsx(Xd,{children:"Sind Sie sicher, dass Sie diese Zuweisung löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden."})]}),n.jsxs(Zd,{children:[n.jsx(eu,{children:"Abbrechen"}),n.jsx(Jd,{onClick:()=>Et(P.id),"data-testid":`confirm-delete-${P.id}`,children:"Löschen"})]})]})]})]})})]},P.id)}),et.length===0&&!v&&n.jsx(or,{children:n.jsx(Fe,{colSpan:5,className:"text-center py-8",children:n.jsxs("div",{className:"text-muted-foreground","data-testid":"empty-class-assignments",children:[n.jsx(tr,{className:"h-8 w-8 mx-auto mb-2"}),n.jsx("p",{children:"Keine Zuweisungen für diese Klasse vorhanden."}),n.jsx("p",{className:"text-sm mt-1",children:'Klicken Sie auf "Neue Zuordnung" um eine hinzuzufügen.'})]})})})]})]})]})})]})]})]})]})}),n.jsx(Pi,{open:Z.isOpen,onOpenChange:P=>B(V=>({...V,isOpen:P,selectedTeacherIds:new Set})),children:n.jsxs(Ta,{children:[n.jsxs(Aa,{children:[n.jsx(Ia,{children:"Co-Teacher hinzufügen"}),n.jsx(Uh,{children:"Wählen Sie einen qualifizierten Lehrer als Co-Teacher für diese Stunde aus."})]}),n.jsx("div",{className:"space-y-3",children:n.jsx("div",{className:"max-h-60 overflow-y-auto",children:Z.availableTeachers.map(P=>{const V=Z.selectedTeacherIds.has(P.id);return n.jsx("div",{className:`flex items-center justify-between p-3 border rounded cursor-pointer transition-colors ${V?"bg-primary/10 border-primary":"hover:bg-muted/50"}`,onClick:()=>{B(ue=>{const ye=new Set(ue.selectedTeacherIds);return V?ye.delete(P.id):ye.add(P.id),{...ue,selectedTeacherIds:ye}})},children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:V,onChange:()=>{},className:"h-4 w-4 text-primary","data-testid":`checkbox-coteacher-${P.id}`}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium",children:[P.firstName," ",P.lastName," (",P.shortName,")"]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[ms(P.id,0,d==="all"?void 0:d),"h verfügbar"]})]})]})},P.id)})})}),n.jsxs(Nx,{children:[n.jsx(ie,{variant:"outline",onClick:()=>B(P=>({...P,isOpen:!1,selectedTeacherIds:new Set})),"data-testid":"button-cancel-team-teaching",children:"Abbrechen"}),n.jsx(ie,{onClick:()=>{const P=Array.from(Z.selectedTeacherIds);Z.assignmentId&&P.length>0&&le.mutate({assignmentId:Z.assignmentId,teacherIds:P})},disabled:Z.selectedTeacherIds.size===0||le.isPending,"data-testid":"button-save-team-teaching",children:le.isPending?n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-4 w-4 mr-2 animate-spin"}),"Speichern..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Speichern (",Z.selectedTeacherIds.size,")"]})})]})]})})]}),n.jsx(Yf,{open:b.isOpen,onOpenChange:P=>k(V=>({...V,isOpen:P})),children:n.jsxs(Qd,{"data-testid":"dialog-bulk-delete",children:[n.jsxs(Gd,{children:[n.jsx(Yd,{children:"Mehrere Zuweisungen löschen?"}),n.jsxs(Xd,{children:["Möchten Sie wirklich ",n.jsx("strong",{children:b.selectedIds.length})," Zuweisungen löschen?",n.jsx("br",{}),n.jsx("br",{}),b.context==="teacher"?n.jsxs(n.Fragment,{children:["Diese Stunden werden für ",n.jsxs("strong",{children:[rt==null?void 0:rt.firstName," ",rt==null?void 0:rt.lastName]}),"wieder verfügbar und können anderen Kollegen zugewiesen werden."]}):n.jsxs(n.Fragment,{children:["Diese Stunden werden aus dem Stundenplan von ",n.jsxs("strong",{children:["Klasse ",wt==null?void 0:wt.name]}),"entfernt und stehen wieder zur Verfügung."]}),n.jsx("br",{}),n.jsx("br",{}),n.jsx("strong",{children:"Diese Aktion kann nicht rückgängig gemacht werden."})]})]}),n.jsxs(Zd,{children:[n.jsx(eu,{"data-testid":"button-cancel-bulk-delete",children:"Abbrechen"}),n.jsx(Jd,{onClick:U,disabled:_.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-bulk-delete",children:_.isPending?n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-4 w-4 mr-2 animate-spin"}),"Lösche..."]}):n.jsxs(n.Fragment,{children:[n.jsx(En,{className:"h-4 w-4 mr-2"}),b.selectedIds.length," Zuweisungen löschen"]})})]})]})})]})}function bH(){const[e,t]=h.useState("table"),[r,s]=h.useState("all"),[a,i]=h.useState("all"),[o,l]=h.useState("all"),[c,d]=h.useState("all"),[u,f]=h.useState("all"),[m,v]=h.useState(""),[y,g]=h.useState("teacher"),[w,x]=h.useState("asc"),{toast:p}=qr(),{data:b,isLoading:k}=Je({queryKey:["/api/teachers"]}),{data:N,isLoading:F}=Je({queryKey:["/api/classes"]}),{data:E,isLoading:A}=Je({queryKey:["/api/subjects"]}),{data:I,isLoading:C}=Je({queryKey:["/api/assignments"]}),S=h.useMemo(()=>b?new Map(b.map(R=>[R.id,R])):new Map,[b]),$=h.useMemo(()=>N?new Map(N.map(R=>[R.id,R])):new Map,[N]),X=h.useMemo(()=>E?new Map(E.map(R=>[R.id,R])):new Map,[E]),Q=h.useMemo(()=>I?I.map(R=>({...R,teacher:S.get(R.teacherId),class:$.get(R.classId),subject:X.get(R.subjectId)})):[],[I,S,$,X]),de=h.useMemo(()=>b?b.map(R=>{const q=Q.filter(ve=>ve.teacherId===R.id),T=q.filter(ve=>ve.semester==="1").reduce((ve,Ne)=>ve+parseFloat(Ne.hoursPerWeek),0),U=q.filter(ve=>ve.semester==="2").reduce((ve,Ne)=>ve+parseFloat(Ne.hoursPerWeek),0),Z=T+U,B=parseFloat(R.maxHours),te=B>0?Z/B*100:0,fe=Z>B;return{teacher:R,semester1Hours:T,semester2Hours:U,totalHours:Z,maxHours:B,utilizationPercent:te,isOverloaded:fe}}):[],[b,Q]);h.useMemo(()=>N?N.map(R=>{const q=Q.filter(_e=>_e.classId===R.id),T=q.length,Z=N8(R.subjectHours,R.grade).totalHours,B=new Set(q.map(_e=>_e.subjectId)),te=(E==null?void 0:E.length)||0,fe=B.size,ve=te>0?fe/te*100:0,Ne=(E==null?void 0:E.filter(_e=>!B.has(_e.id)).map(_e=>_e.shortName))||[];return{class:R,totalAssignments:T,totalHours:Z,requiredSubjects:te,coveredSubjects:fe,coverage:ve,missingSubjects:Ne}}):[],[N,E,Q]);const K=h.useMemo(()=>{let R=[...Q];if(r!=="all"&&(R=R.filter(q=>q.semester===r)),a!=="all"&&(R=R.filter(q=>q.teacherId===a)),o!=="all"&&(R=R.filter(q=>q.classId===o)),c!=="all"&&(R=R.filter(q=>q.subjectId===c)),u!=="all"&&(u==="conflicts"?R=R.filter(q=>{const T=de.find(U=>U.teacher.id===q.teacherId);return T==null?void 0:T.isOverloaded}):R=R.filter(q=>{const T=de.find(U=>U.teacher.id===q.teacherId);return!(T!=null&&T.isOverloaded)})),m){const q=m.toLowerCase();R=R.filter(T=>{var U,Z,B,te,fe,ve,Ne,_e,et,_t,sr,rt,wt,fs,Or,Ba,ms,M;return(((B=(Z=(U=T.teacher)==null?void 0:U.firstName)==null?void 0:Z.toLowerCase())==null?void 0:B.includes(q))??!1)||(((ve=(fe=(te=T.teacher)==null?void 0:te.lastName)==null?void 0:fe.toLowerCase())==null?void 0:ve.includes(q))??!1)||(((et=(_e=(Ne=T.teacher)==null?void 0:Ne.shortName)==null?void 0:_e.toLowerCase())==null?void 0:et.includes(q))??!1)||(((rt=(sr=(_t=T.class)==null?void 0:_t.name)==null?void 0:sr.toLowerCase())==null?void 0:rt.includes(q))??!1)||(((Or=(fs=(wt=T.subject)==null?void 0:wt.name)==null?void 0:fs.toLowerCase())==null?void 0:Or.includes(q))??!1)||(((M=(ms=(Ba=T.subject)==null?void 0:Ba.shortName)==null?void 0:ms.toLowerCase())==null?void 0:M.includes(q))??!1)})}return R.sort((q,T)=>{var te,fe,ve,Ne,_e,et,_t,sr;if(y==="hours"){const rt=Number(q.hoursPerWeek)||0,wt=Number(T.hoursPerWeek)||0;return w==="asc"?rt-wt:wt-rt}let U,Z;switch(y){case"teacher":U=`${((te=q.teacher)==null?void 0:te.lastName)||""} ${((fe=q.teacher)==null?void 0:fe.firstName)||""}`.trim(),Z=`${((ve=T.teacher)==null?void 0:ve.lastName)||""} ${((Ne=T.teacher)==null?void 0:Ne.firstName)||""}`.trim();break;case"class":U=((_e=q.class)==null?void 0:_e.name)||"",Z=((et=T.class)==null?void 0:et.name)||"";break;case"subject":U=((_t=q.subject)==null?void 0:_t.shortName)||"",Z=((sr=T.subject)==null?void 0:sr.shortName)||"";break;default:U=q.createdAt?new Date(q.createdAt).toISOString():"",Z=T.createdAt?new Date(T.createdAt).toISOString():""}const B=U.localeCompare(Z);return w==="asc"?B:-B}),R},[Q,r,a,o,c,u,m,y,w,de]),le=h.useMemo(()=>{const R=K.length,q=K.reduce((te,fe)=>te+parseFloat(fe.hoursPerWeek),0),T=K.filter(te=>te.semester==="1").reduce((te,fe)=>te+parseFloat(fe.hoursPerWeek),0),U=K.filter(te=>te.semester==="2").reduce((te,fe)=>te+parseFloat(fe.hoursPerWeek),0),Z=de.filter(te=>te.isOverloaded).length,B=de.length>0?de.reduce((te,fe)=>te+fe.utilizationPercent,0)/de.length:0;return{totalAssignments:R,totalHours:q,semester1Hours:T,semester2Hours:U,overloadedTeachers:Z,averageUtilization:B}},[K,de]),H=h.useCallback(()=>{const q=[["Lehrkraft","Klasse","Fach","Stunden/Woche","Semester","Status"].join(","),...K.map(Z=>{var B,te,fe,ve,Ne,_e;return[`"${(B=Z.teacher)==null?void 0:B.firstName} ${(te=Z.teacher)==null?void 0:te.lastName} (${(fe=Z.teacher)==null?void 0:fe.shortName})"`,`"${(ve=Z.class)==null?void 0:ve.name}"`,`"${(Ne=Z.subject)==null?void 0:Ne.shortName}"`,Z.hoursPerWeek,Z.semester,(_e=de.find(et=>et.teacher.id===Z.teacherId))!=null&&_e.isOverloaded?"Überlastet":"Normal"].join(",")})].join(`
`),T=new Blob([q],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a");U.href=URL.createObjectURL(T),U.download="master_stundenplan.csv",U.click(),p({title:"Export erfolgreich",description:`${K.length} Zuweisungen als CSV exportiert.`})},[K,de,p]),_=h.useCallback(()=>{window.print(),p({title:"Druckansicht",description:"Druckdialog wurde geöffnet."})},[p]),j=h.useCallback(()=>{s("all"),i("all"),l("all"),d("all"),f("all"),v(""),g("teacher"),x("asc"),p({title:"Filter zurückgesetzt",description:"Alle Filter und Sortierungen wurden zurückgesetzt."})},[p]);return k||F||A||C?n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Master-Stundenplan"}),n.jsx("p",{className:"text-foreground/70 font-medium",children:"Umfassende Übersicht aller Stundenpläne"})]})})}),n.jsx("div",{className:"p-6 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(hr,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"Lade Master-Stundenplan-Daten..."})]})})]})]}):n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"flex-1 overflow-auto",children:[n.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Master-Stundenplan"}),n.jsx("p",{className:"text-muted-foreground",children:"Umfassende Übersicht aller Stundenpläne"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(ie,{variant:"outline",size:"sm",onClick:H,"data-testid":"button-export-csv",children:[n.jsx(Zk,{className:"h-4 w-4 mr-2"}),"CSV Export"]}),n.jsxs(ie,{variant:"outline",size:"sm",onClick:_,"data-testid":"button-print",children:[n.jsx(pF,{className:"h-4 w-4 mr-2"}),"Drucken"]})]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-accent/50 border border-border rounded-md p-1",children:[n.jsx(ie,{variant:e==="table"?"default":"ghost",size:"sm",onClick:()=>t("table"),"data-testid":"button-view-table",children:n.jsx(_y,{className:"h-4 w-4"})}),n.jsx(ie,{variant:e==="grid"?"default":"ghost",size:"sm",onClick:()=>t("grid"),"data-testid":"button-view-grid",children:n.jsx(cp,{className:"h-4 w-4"})}),n.jsx(ie,{variant:e==="semester"?"default":"ghost",size:"sm",onClick:()=>t("semester"),"data-testid":"button-view-semester",children:n.jsx(tr,{className:"h-4 w-4"})})]})]})]})}),n.jsx("div",{className:"p-6 bg-primary/5 border-b border-border",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(ee,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-foreground/70",children:"Gesamt Zuweisungen"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"stat-total-assignments",children:le.totalAssignments})]}),n.jsx(ts,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(ee,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-foreground/70",children:"Gesamt Stunden"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"stat-total-hours",children:le.totalHours}),n.jsxs("p",{className:"text-xs text-foreground/60 font-medium",children:["S1: ",le.semester1Hours," | S2: ",le.semester2Hours]})]}),n.jsx(hr,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(ee,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-foreground/70",children:"Überlastete Lehrer"}),n.jsx("p",{className:"text-2xl font-bold text-destructive","data-testid":"stat-overloaded-teachers",children:le.overloadedTeachers})]}),n.jsx(At,{className:"h-8 w-8 text-destructive"})]})})}),n.jsx(ee,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-foreground/70",children:"Ø Auslastung"}),n.jsxs("p",{className:"text-2xl font-bold","data-testid":"stat-average-utilization",children:[Math.round(le.averageUtilization),"%"]})]}),n.jsx(oc,{className:"h-8 w-8 text-primary"})]})})})]})}),n.jsx("div",{className:"px-6 py-4 border-b border-border bg-accent/30",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"flex items-center space-x-2 min-w-64",children:[n.jsx(Bg,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(ae,{placeholder:"Suche nach Lehrer, Klasse oder Fach...",value:m,onChange:R=>v(R.target.value),className:"w-64","data-testid":"input-search"})]}),n.jsxs(He,{value:r,onValueChange:R=>s(R),children:[n.jsx(ze,{className:"w-32","data-testid":"select-semester",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Semester"}),n.jsx(me,{value:"1",children:"1. Semester"}),n.jsx(me,{value:"2",children:"2. Semester"})]})]}),n.jsxs(He,{value:a,onValueChange:i,children:[n.jsx(ze,{className:"w-48","data-testid":"select-teacher-filter",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Lehrer"}),b==null?void 0:b.map(R=>n.jsxs(me,{value:R.id,children:[R.shortName," - ",R.firstName," ",R.lastName]},R.id))]})]}),n.jsxs(He,{value:o,onValueChange:l,children:[n.jsx(ze,{className:"w-32","data-testid":"select-class-filter",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Klassen"}),N==null?void 0:N.map(R=>n.jsx(me,{value:R.id,children:R.name},R.id))]})]}),n.jsxs(He,{value:c,onValueChange:d,children:[n.jsx(ze,{className:"w-32","data-testid":"select-subject-filter",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Fächer"}),E==null?void 0:E.map(R=>n.jsx(me,{value:R.id,children:R.shortName},R.id))]})]}),n.jsxs(He,{value:u,onValueChange:R=>f(R),children:[n.jsx(ze,{className:"w-32","data-testid":"select-conflict-filter",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"all",children:"Alle Status"}),n.jsx(me,{value:"conflicts",children:"Konflikte"}),n.jsx(me,{value:"normal",children:"Normal"})]})]}),n.jsxs(He,{value:y,onValueChange:R=>g(R),children:[n.jsx(ze,{className:"w-32","data-testid":"select-sort",children:n.jsx(Be,{})}),n.jsxs($e,{children:[n.jsx(me,{value:"teacher",children:"Nach Lehrer"}),n.jsx(me,{value:"class",children:"Nach Klasse"}),n.jsx(me,{value:"subject",children:"Nach Fach"}),n.jsx(me,{value:"hours",children:"Nach Stunden"})]})]}),n.jsx(ie,{variant:"outline",size:"sm",onClick:()=>x(w==="asc"?"desc":"asc"),"data-testid":"button-sort-order",children:w==="asc"?"↑":"↓"}),n.jsxs(ie,{variant:"outline",size:"sm",onClick:j,"data-testid":"button-reset-filters",children:[n.jsx(_h,{className:"h-4 w-4 mr-2"}),"Zurücksetzen"]})]})}),n.jsxs("div",{className:"p-6",children:[e==="table"&&n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsx(Ae,{className:"flex items-center justify-between",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx(_y,{className:"mr-2 text-primary"}),"Alle Zuweisungen (",K.length,")"]})})}),n.jsx(re,{children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs(_a,{children:[n.jsx(Pa,{children:n.jsxs(or,{children:[n.jsx(Qe,{children:"Lehrkraft"}),n.jsx(Qe,{children:"Klasse"}),n.jsx(Qe,{children:"Fach"}),n.jsx(Qe,{className:"text-center",children:"Stunden/Woche"}),n.jsx(Qe,{className:"text-center",children:"Semester"}),n.jsx(Qe,{className:"text-center",children:"Status"})]})}),n.jsx(Ea,{children:K.map(R=>{var U,Z,B,te,fe;const q=de.find(ve=>ve.teacher.id===R.teacherId),T=(q==null?void 0:q.isOverloaded)||!1;return n.jsxs(or,{"data-testid":`row-assignment-${R.id}`,children:[n.jsx(Fe,{children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:[(U=R.teacher)==null?void 0:U.firstName," ",(Z=R.teacher)==null?void 0:Z.lastName]}),n.jsx("p",{className:"text-sm font-medium text-primary",children:(B=R.teacher)==null?void 0:B.shortName})]})})}),n.jsx(Fe,{children:n.jsx(Me,{variant:"light",children:(te=R.class)==null?void 0:te.name})}),n.jsx(Fe,{children:n.jsx(Me,{variant:"light",children:(fe=R.subject)==null?void 0:fe.shortName})}),n.jsx(Fe,{className:"text-center",children:n.jsx("span",{className:"font-medium",children:R.hoursPerWeek})}),n.jsx(Fe,{className:"text-center",children:n.jsx(Me,{variant:"light",children:R.semester==="1"?"1. Semester":"2. Semester"})}),n.jsx(Fe,{className:"text-center",children:T?n.jsxs(Me,{variant:"destructive",className:"flex items-center w-fit mx-auto",children:[n.jsx(At,{className:"h-3 w-3 mr-1"}),"Überlastet"]}):n.jsxs(Me,{variant:"light",className:"flex items-center w-fit mx-auto",children:[n.jsx(wr,{className:"h-3 w-3 mr-1"}),"Normal"]})})]},R.id)})})]}),K.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Yk,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:"Keine Zuweisungen gefunden"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Passen Sie Ihre Filter an oder erstellen Sie neue Zuweisungen."})]})]})})]}),e==="grid"&&n.jsx("div",{className:"space-y-6",children:n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsx(Ae,{className:"flex items-center justify-between",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx(cp,{className:"mr-2 text-primary"}),"Lehrer-Übersicht (",de.length," Lehrer)"]})})}),n.jsxs(re,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:de.filter(R=>a!=="all"&&R.teacher.id!==a?!1:Q.filter(T=>T.teacherId===R.teacher.id).length>0).map(R=>{const q=K.filter(Z=>Z.teacherId===R.teacher.id),T=q.filter(Z=>Z.semester==="1"),U=q.filter(Z=>Z.semester==="2");return n.jsxs(ee,{className:`transition-all hover:shadow-lg ${R.isOverloaded?"border-destructive bg-destructive/5":"hover:border-primary"}`,"data-testid":`card-teacher-${R.teacher.id}`,children:[n.jsxs(Ee,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-sm",children:[R.teacher.firstName," ",R.teacher.lastName]}),n.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:R.teacher.shortName})]}),n.jsx("div",{className:"text-right",children:n.jsxs(Me,{variant:R.isOverloaded?"destructive":"secondary",className:"text-xs",children:[Math.round(R.utilizationPercent),"%"]})})]}),n.jsx("div",{className:"w-full bg-secondary rounded-full h-2 mt-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all ${R.isOverloaded?"bg-destructive":R.utilizationPercent>80?"bg-orange-500":"bg-primary"}`,style:{width:`${Math.min(R.utilizationPercent,100)}%`}})}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[n.jsxs("span",{children:[R.totalHours,"h / ",R.maxHours,"h"]}),n.jsxs("span",{children:["S1: ",R.semester1Hours,"h | S2: ",R.semester2Hours,"h"]})]})]}),n.jsx(re,{className:"pt-2",children:q.length>0?n.jsxs("div",{className:"space-y-3",children:[T.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-xs font-medium text-muted-foreground mb-2",children:[n.jsx("span",{className:"flex-1",children:"1. Semester"}),n.jsxs("span",{children:[T.reduce((Z,B)=>Z+parseFloat(B.hoursPerWeek),0),"h"]})]}),n.jsx("div",{className:"space-y-1",children:T.map(Z=>{var B,te;return n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Me,{variant:"light",className:"text-xs px-1",children:(B=Z.class)==null?void 0:B.name}),n.jsx("span",{className:"font-medium",children:(te=Z.subject)==null?void 0:te.shortName})]}),n.jsxs("span",{className:"font-mono text-muted-foreground",children:[Z.hoursPerWeek,"h"]})]},Z.id)})})]}),U.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-xs font-medium text-muted-foreground mb-2",children:[n.jsx("span",{className:"flex-1",children:"2. Semester"}),n.jsxs("span",{children:[U.reduce((Z,B)=>Z+parseFloat(B.hoursPerWeek),0),"h"]})]}),n.jsx("div",{className:"space-y-1",children:U.map(Z=>{var B,te;return n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Me,{variant:"light",className:"text-xs px-1",children:(B=Z.class)==null?void 0:B.name}),n.jsx("span",{className:"font-medium",children:(te=Z.subject)==null?void 0:te.shortName})]}),n.jsxs("span",{className:"font-mono text-muted-foreground",children:[Z.hoursPerWeek,"h"]})]},Z.id)})})]})]}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx(hr,{className:"h-6 w-6 text-muted-foreground mx-auto mb-2"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Keine Zuweisungen"})]})})]},R.teacher.id)})}),de.filter(R=>a!=="all"&&R.teacher.id!==a?!1:Q.filter(T=>T.teacherId===R.teacher.id).length>0).length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Hr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:"Keine Lehrer gefunden"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Passen Sie Ihre Filter an oder erstellen Sie neue Zuweisungen."})]})]})]})}),e==="semester"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ee,{className:"h-fit",children:[n.jsxs(Ee,{className:"bg-primary/5 border-b",children:[n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(tr,{className:"mr-2 text-primary"}),"1. Semester"]}),n.jsxs(Me,{variant:"light",className:"text-sm",children:[K.filter(R=>R.semester==="1").length," Zuweisungen"]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Gesamt: ",le.semester1Hours," Stunden"]}),n.jsxs("span",{children:["Ø ",Math.round(le.semester1Hours/((b==null?void 0:b.length)||1))," Std/Lehrer"]})]})]}),n.jsx(re,{className:"p-4 max-h-96 overflow-y-auto",children:n.jsxs("div",{className:"space-y-3",children:[N==null?void 0:N.filter(R=>K.filter(T=>T.classId===R.id&&T.semester==="1").length>0).sort((R,q)=>R.name.localeCompare(q.name)).map(R=>{const q=K.filter(T=>T.classId===R.id&&T.semester==="1");return n.jsxs("div",{className:"border rounded-lg p-3 bg-card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-semibold text-sm",children:R.name}),n.jsxs(Me,{variant:"light",className:"text-xs",children:[q.reduce((T,U)=>T+parseFloat(U.hoursPerWeek),0)," Stunden"]})]}),n.jsx("div",{className:"space-y-2",children:q.sort((T,U)=>{var Z,B;return(((Z=T.subject)==null?void 0:Z.shortName)||"").localeCompare(((B=U.subject)==null?void 0:B.shortName)||"")}).map(T=>{var U,Z,B,te,fe;return n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded text-xs","data-testid":`semester1-assignment-${T.id}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Me,{variant:"light",className:"text-xs px-1",children:(U=T.subject)==null?void 0:U.shortName}),n.jsx("span",{className:"font-medium text-muted-foreground",children:(Z=T.teacher)==null?void 0:Z.shortName}),n.jsxs("span",{className:"text-muted-foreground",children:[(B=T.teacher)==null?void 0:B.firstName," ",(te=T.teacher)==null?void 0:te.lastName]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"font-mono",children:[T.hoursPerWeek,"h"]}),((fe=de.find(ve=>ve.teacher.id===T.teacherId))==null?void 0:fe.isOverloaded)&&n.jsx(At,{className:"h-3 w-3 text-destructive"})]})]},T.id)})})]},R.id)}),K.filter(R=>R.semester==="1").length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(tr,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Keine Zuweisungen im 1. Semester"})]})]})})]}),n.jsxs(ee,{className:"h-fit",children:[n.jsxs(Ee,{className:"bg-secondary/5 border-b",children:[n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(tr,{className:"mr-2 text-secondary-foreground"}),"2. Semester"]}),n.jsxs(Me,{variant:"light",className:"text-sm",children:[K.filter(R=>R.semester==="2").length," Zuweisungen"]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Gesamt: ",le.semester2Hours," Stunden"]}),n.jsxs("span",{children:["Ø ",Math.round(le.semester2Hours/((b==null?void 0:b.length)||1))," Std/Lehrer"]})]})]}),n.jsx(re,{className:"p-4 max-h-96 overflow-y-auto",children:n.jsxs("div",{className:"space-y-3",children:[N==null?void 0:N.filter(R=>K.filter(T=>T.classId===R.id&&T.semester==="2").length>0).sort((R,q)=>R.name.localeCompare(q.name)).map(R=>{const q=K.filter(T=>T.classId===R.id&&T.semester==="2");return n.jsxs("div",{className:"border rounded-lg p-3 bg-card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-semibold text-sm",children:R.name}),n.jsxs(Me,{variant:"light",className:"text-xs",children:[q.reduce((T,U)=>T+parseFloat(U.hoursPerWeek),0)," Stunden"]})]}),n.jsx("div",{className:"space-y-2",children:q.sort((T,U)=>{var Z,B;return(((Z=T.subject)==null?void 0:Z.shortName)||"").localeCompare(((B=U.subject)==null?void 0:B.shortName)||"")}).map(T=>{var U,Z,B,te,fe;return n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded text-xs","data-testid":`semester2-assignment-${T.id}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Me,{variant:"light",className:"text-xs px-1",children:(U=T.subject)==null?void 0:U.shortName}),n.jsx("span",{className:"font-medium text-muted-foreground",children:(Z=T.teacher)==null?void 0:Z.shortName}),n.jsxs("span",{className:"text-muted-foreground",children:[(B=T.teacher)==null?void 0:B.firstName," ",(te=T.teacher)==null?void 0:te.lastName]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"font-mono",children:[T.hoursPerWeek,"h"]}),((fe=de.find(ve=>ve.teacher.id===T.teacherId))==null?void 0:fe.isOverloaded)&&n.jsx(At,{className:"h-3 w-3 text-destructive"})]})]},T.id)})})]},R.id)}),K.filter(R=>R.semester==="2").length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(tr,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Keine Zuweisungen im 2. Semester"})]})]})})]})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center",children:[n.jsx(oc,{className:"mr-2 text-primary"}),"Semester-Vergleich"]})}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-lg text-primary",children:Math.abs(le.semester1Hours-le.semester2Hours)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Stunden-Unterschied"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:le.semester1Hours>le.semester2Hours?"S1 höher":le.semester2Hours>le.semester1Hours?"S2 höher":"Ausgeglichen"})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-lg text-secondary",children:K.filter(R=>R.semester==="1").length+K.filter(R=>R.semester==="2").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Gesamt Zuweisungen"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["S1: ",K.filter(R=>R.semester==="1").length," | S2: ",K.filter(R=>R.semester==="2").length]})]}),n.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-lg text-destructive",children:le.overloadedTeachers}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Überlastete Lehrer"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(le.averageUtilization),"% Ø Auslastung"]})]})]})})]})]})]})]})]})}function jH(){var X,Q,de,K,le,H;const[e,t]=h.useState("overview"),[r,s]=h.useState(""),[a,i]=h.useState([{name:"5a",grade:5,expectedStudentCount:28},{name:"5b",grade:5,expectedStudentCount:27}]),[o,l]=h.useState({autoMigrateContinuousSubjects:!0,handleDifferenzierung:!0,archiveGraduatedClasses:!0,preserveInactiveTeachers:!1,createMissingSubjects:!1}),[c,d]=h.useState(null),[u,f]=h.useState(null),[m,v]=h.useState(null),{toast:y}=qr(),{data:g,isLoading:w,error:x}=Je({queryKey:["/api/school-years/current"]}),{data:p,isLoading:b,error:k}=Je({queryKey:["/api/stats"]});h.useEffect(()=>{if(g&&!r){const j=parseInt(g.name.split("/")[0])+1;s(`${j}/${String(j+1).slice(-2)}`)}},[g,r]),dt({mutationFn:async()=>{if(!g)throw new Error("Kein aktuelles Schuljahr gefunden");return await(await ht("GET",`/api/school-years/validate-transition/${g.id}`)).json()},onSuccess:_=>{d(_),_.valid?(y({title:"Validierung erfolgreich",description:"System ist bereit für den Schuljahreswechsel"}),t("preparation")):y({title:"Validierung fehlgeschlagen",description:`${_.errors.length} Fehler gefunden`,variant:"destructive"})},onError:_=>{var R,q,T,U;let j="Validierungsfehler",L=_.message||"Fehler bei der Validierung";(R=_.message)!=null&&R.includes("401")||(q=_.message)!=null&&q.includes("403")?(j="Keine Berechtigung",L="Sie haben keine Berechtigung für Schuljahreswechsel. Nur Administratoren können diese Funktion verwenden."):(T=_.message)!=null&&T.includes("404")?L="Das angegebene Schuljahr wurde nicht gefunden.":(U=_.message)!=null&&U.includes("422")&&(L="Ungültige Eingabedaten. Bitte überprüfen Sie Ihre Eingaben."),y({title:j,description:L,variant:"destructive"})}});const N=dt({mutationFn:async()=>{if(!g)throw new Error("Kein aktuelles Schuljahr gefunden");return await(await ht("POST","/api/school-years/preview-transition",{fromSchoolYearId:g.id,toSchoolYearName:r,params:{newClasses:a,migrationRules:o}})).json()},onSuccess:_=>{console.log("Preview API Response:",_),f(_),y({title:"Vorschau erstellt",description:"Übergangsplan wurde generiert"}),t("preview")},onError:_=>{var R,q,T,U,Z;let j="Vorschau-Fehler",L=_.message||"Fehler bei der Vorschau-Erstellung";(R=_.message)!=null&&R.includes("401")||(q=_.message)!=null&&q.includes("403")?(j="Keine Berechtigung",L="Sie haben keine Berechtigung für Schuljahreswechsel. Nur Administratoren können diese Funktion verwenden."):(T=_.message)!=null&&T.includes("404")?L="Das angegebene Schuljahr wurde nicht gefunden.":(U=_.message)!=null&&U.includes("422")?L="Ungültige Eingabedaten. Bitte überprüfen Sie Ihre Konfiguration.":(Z=_.message)!=null&&Z.includes("409")&&(L="Das Zielschuljahr existiert bereits. Bitte wählen Sie einen anderen Namen."),y({title:j,description:L,variant:"destructive"})}}),F=dt({mutationFn:async()=>{if(!g)throw new Error("Kein aktuelles Schuljahr gefunden");return await(await ht("POST","/api/school-years/execute-transition",{fromSchoolYearId:g.id,toSchoolYearName:r,params:{newClasses:a,migrationRules:o}})).json()},onSuccess:_=>{v(_),_.success?(y({title:"Schuljahreswechsel erfolgreich",description:"Das neue Schuljahr wurde erstellt"}),t("completed"),Vr.invalidateQueries({queryKey:["/api/school-years"]}),Vr.invalidateQueries({queryKey:["/api/stats"]})):y({title:"Schuljahreswechsel fehlgeschlagen",description:"Siehe Details für weitere Informationen",variant:"destructive"})},onError:_=>{var R,q,T,U,Z;let j="Ausführungsfehler",L=_.message||"Fehler beim Schuljahreswechsel";(R=_.message)!=null&&R.includes("401")||(q=_.message)!=null&&q.includes("403")?(j="Keine Berechtigung",L="Sie haben keine Berechtigung für Schuljahreswechsel. Nur Administratoren können diese Funktion verwenden."):(T=_.message)!=null&&T.includes("404")?L="Das angegebene Schuljahr wurde nicht gefunden.":(U=_.message)!=null&&U.includes("422")?L="Der Schuljahreswechsel konnte nicht ausgeführt werden. Bitte überprüfen Sie die Validierung.":(Z=_.message)!=null&&Z.includes("409")&&(L="Das Zielschuljahr existiert bereits. Der Übergang wurde möglicherweise bereits durchgeführt."),y({title:j,description:L,variant:"destructive"})}}),E=()=>{const _=a.filter(L=>L.grade===5).length+1,j=`5${String.fromCharCode(96+_)}`;i([...a,{name:j,grade:5,expectedStudentCount:25}])},A=_=>{i(a.filter((j,L)=>L!==_))},I=(_,j,L)=>{const R=[...a];R[_]={...R[_],[j]:L},i(R)},C=w||b,S=x||k,$=g&&r&&a.length>0;return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsx(gr,{}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-2",children:[n.jsx(up,{className:"h-8 w-8 text-primary"}),"Schuljahreswechsel"]}),n.jsx("p",{className:"text-muted-foreground mt-2",children:C?"Lade Schuljahresinformationen...":g&&r?`Automatischer Übergang von ${g.name} zu ${r}`:"Vorbereitung des Schuljahreswechsels"})]}),n.jsx(Me,{variant:"light",className:"text-sm","data-testid":"badge-current-year",children:g?`Aktuell: ${g.name}`:"Lädt..."})]}),S&&n.jsxs(Xt,{variant:"destructive","data-testid":"error-loading-data",children:[n.jsx(At,{className:"h-4 w-4"}),n.jsx(Jt,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium",children:"Fehler beim Laden der Daten"}),x&&n.jsxs("div",{className:"text-sm",children:[n.jsx("strong",{children:"Schuljahr:"})," ",(X=x==null?void 0:x.message)!=null&&X.includes("401")||(Q=x==null?void 0:x.message)!=null&&Q.includes("403")?"Keine Berechtigung - Sie benötigen Administrator-Rechte":(x==null?void 0:x.message)||"Fehler beim Laden des aktuellen Schuljahres"]}),k&&n.jsxs("div",{className:"text-sm",children:[n.jsx("strong",{children:"Statistiken:"})," ",(de=k==null?void 0:k.message)!=null&&de.includes("401")||(K=k==null?void 0:k.message)!=null&&K.includes("403")?"Keine Berechtigung - Sie benötigen Administrator-Rechte":(k==null?void 0:k.message)||"Fehler beim Laden der Statistiken"]}),n.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Bitte aktualisieren Sie die Seite oder wenden Sie sich an einen Administrator."})]})})]}),S&&(x||!g)&&n.jsx(ee,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"text-center text-muted-foreground",children:[n.jsx(At,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Schuljahreswechsel nicht verfügbar"}),n.jsxs("p",{children:["Die Funktion kann nicht verwendet werden, da die erforderlichen Daten nicht geladen werden konnten.",(le=x==null?void 0:x.message)!=null&&le.includes("401")||(H=x==null?void 0:x.message)!=null&&H.includes("403")?" Sie benötigen Administrator-Rechte für diese Funktion.":" Bitte versuchen Sie es später erneut."]})]})})}),n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5"}),"System-Status"]}),n.jsx(fr,{children:"Überprüfung der Systemvoraussetzungen für den Schuljahreswechsel"})]}),n.jsxs(re,{className:"space-y-4",children:[C?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ys,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Lade Systemstatus..."})]}):n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-green-50 dark:bg-green-950/30",children:[n.jsx(wr,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Lehrerdaten"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p==null?void 0:p.totalTeachers)||0," aktive Lehrer"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-green-50 dark:bg-green-950/30",children:[n.jsx(wr,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Klassendaten"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p==null?void 0:p.totalClasses)||0," Klassen"]})]})]}),n.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${c!=null&&c.valid?"bg-green-50 dark:bg-green-950/30":(c==null?void 0:c.valid)===!1?"bg-red-50 dark:bg-red-950/30":"bg-yellow-50 dark:bg-yellow-950/30"}`,children:[c!=null&&c.valid?n.jsx(wr,{className:"h-5 w-5 text-green-600"}):(c==null?void 0:c.valid)===!1?n.jsx(At,{className:"h-5 w-5 text-red-600"}):n.jsx(At,{className:"h-5 w-5 text-yellow-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"System-Validierung"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:c!=null&&c.valid?"Bereit für Übergang":(c==null?void 0:c.valid)===!1?`${c.errors.length} Fehler`:"Validierung erforderlich"})]})]})]}),c&&!c.valid&&n.jsxs(Xt,{variant:"destructive",children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Validierungsfehler gefunden:"}),n.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:c.errors.map((_,j)=>n.jsx("li",{className:"text-sm",children:_},j))})]})]}),(c==null?void 0:c.warnings)&&c.warnings.length>0&&n.jsxs(Xt,{children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Warnungen:"}),n.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:c.warnings.map((_,j)=>n.jsx("li",{className:"text-sm",children:_},j))})]})]})]})]}),e==="overview"&&n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5"}),"Aktuelles Schuljahr ",(g==null?void 0:g.name)||"Lädt..."]})}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Lehrer aktiv:"}),n.jsx("span",{className:"font-medium",children:"47"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Klassen:"}),n.jsx("span",{className:"font-medium",children:"24"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Schüler:"}),n.jsx("span",{className:"font-medium",children:"624"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Zuweisungen:"}),n.jsx("span",{className:"font-medium",children:"156"})]})]})})]}),n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(up,{className:"h-5 w-5"}),"Übergang zu ",r]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs(Xt,{children:[n.jsx(At,{className:"h-4 w-4"}),n.jsx(Jt,{children:"Der Schuljahreswechsel ist ein kritischer Vorgang, der nicht rückgängig gemacht werden kann. Stellen Sie sicher, dass alle Daten korrekt sind."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(ie,{onClick:()=>t("preparation"),className:"w-full justify-between","data-testid":"button-start-transition",children:["Schuljahreswechsel vorbereiten",n.jsx(ky,{className:"h-4 w-4"})]}),n.jsx(ie,{variant:"outline",className:"w-full","data-testid":"button-preview-transition",children:"Vorschau anzeigen"})]})]})]})]}),e==="preparation"&&n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsx(Ae,{children:"Vorbereitung des Schuljahreswechsels"}),n.jsxs(fr,{children:["Konfiguration der Übergangsparameter für ",r]})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Migrations-Regeln"}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"auto-migrate",checked:o.autoMigrateContinuousSubjects,onCheckedChange:_=>l(j=>({...j,autoMigrateContinuousSubjects:!!_})),"data-testid":"checkbox-auto-migrate"}),n.jsx(J,{htmlFor:"auto-migrate",className:"text-sm",children:"Kontinuierliche Fächer automatisch migrieren (Deutsch, Mathematik, Englisch, Sport, Religion)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"handle-diff",checked:o.handleDifferenzierung,onCheckedChange:_=>l(j=>({...j,handleDifferenzierung:!!_})),"data-testid":"checkbox-handle-diff"}),n.jsx(J,{htmlFor:"handle-diff",className:"text-sm",children:"Differenzierungs-Fächer verwalten (WP-Bereich, FS, SW, NW-Kurs)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"archive-graduated",checked:o.archiveGraduatedClasses,onCheckedChange:_=>l(j=>({...j,archiveGraduatedClasses:!!_})),"data-testid":"checkbox-archive-graduated"}),n.jsx(J,{htmlFor:"archive-graduated",className:"text-sm",children:"Abschlussklassen (10. Klassen) archivieren"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"preserve-inactive",checked:o.preserveInactiveTeachers,onCheckedChange:_=>l(j=>({...j,preserveInactiveTeachers:!!_})),"data-testid":"checkbox-preserve-inactive"}),n.jsx(J,{htmlFor:"preserve-inactive",className:"text-sm",children:"Inaktive Lehrer beibehalten"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{id:"create-missing",checked:o.createMissingSubjects,onCheckedChange:_=>l(j=>({...j,createMissingSubjects:!!_})),"data-testid":"checkbox-create-missing"}),n.jsx(J,{htmlFor:"create-missing",className:"text-sm",children:"Fehlende Fächer automatisch anlegen"})]})]})]}),n.jsx(Ut,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Neue Eingangsklassen (5. Klasse)"}),n.jsxs(ie,{onClick:E,size:"sm",variant:"outline","data-testid":"button-add-class",children:[n.jsx(Na,{className:"h-4 w-4 mr-1"}),"Klasse hinzufügen"]})]}),n.jsx("div",{className:"space-y-3",children:a.map((_,j)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx(J,{htmlFor:`class-name-${j}`,className:"text-xs",children:"Klassenname"}),n.jsx(ae,{id:`class-name-${j}`,value:_.name,onChange:L=>I(j,"name",L.target.value),placeholder:"z.B. 5a","data-testid":`input-class-name-${j}`})]}),n.jsxs("div",{children:[n.jsx(J,{htmlFor:`class-grade-${j}`,className:"text-xs",children:"Jahrgangsstufe"}),n.jsx(ae,{id:`class-grade-${j}`,type:"number",min:"5",max:"10",value:_.grade,onChange:L=>I(j,"grade",parseInt(L.target.value)||5),"data-testid":`input-class-grade-${j}`})]}),n.jsxs("div",{children:[n.jsx(J,{htmlFor:`class-count-${j}`,className:"text-xs",children:"Erwartete Schülerzahl"}),n.jsx(ae,{id:`class-count-${j}`,type:"number",min:"1",max:"35",value:_.expectedStudentCount,onChange:L=>I(j,"expectedStudentCount",parseInt(L.target.value)||25),"data-testid":`input-class-count-${j}`})]}),n.jsx("div",{className:"flex items-end",children:a.length>1&&n.jsx(ie,{onClick:()=>A(j),size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700","data-testid":`button-remove-class-${j}`,children:n.jsx(En,{className:"h-4 w-4"})})})]},j))})]}),n.jsx(Ut,{}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ie,{variant:"outline",onClick:()=>t("overview"),"data-testid":"button-back-overview",children:"Zurück zur Übersicht"}),n.jsx(ie,{onClick:()=>N.mutate(),disabled:!$||N.isPending,"data-testid":"button-create-preview",children:N.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ys,{className:"h-4 w-4 animate-spin mr-2"}),"Erstelle Vorschau..."]}):n.jsxs(n.Fragment,{children:["Vorschau erstellen",n.jsx(ky,{className:"h-4 w-4 ml-2"})]})})]})]})]}),e==="preview"&&u&&n.jsx("div",{className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(_u,{className:"h-5 w-5"}),"Vorschau: Übergang zu ",r]}),n.jsx(fr,{children:"Überprüfen Sie die geplanten Änderungen vor der Ausführung"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.preview.statistics.classesCreated}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Neue Klassen"})]}),n.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.preview.statistics.assignmentsMigrated}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Migrierte Zuweisungen"})]}),n.jsxs("div",{className:"text-center p-3 bg-orange-50 dark:bg-orange-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u.preview.statistics.studentsArchived}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Archivierte Schüler"})]}),n.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.preview.statistics.studentsMigrated}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Migrierte Schüler"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Neue Klassen"}),n.jsx("div",{className:"space-y-2",children:u.preview.newClasses.map((_,j)=>n.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[n.jsx("span",{className:"font-medium",children:_.name}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Klasse ",_.grade," • ",_.expectedStudentCount," Schüler",_.sourceClass&&` • von ${_.sourceClass}`]})]},j))})]}),u.preview.archivedClasses.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Archivierte Klassen (Abschluss)"}),n.jsx("div",{className:"space-y-2",children:u.preview.archivedClasses.map((_,j)=>n.jsxs("div",{className:"flex justify-between items-center p-2 border rounded bg-orange-50 dark:bg-orange-950/30",children:[n.jsx("span",{className:"font-medium",children:_.name}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[_.studentCount," Schüler graduiert"]})]},j))})]}),u.preview.migratedAssignments.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Zuweisungs-Migration"}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.preview.migratedAssignments.map((_,j)=>n.jsxs("div",{className:`flex justify-between items-center p-2 border rounded ${_.status==="auto"?"bg-green-50 dark:bg-green-950/30":_.status==="manual_check"?"bg-yellow-50 dark:bg-yellow-950/30":"bg-gray-50 dark:bg-gray-950/30"}`,children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:_.teacherName}),n.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:_.subject})]}),n.jsxs("div",{className:"text-sm text-right",children:[n.jsxs("div",{children:[_.fromClass," → ",_.toClass]}),n.jsx(Me,{variant:"light",className:"text-xs",children:_.status==="auto"?"Automatisch":_.status==="manual_check"?"Manuell prüfen":"Übersprungen"})]})]},j))})]}),n.jsxs(Xt,{children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Wichtiger Hinweis:"})," Nach der Ausführung können diese Änderungen nicht mehr rückgängig gemacht werden. Stellen Sie sicher, dass alle Informationen korrekt sind."]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ie,{variant:"outline",onClick:()=>t("preparation"),"data-testid":"button-back-preparation",children:"Zurück zur Vorbereitung"}),n.jsx(ie,{onClick:()=>F.mutate(),disabled:F.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"button-execute-transition",children:F.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ys,{className:"h-4 w-4 animate-spin mr-2"}),"Schuljahreswechsel wird ausgeführt..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mF,{className:"h-4 w-4 mr-2"}),"Schuljahreswechsel jetzt ausführen"]})})]})]})]})}),e==="completed"&&m&&n.jsx("div",{className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-green-600"}),"Schuljahreswechsel abgeschlossen"]}),n.jsxs(fr,{children:["Der Übergang zu ",r," wurde erfolgreich durchgeführt"]})]}),n.jsxs(re,{className:"space-y-6",children:[m.success?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.statistics.classesCreated}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Klassen erstellt"})]}),n.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.statistics.assignmentsMigrated}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Zuweisungen migriert"})]}),n.jsxs("div",{className:"text-center p-3 bg-orange-50 dark:bg-orange-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:m.statistics.studentsArchived}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Schüler archiviert"})]}),n.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-950/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.statistics.studentsMigrated}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Schüler migriert"})]})]}),m.warnings&&m.warnings.length>0&&n.jsxs(Xt,{children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Warnungen beim Übergang:"}),n.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:m.warnings.map((_,j)=>n.jsx("li",{className:"text-sm",children:_},j))})]})]}),n.jsxs(Xt,{className:"border-green-200 bg-green-50 dark:bg-green-950/30",children:[n.jsx(wr,{className:"h-4 w-4 text-green-600"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Schuljahreswechsel erfolgreich abgeschlossen!"}),n.jsx("br",{}),"Das System ist jetzt für das Schuljahr ",r," konfiguriert. Sie können mit der Verwaltung des neuen Schuljahres beginnen."]})]})]}):n.jsxs(Xt,{variant:"destructive",children:[n.jsx(At,{className:"h-4 w-4"}),n.jsxs(Jt,{children:[n.jsx("strong",{children:"Schuljahreswechsel fehlgeschlagen!"}),m.errors&&n.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1",children:m.errors.map((_,j)=>n.jsx("li",{className:"text-sm",children:_},j))})]})]}),n.jsx("div",{className:"flex gap-3",children:n.jsx(ie,{onClick:()=>{t("overview"),d(null),f(null),v(null)},className:"w-full","data-testid":"button-return-overview",children:"Zurück zur Übersicht"})})]})]})})]})})})]})}function wH(){const[e,t]=h.useState(null),[r,s]=h.useState(null),[a,i]=h.useState({}),[o,l]=h.useState(!1),[c,d]=h.useState(!1),{toast:u}=qr(),f=Ls(),{data:m}=Je({queryKey:["/api/school-years/current"]}),{data:v}=Je({queryKey:["/api/classes"],enabled:!!m}),{data:y}=Je({queryKey:["/api/teachers"],enabled:!!m}),{data:g}=Je({queryKey:["/api/subjects"],enabled:!!m});Je({queryKey:["/api/subject-mappings"],enabled:!!m});const w=dt({mutationFn:async({pdfSubjectName:A,subjectId:I})=>await ht("POST","/api/subject-mappings/resolve",{pdfSubjectName:A,selectedSubjectId:I}),onSuccess:()=>{u({title:"Mapping erstellt",description:"Die Fach-Zuordnung wurde gespeichert und wird künftig automatisch verwendet."}),f.invalidateQueries({queryKey:["/api/subject-mappings"]})},onError:A=>{u({title:"Fehler beim Speichern",description:A.message,variant:"destructive"})}}),x=A=>{var C;const I=(C=A.target.files)==null?void 0:C[0];I&&I.type==="application/pdf"?(t(I),s(null),i({})):u({title:"Ungültige Datei",description:"Bitte wählen Sie eine PDF-Datei aus.",variant:"destructive"})},p=async()=>{if(!e||!m){u({title:"Fehler",description:"Datei und Schuljahr erforderlich.",variant:"destructive"});return}l(!0);try{const A=new FormData;A.append("file",e),A.append("schoolYearId",m.id);const I=await fetch("/api/import/lesson-distribution/pdf-preview",{method:"POST",body:A});if(!I.ok)throw new Error("Upload fehlgeschlagen");const C=await I.json();s(C.preview),u({title:"Vorschau erstellt",description:`${C.preview.summary.totalLessons} Unterrichtsstunden gefunden. ${C.preview.summary.conflicts} Konflikte zu lösen.`})}catch(A){u({title:"Fehler",description:"PDF-Analyse fehlgeschlagen: "+A.message,variant:"destructive"})}finally{l(!1)}},b=async()=>{if(!(!r||!m)){d(!0);try{const A=await fetch("/api/import/lesson-distribution/pdf-apply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lessons:r.lessons,resolutions:a,schoolYearId:m.id})});if(!A.ok)throw new Error("Import fehlgeschlagen");const I=await A.json();await f.invalidateQueries({queryKey:["/api/assignments"]}),u({title:"Import erfolgreich",description:`${I.imported} Zuweisungen importiert, ${I.skipped} übersprungen.`}),t(null),s(null),i({})}catch(A){u({title:"Import fehlgeschlagen",description:A.message,variant:"destructive"})}finally{d(!1)}}},k=(A,I)=>{i(C=>({...C,[A]:I}))},N=async(A,I)=>{try{if(await w.mutateAsync({pdfSubjectName:A,subjectId:I}),r){const C=r.conflicts.filter(S=>{var $;return!(S.type==="subject_not_found"&&S.data.subjectName===A||S.type==="intelligent_mapping_conflict"&&(($=S.mappingConflict)==null?void 0:$.pdfSubjectName)===A)});s({...r,conflicts:C,summary:{...r.summary,conflicts:C.length}})}}catch(C){console.error("Failed to resolve mapping:",C)}},F=A=>(r==null?void 0:r.conflicts.filter(I=>I.type===A))||[],E=r&&(r.conflicts.length===0?!0:r.conflicts.filter(I=>{switch(I.type){case"class_not_found":return!a[`class_${I.data.className}`];case"teacher_not_found":return!a[`teacher_${I.data.teacherShortName}`];case"subject_not_found":return!a[`subject_${I.data.subjectName}`];case"intelligent_mapping_conflict":return!1;case"duplicate_assignment":return!1;default:return!0}}).length===0);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"PDF-Import"}),n.jsx("p",{className:"text-muted-foreground",children:"Stundenverteilung aus PDF-Dateien importieren"})]})}),n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(ui,{className:"h-5 w-5"}),"PDF-Datei hochladen"]}),n.jsx(fr,{children:"Wählen Sie eine PDF-Datei mit Stundenverteilungen zum Import aus."})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{htmlFor:"pdf-file",children:"PDF-Datei"}),n.jsx(ae,{id:"pdf-file",type:"file",accept:".pdf",onChange:x,"data-testid":"input-pdf-file"})]}),e&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[n.jsx(_u,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:e.name}),n.jsxs(Me,{variant:"light",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),n.jsx(ie,{onClick:p,disabled:!e||o,"data-testid":"button-preview",children:o?"Analysiere...":"Vorschau erstellen"})]})]}),r&&n.jsxs(n.Fragment,{children:[n.jsxs(ee,{children:[n.jsx(Ee,{children:n.jsx(Ae,{children:"Importvorschau"})}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:r.summary.totalLessons}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Stunden gesamt"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.summary.matchedClasses}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Klassen gefunden"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.summary.matchedTeachers}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Lehrer gefunden"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.summary.matchedSubjects}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Fächer gefunden"})]}),r.summary.autoResolvedSubjects!==void 0&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.summary.autoResolvedSubjects}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Automatisch zugeordnet"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.summary.conflicts}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Konflikte"})]})]})})]}),r.conflicts.length>0&&n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsxs(Ae,{className:"flex items-center gap-2",children:[n.jsx(Ch,{className:"h-5 w-5 text-red-500"}),"Konflikte lösen"]}),n.jsx(fr,{children:"Lösen Sie die folgenden Konflikte, bevor Sie den Import durchführen können."})]}),n.jsxs(re,{className:"space-y-4",children:[F("class_not_found").length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Klassen nicht gefunden"}),F("class_not_found").map((A,I)=>n.jsx(Xt,{className:"mb-2",children:n.jsx(Jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:A.message}),n.jsxs(He,{onValueChange:C=>k(`class_${A.data.className}`,C),children:[n.jsx(ze,{className:"w-48",children:n.jsx(Be,{placeholder:"Klasse zuordnen"})}),n.jsx($e,{children:v==null?void 0:v.map(C=>n.jsx(me,{value:C.name,children:C.name},C.id))})]})]})})},I))]}),F("teacher_not_found").length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Lehrer nicht gefunden"}),F("teacher_not_found").map((A,I)=>n.jsx(Xt,{className:"mb-2",children:n.jsx(Jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:A.message}),n.jsxs(He,{onValueChange:C=>k(`teacher_${A.data.teacherShortName}`,C),children:[n.jsx(ze,{className:"w-48",children:n.jsx(Be,{placeholder:"Lehrer zuordnen"})}),n.jsx($e,{children:y==null?void 0:y.map(C=>n.jsxs(me,{value:C.shortName,children:[C.shortName," - ",C.firstName," ",C.lastName]},C.id))})]})]})})},I))]}),F("subject_not_found").length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Fächer nicht gefunden"}),F("subject_not_found").map((A,I)=>n.jsx(Xt,{className:"mb-2",children:n.jsx(Jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:A.message}),n.jsxs(He,{onValueChange:C=>k(`subject_${A.data.subjectName}`,C),children:[n.jsx(ze,{className:"w-48",children:n.jsx(Be,{placeholder:"Fach zuordnen"})}),n.jsx($e,{children:g==null?void 0:g.map(C=>n.jsx(me,{value:C.name,children:C.shortName?`${C.shortName} - ${C.name}`:C.name},C.id))})]})]})})},I))]}),F("intelligent_mapping_conflict").length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Intelligente Fach-Zuordnung"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Diese Fächer konnten nicht automatisch zugeordnet werden. Wählen Sie die beste Option:"}),F("intelligent_mapping_conflict").map((A,I)=>{const C=A.mappingConflict;return C?n.jsxs("div",{className:"border rounded-lg p-4 mb-3",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("h4",{className:"font-medium",children:['PDF-Fach: "',C.pdfSubjectName,'"']}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Normalisiert als: ",C.normalizedName]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(J,{children:"Mögliche Zuordnungen (nach Ähnlichkeit sortiert):"}),n.jsx("div",{className:"space-y-2",children:C.possibleMatches.map((S,$)=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-muted",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:S.subject.name}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[S.reason," (",Math.round(S.confidence*100),"% Ähnlichkeit)"]})]})}),n.jsx(ie,{size:"sm",onClick:()=>N(C.pdfSubjectName,S.subject.id),disabled:w.isPending,"data-testid":`button-resolve-${C.id}-${$}`,children:"Zuordnen"})]},$))}),n.jsx(Ut,{}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{children:"Oder wählen Sie manuell:"}),n.jsxs(He,{onValueChange:S=>N(C.pdfSubjectName,S),children:[n.jsx(ze,{className:"w-64",children:n.jsx(Be,{placeholder:"Anderes Fach wählen..."})}),n.jsx($e,{children:g==null?void 0:g.map(S=>n.jsx(me,{value:S.id,children:S.shortName?`${S.shortName} - ${S.name}`:S.name},S.id))})]})]})]})]},I):null})]})]})]}),n.jsxs(ee,{children:[n.jsxs(Ee,{children:[n.jsx(Ae,{children:"Gefundene Unterrichtsstunden"}),n.jsx(fr,{children:"Überprüfen Sie die erkannten Unterrichtszuweisungen vor dem Import."})]}),n.jsx(re,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(_a,{children:[n.jsx(Pa,{children:n.jsxs(or,{children:[n.jsx(Qe,{children:"Klasse"}),n.jsx(Qe,{children:"Fach"}),n.jsx(Qe,{children:"Lehrer"}),n.jsx(Qe,{children:"Semester"}),n.jsx(Qe,{children:"Stunden"}),n.jsx(Qe,{children:"Status"})]})}),n.jsx(Ea,{children:r.lessons.map((A,I)=>{const C=r.matches[I],S=!(C!=null&&C.classId)||!(C!=null&&C.teacherId)||!(C!=null&&C.subjectId);return n.jsxs(or,{"data-testid":`row-lesson-${I}`,children:[n.jsx(Fe,{className:"font-medium",children:A.className}),n.jsx(Fe,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[A.subject,A.isSupplementary&&n.jsx(Me,{variant:"light",className:"text-xs",children:"Förder"})]})}),n.jsx(Fe,{children:A.teacherShortName}),n.jsxs(Fe,{children:[A.semester,". Halbjahr"]}),n.jsx(Fe,{children:A.hours}),n.jsx(Fe,{children:S?n.jsxs(Me,{variant:"destructive",className:"flex items-center gap-1",children:[n.jsx(Ph,{className:"h-3 w-3"}),"Konflikt"]}):n.jsxs(Me,{variant:"light",className:"flex items-center gap-1",children:[n.jsx(Vg,{className:"h-3 w-3"}),"Bereit"]})})]},I)})})]})})})]}),n.jsx(ee,{children:n.jsx(re,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Import durchführen"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:E?"Alle Konflikte gelöst. Import kann durchgeführt werden.":"Lösen Sie alle Konflikte, bevor Sie den Import durchführen können."})]}),n.jsx(ie,{onClick:b,disabled:!E||c,"data-testid":"button-apply",children:c?"Importiere...":"Import durchführen"})]})})})]})]})}function NH(){return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(gr,{}),n.jsxs("main",{className:"ml-64 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"ChatGPT Import"}),n.jsx("p",{className:"text-muted-foreground",children:"Stundenplan-Daten mit ChatGPT automatisch importieren"})]}),n.jsx(j_,{})]})]})}function SH(){const{isAuthenticated:e,isLoading:t,isAdmin:r}=sx();return t?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs(AR,{children:[n.jsx(Gt,{path:"/invitation/:token",component:a3}),e?n.jsxs(n.Fragment,{children:[n.jsx(Gt,{path:"/",component:z5}),n.jsx(Gt,{path:"/csv-import",component:$5}),n.jsx(Gt,{path:"/planstellberechnung",component:i6}),n.jsx(Gt,{path:"/lehrerplanstellen",component:o6}),n.jsx(Gt,{path:"/lehrerverwaltung",component:f8}),n.jsx(Gt,{path:"/klassenverwaltung",component:g8}),n.jsx(Gt,{path:"/faecherverwaltung",component:v8}),n.jsx(Gt,{path:"/stdv-le",component:b8}),n.jsx(Gt,{path:"/stdv-kl-optimum",component:B8}),n.jsx(Gt,{path:"/stundenplaene",component:yH}),n.jsx(Gt,{path:"/master-stundenplan",component:bH}),n.jsx(Gt,{path:"/schuljahreswechsel",component:jH}),n.jsx(Gt,{path:"/pdf-import",component:wH}),n.jsx(Gt,{path:"/chatgpt-import",component:NH}),r&&n.jsxs(n.Fragment,{children:[n.jsx(Gt,{path:"/admin/users",component:m5}),n.jsx(Gt,{path:"/admin/chatgpt",component:E5})]}),n.jsx(Gt,{component:t3})]}):n.jsx(Gt,{path:"/*?",component:r3})]})}function kH(){const{isAuthenticated:e}=sx();return n.jsxs(n.Fragment,{children:[n.jsx(SH,{}),e&&n.jsx(e3,{})]})}function CH(){return n.jsx(YR,{client:Vr,children:n.jsxs(CO,{children:[n.jsx(tD,{}),n.jsx(kH,{})]})})}KS(document.getElementById("root")).render(n.jsx(CH,{}));
